if (self.CavalryLogger) { CavalryLogger.start_js(["6X65o"]); }

__d("ActorURIConfig",[],(function a(b,c,d,e,f,g){f.exports={PARAMETER_ACTOR:"av"}}),null);
__d("MessengerPlatformInterfaceType",[],(function a(b,c,d,e,f,g){f.exports={UNKNOWN_INTERFACE:0,MESSENGER_INTERFACE:1,FB_INTERFACE:2,FB_POST_INTERFACE:3}}),null);
__d("PagesPrivateReplyConstants",[],(function a(b,c,d,e,f,g){f.exports={Status:{REPLYABLE:"replyable",ALREADY_REPLIED:"already_replied",RECIPIENT_FILTER:"recipient_filter",EXPIRED:"expired",NOT_USER_CREATED:"not_user_created",CANNOT_MESSAGE:"cannot_message",MESSAGING_DISABLED:"messaging_disabled"},Type:{COMMENT_PAGE_POST:"comment_page_post",COMMENT_WALL_POST:"comment_wall_post",COMMENT_REVIEW:"comment_review",REVIEW:"review",WALL_POST:"wall_post"}}}),null);
__d("getByPath",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j,k){var l=i;for(var m=0;m<j.length;m++){var n=j[m];if(l&&typeof l!=="string"&&n in l)l=l[n];else return k}return l}f.exports=h}),null);
__d("BlueBar",["csx","DOMQuery","Style","CSS","ge"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=document,j={};function k(o){return c("DOMQuery").scry(i,o)[0]}function l(o,p){if(j[o])return j[o];return j[o]=k(p)}function m(){i=c("ge")("blueBarDOMInspector")||document;j={}}var n={hasFixedBlueBar:function o(){var p=this.getMaybeFixedRoot();if(!p)return false;return c("CSS").matchesSelector(p,"._5rmj")||c("Style").isFixed(p)},getBar:function o(){return l("bar","div._1s4v")},getNavRoot:function o(){return l("navRoot","div._cx4")||n.getBar()},getMaybeFixedRoot:function o(){return l("maybeFixedRoot","div._26aw")},getLoggedOutRoot:function o(){return l("maybeFixedRootLoggedOut","div._1pmx")},getNewLoggedOutRoot:function o(){return l("maybeFixedRootLogin","div._53jh")}};m();f.exports=n}),null);
__d("NullBusinessID",[],(function a(b,c,d,e,f,g){f.exports="personal-business"}),null);
__d("BusinessConf",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DOMAIN:"business",WWW_DOMAIN:"www",HOSTNAME:"business.facebook.com",BIZ_ID_PARAM_NAME:"business_id",BIZ_ID_AUTOMATICALLY_ATTACHED_API_PARAM_NAME:"__business_id",LABEL_ID_PARAM_NAME:"project_id",ACCOUNT_ID_PARAM_NAME:"act",ACCOUNT_ID_PARAM_NAME_LONG:"account_id",ACCOUNT_IDS_PARAM_NAME_LONG:"account_ids",ACCOUNT_ID_CATEGORY_NAME:"cat",PAGE_ID_PARAM_NAME:"id",PAGE_ADMIN_SELECTED_KEY:"sk",PRODUCT_CATALOG_ID_PARAM_NAME:"catalog_id",PRODUCT_FEED_ID_PARAM_NAME:"feed_id",LEGACY_ADS_MANAGER_PREFIX:"/ads/manage/",CAMPAIGN_MANAGER_PREFIX:"/ads/manager/",SAM_PREFIX:"/ads/management/",AUDIENCE_INSIGHTS_PREFIX:"/ads/audience-insights/",SHOW_ADD_PRODUCT_FEED_DIALOG:"add_feed",SHOW_SPLASH_PARAM_NAME:"splash",SHOW_GRAY_MIGRATE_COMPLETE_SPLASH_PARAM_NAME:"migrate",COMMENT_ID_PARAM_NAME:"comment_id",NAV_SOURCE_PARAM_NAME:"nav_source",OFFLINE_DATASET_PARAM_NAME:"dataset_id",WHITELISTED_URI_CLASS:"bizOK",BIZ_HOME_FAVORITE_UPSELL:"biz_home_favorite_upsell",OPT_OUT_KEY:"do_not_redirect_to_biz_site",GRAY_MIGRATE_KEY:"tried_to_migrate_from_gray_account",HIDE_OPT_OUT_KEY:"hide_opt_out",HIDE_HOME_V3_SPLASH_KEY:"hide_home_v3_splash",CAKE_NUX_IS_OPTED_OUT:"1",DPA_TD_WELCOME_NUX_KEY:"dpa_td_welcome_nux",HIDE_AD_ACCOUNT_MSG_PANEL:"hide_ad_account_msg_panel",HIDE_AD_ACCOUNT_FAV_UPSELL:"hide_ad_account_fav_upsell",HIDE_PAGE_FAV_UPSELL:"hide_page_fav_upsell",DPA_TD_WELCOME_NUX_ID:3918,OPT_OUT_EXPIRE:259200})}),null);
__d("BizSiteIdentifier.brands",["BusinessConf","NullBusinessID","URI"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("NullBusinessID"),i={isBizSite:function j(){return c("URI").getRequestURI(false).getSubdomain()===c("BusinessConf").DOMAIN},getBusinessID:function j(){return c("URI").getRequestURI(false).getQueryData()[c("BusinessConf").BIZ_ID_PARAM_NAME]},createBusinessURL:function j(k,l){if(!l||l===h)return new(c("URI"))(k).setSubdomain("www");var m=new(c("URI"))(k).setSubdomain(c("BusinessConf").DOMAIN);if(i.isBizSite())m.setDomain(c("URI").getRequestURI(false).getDomain());var n=l||i.getBusinessID();m.addQueryData(c("BusinessConf").BIZ_ID_PARAM_NAME,n);return m}};f.exports=i}),null);
__d("BusinessActorUtils.brands",["UnicodeCJK"],(function a(b,c,d,e,f,g){"use strict";var h={getInitials:function i(j,k){var l=j.trim().charAt(0),m=k.trim().charAt(0),n=l+m;return!c("UnicodeCJK").hasIdeograph(n)?n.toUpperCase():m}};f.exports=h}),null);
__d("ReactCurrentOwner",[],(function a(b,c,d,e,f,g){"use strict";var h={current:null};f.exports=h}),18);
__d("fbjs/lib/emptyFunction",["emptyFunction"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("emptyFunction")}),18);
__d("emptyObject",[],(function a(b,c,d,e,f,g){"use strict";var h={};f.exports=h}),18);
__d("fbjs/lib/emptyObject",["emptyObject"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("emptyObject")}),18);
__d("fbjs/lib/invariant",["invariant"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("invariant")}),18);
__d("createWarning",["CoreWarningGK","SiteData","emptyFunction"],(function a(b,c,d,e,f,g){var h,i=c("emptyFunction").thatReturns;f.exports=i}),null);
__d("BanzaiScuba",["Banzai"],(function a(b,c,d,e,f,g){__p&&__p();var h="scuba_sample";function i(l,m,n){__p&&__p();this.fields={};this.post=function(o){__p&&__p();if(!l)return;var p=babelHelpers["extends"]({},this.fields);p._ds=l;if(m)p._lid=m;p._options=n;c("Banzai").post(h,p,o);this.post=function(){};this.posted=true};this.lid=m;return this}function j(l,m,n){if(!this.fields[l])this.fields[l]={};this.fields[l][m]=n;return this}function k(l){return function(m,n){if(this.posted)return this;return j.call(this,l,m,n)}}Object.assign(i.prototype,{post:function l(){},addNormal:k("normal"),addInteger:k("int"),addDenorm:k("denorm"),addTagset:k("tags"),addNormVector:k("normvector")});f.exports=i}),null);
__d("monitorCodeUse",["invariant","BanzaiScuba","ErrorUtils","ScriptPath","forEachObject","ReactCurrentOwner"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(p){var q=p.type;if(typeof q==="string")return q;if(typeof q==="function")return q.displayName||q.name;return null}function j(p){var q=1e3,r=[];while(p&&r.length<q){r.push(i(p)||"");if(typeof p.tag==="number")p=p["return"];else p=p._currentElement&&p._currentElement._owner}return r}function k(p){if(Array.isArray(p))return"[...]";return l(p)}function l(p){__p&&__p();if(p==null)return""+p;if(Array.isArray(p)){if(p.length>10){var q=p.slice(0,5).map(k);return"["+q.join(", ")+", ...]"}q=p.map(k);return"["+q.join(", ")+"]"}if(typeof p==="string")return"'"+p+"'";if(typeof p==="object"){var r=Object.keys(p).map(function(s){return s+"=..."});return"{"+r.join(", ")+"}"}return""+p}function m(p){return p.identifier||""}function n(p){return p.script+"  "+p.line+":"+p.column}function o(p,q){__p&&__p();var r=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];p&&!/[^a-z0-9_]/.test(p)||h(0);var s={};if(r.sampleRate!=null)s.sampleRate=r.sampleRate;var t=new(c("BanzaiScuba"))("core_monitor",null,s);t.addNormal("event",p);var u=c("ReactCurrentOwner");t.addNormVector("owners",j(u.current));t.addNormal("uri",window.location.href);t.addNormal("script_path",c("ScriptPath").getScriptPath());var v=false;if(r.forceIncludeStackTrace)v=true;if(v)try{var w=new Error(p);w.framesToPop=1;var x=c("ErrorUtils").normalizeError(w).stackFrames,y=x.map(m),z=x.map(n).join("\n");t.addNormVector("stacktrace",y);t.addDenorm("stack",z)}catch(A){}c("forEachObject")(q,function(B,C,D){if(typeof B==="string")t.addNormal(C,B);else if(typeof B==="number"&&(B|0)===B)t.addInteger(C,B);else if(Array.isArray(B))t.addNormVector(C,B.map(l));else t.addNormal(C,l(B))});t.post()}f.exports=o}),null);
__d("warning",["Bootloader","createWarning","monitorCodeUse"],(function a(b,c,d,e,f,g){var h,i=function i(){};f.exports=i}),18);
__d("fbjs/lib/warning",["warning"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("warning")}),null);
__d("lowPriorityWarning",["warning"],(function a(b,c,d,e,f,g){f.exports=c("warning")}),18);
__d("object-assign",[],(function a(b,c,d,e,f,g){f.exports=Object.assign}),18);
__d("prop-types/lib/ReactPropTypesSecret",[],(function a(b,c,d,e,f,g){"use strict";var h="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";f.exports=h}),null);
__d("prop-types/checkPropTypes",["fbjs/lib/invariant","fbjs/lib/warning","prop-types/lib/ReactPropTypesSecret"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k,l,m){}f.exports=h}),null);
__d("React-dev",["object-assign","fbjs/lib/emptyObject","fbjs/lib/invariant","fbjs/lib/warning","fbjs/lib/emptyFunction","prop-types/checkPropTypes","lowPriorityWarning","ReactCurrentOwner"],(function a(b,c,d,e,f,g){"use strict"}),null);
__d("React-prod",["object-assign","fbjs/lib/emptyObject","fbjs/lib/invariant","fbjs/lib/emptyFunction","lowPriorityWarning","ReactCurrentOwner"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="function"===typeof Symbol&&Symbol["for"],i=h?Symbol["for"]("react.element"):60103,j=h?Symbol["for"]("react.portal"):60106,k=h?Symbol["for"]("react.fragment"):60107,l=h?Symbol["for"]("react.strict_mode"):60108,m=h?Symbol["for"]("react.provider"):60109,n=h?Symbol["for"]("react.context"):60110,o=h?Symbol["for"]("react.async_mode"):60111,p="function"===typeof Symbol&&(typeof Symbol==="function"?Symbol.iterator:"@@iterator");c("lowPriorityWarning");var q={isMounted:function M(){return!1},enqueueForceUpdate:function M(){},enqueueReplaceState:function M(){},enqueueSetState:function M(){}};function r(M,N,O){this.props=M;this.context=N;this.refs=c("fbjs/lib/emptyObject");this.updater=O||q}r.prototype.isReactComponent={};r.prototype.setState=function(M,N){"object"===typeof M||"function"===typeof M||null==M||c("fbjs/lib/invariant")(0);this.updater.enqueueSetState(this,M,N,"setState")};r.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function s(){}s.prototype=r.prototype;function t(M,N,O){this.props=M;this.context=N;this.refs=c("fbjs/lib/emptyObject");this.updater=O||q}var u=t.prototype=new s();u.constructor=t;Object.assign(u,r.prototype);u.isPureReactComponent=!0;var v=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function x(M,N,O){__p&&__p();var P=void 0,Q={},R=null,S=null;if(null!=N)for(P in void 0!==N.ref&&(S=N.ref),void 0!==N.key&&(R=""+N.key),N)v.call(N,P)&&!Object.prototype.hasOwnProperty.call(w,P)&&(Q[P]=N[P]);var T=arguments.length-2;if(1===T)Q.children=O;else if(1<T){for(var U=Array(T),V=0;V<T;V++)U[V]=arguments[V+2];Q.children=U}if(M&&M.defaultProps)for(P in T=M.defaultProps,T)void 0===Q[P]&&(Q[P]=T[P]);return{$$typeof:i,type:M,key:R,ref:S,props:Q,_owner:c("ReactCurrentOwner").current}}function y(M){return"object"===typeof M&&null!==M&&M.$$typeof===i}function z(M){var N={"=":"=0",":":"=2"};return"$"+(""+M).replace(/[=:]/g,function(O){return N[O]})}var A=/\/+/g,B=[];function C(M,N,O,P){__p&&__p();if(B.length){var Q=B.pop();Q.result=M;Q.keyPrefix=N;Q.func=O;Q.context=P;Q.count=0;return Q}return{result:M,keyPrefix:N,func:O,context:P,count:0}}function D(M){M.result=null;M.keyPrefix=null;M.func=null;M.context=null;M.count=0;10>B.length&&B.push(M)}function E(M,N,O,P){__p&&__p();var Q=typeof M;if("undefined"===Q||"boolean"===Q)M=null;var R=!1;if(null===M)R=!0;else switch(Q){case"string":case"number":R=!0;break;case"object":switch(M.$$typeof){case i:case j:R=!0}}if(R)return O(P,M,""===N?"."+F(M,0):N),1;R=0;N=""===N?".":N+":";if(Array.isArray(M))for(var S=0;S<M.length;S++){Q=M[S];var T=N+F(Q,S);R+=E(Q,T,O,P)}else if(null===M||"undefined"===typeof M?T=null:(T=p&&M[p]||M["@@iterator"],T="function"===typeof T?T:null),"function"===typeof T)for(M=T.call(M),S=0;!(Q=M.next()).done;)Q=Q.value,T=N+F(Q,S++),R+=E(Q,T,O,P);else"object"===Q&&(O=""+M,c("fbjs/lib/invariant")(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===O?"object with keys {"+Object.keys(M).join(", ")+"}":O,""));return R}function F(M,N){return"object"===typeof M&&null!==M&&null!=M.key?z(M.key):N.toString(36)}function G(M,N){M.func.call(M.context,N,M.count++)}function H(M,N,O){var P=M.result,Q=M.keyPrefix;M=M.func.call(M.context,N,M.count++);Array.isArray(M)?I(M,P,O,c("fbjs/lib/emptyFunction").thatReturnsArgument):null!=M&&(y(M)&&(N=Q+(!M.key||N&&N.key===M.key?"":(""+M.key).replace(A,"$&/")+"/")+O,M={$$typeof:i,type:M.type,key:N,ref:M.ref,props:M.props,_owner:M._owner}),P.push(M))}function I(M,N,O,P,Q){var R="";null!=O&&(R=(""+O).replace(A,"$&/")+"/");N=C(N,R,P,Q);null==M||E(M,"",H,N);D(N)}var J={Children:{map:function M(N,O,P){if(null==N)return N;var Q=[];I(N,Q,null,O,P);return Q},forEach:function M(N,O,P){if(null==N)return N;O=C(null,null,O,P);null==N||E(N,"",G,O);D(O)},count:function M(N){return null==N?0:E(N,"",c("fbjs/lib/emptyFunction").thatReturnsNull,null)},toArray:function M(N){var O=[];I(N,O,null,c("fbjs/lib/emptyFunction").thatReturnsArgument);return O},only:function M(N){y(N)||c("fbjs/lib/invariant")(0);return N}},Component:r,PureComponent:t,createContext:function M(N,O){void 0===O&&(O=null);N={$$typeof:n,calculateChangedBits:O,defaultValue:N,currentValue:N,changedBits:0,Provider:null,Consumer:null};N.Provider={$$typeof:m,context:N};return N.Consumer=N},Fragment:k,StrictMode:l,unstable_AsyncMode:o,createElement:x,cloneElement:function M(N,O,P){__p&&__p();var Q=void 0,R=Object.assign({},N.props),S=N.key,T=N.ref,U=N._owner;if(null!=O){void 0!==O.ref&&(T=O.ref,U=c("ReactCurrentOwner").current);void 0!==O.key&&(S=""+O.key);var V=void 0;N.type&&N.type.defaultProps&&(V=N.type.defaultProps);for(Q in O)v.call(O,Q)&&!Object.prototype.hasOwnProperty.call(w,Q)&&(R[Q]=void 0===O[Q]&&void 0!==V?V[Q]:O[Q])}Q=arguments.length-2;if(1===Q)R.children=P;else if(1<Q){V=Array(Q);for(var W=0;W<Q;W++)V[W]=arguments[W+2];R.children=V}return{$$typeof:i,type:N.type,key:S,ref:T,props:R,_owner:U}},createFactory:function M(N){var O=x.bind(null,N);O.type=N;return O},isValidElement:y,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:c("ReactCurrentOwner"),assign:c("object-assign")}},K=(Object.freeze||Object)({"default":J}),L=K&&J||K;f.exports=L["default"]?L["default"]:L}),18);
__d("ReactFbPropTypes",["FbtResultBase","warning"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){var j=function j(l,m,n,o,p,q,r){var s=m[n];if(s instanceof c("FbtResultBase"))return null;if(l)return i.isRequired(m,n,o,p,q,r);else return i(m,n,o,p,q,r)},k=j.bind(null,false);k.isRequired=j.bind(null,true);return k}g.wrapStringTypeChecker=h}),18);
__d("create-react-class/factory",["object-assign","fbjs/lib/emptyObject","fbjs/lib/invariant","fbjs/lib/warning"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="mixins";function i(l){return l}var j;j={};function k(l,m,n){__p&&__p();var o=[],p={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},q={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},r={displayName:function G(H,I){H.displayName=I},mixins:function G(H,I){if(I)for(var J=0;J<I.length;J++)u(H,I[J])},childContextTypes:function G(H,I){H.childContextTypes=c("object-assign")({},H.childContextTypes,I)},contextTypes:function G(H,I){H.contextTypes=c("object-assign")({},H.contextTypes,I)},getDefaultProps:function G(H,I){if(H.getDefaultProps)H.getDefaultProps=x(H.getDefaultProps,I);else H.getDefaultProps=I},propTypes:function G(H,I){H.propTypes=c("object-assign")({},H.propTypes,I)},statics:function G(H,I){v(H,I)},autobind:function G(){}};function s(G,H,I){for(var J in H)Object.prototype.hasOwnProperty.call(H,J)}function t(G,H){var I=Object.prototype.hasOwnProperty.call(p,H)?p[H]:null;if(Object.prototype.hasOwnProperty.call(D,H))c("fbjs/lib/invariant")(I==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",H);if(G)c("fbjs/lib/invariant")(I==="DEFINE_MANY"||I==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",H)}function u(G,H){__p&&__p();if(!H)return;c("fbjs/lib/invariant")(typeof H!=="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object.");c("fbjs/lib/invariant")(!m(H),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var I=G.prototype,J=I.__reactAutoBindPairs;if(Object.prototype.hasOwnProperty.call(H,h))r.mixins(G,H.mixins);for(var K in H){if(!Object.prototype.hasOwnProperty.call(H,K))continue;if(K===h)continue;var L=H[K],M=Object.prototype.hasOwnProperty.call(I,K);t(M,K);if(Object.prototype.hasOwnProperty.call(r,K))r[K](G,L);else{var N=Object.prototype.hasOwnProperty.call(p,K),O=typeof L==="function",P=O&&!N&&!M&&H.autobind!==false;if(P){J.push(K,L);I[K]=L}else if(M){var Q=p[K];c("fbjs/lib/invariant")(N&&(Q==="DEFINE_MANY_MERGED"||Q==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",Q,K);if(Q==="DEFINE_MANY_MERGED")I[K]=x(I[K],L);else if(Q==="DEFINE_MANY")I[K]=y(I[K],L)}else I[K]=L}}}function v(G,H){__p&&__p();if(!H)return;for(var I in H){var J=H[I];if(!Object.prototype.hasOwnProperty.call(H,I))continue;var K=I in r;c("fbjs/lib/invariant")(!K,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',I);var L=I in G;if(L){var M=Object.prototype.hasOwnProperty.call(q,I)?q[I]:null;c("fbjs/lib/invariant")(M==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",I);G[I]=x(G[I],J);return}G[I]=J}}function w(G,H){c("fbjs/lib/invariant")(G&&H&&typeof G==="object"&&typeof H==="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var I in H)if(Object.prototype.hasOwnProperty.call(H,I)){c("fbjs/lib/invariant")(G[I]===undefined,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",I);G[I]=H[I]}return G}function x(G,H){__p&&__p();return function I(){var J=G.apply(this,arguments),K=H.apply(this,arguments);if(J==null)return K;else if(K==null)return J;var L={};w(L,J);w(L,K);return L}}function y(G,H){return function I(){G.apply(this,arguments);H.apply(this,arguments)}}function z(G,H){var I=H.bind(G);return I}function A(G){var H=G.__reactAutoBindPairs;for(var I=0;I<H.length;I+=2){var J=H[I],K=H[I+1];G[J]=z(G,K)}}var B={componentDidMount:function G(){this.__isMounted=true}},C={componentWillUnmount:function G(){this.__isMounted=false}},D={replaceState:function G(H,I){this.updater.enqueueReplaceState(this,H,I)},isMounted:function G(){return!!this.__isMounted}},E=function E(){};c("object-assign")(E.prototype,l.prototype,D);function F(G){__p&&__p();var H=i(function(J,K,L){__p&&__p();if(this.__reactAutoBindPairs.length)A(this);this.props=J;this.context=K;this.refs=c("fbjs/lib/emptyObject");this.updater=L||n;this.state=null;var M=this.getInitialState?this.getInitialState():null;c("fbjs/lib/invariant")(typeof M==="object"&&!Array.isArray(M),"%s.getInitialState(): must return an object or null",H.displayName||"ReactCompositeComponent");this.state=M});H.prototype=new E();H.prototype.constructor=H;H.prototype.__reactAutoBindPairs=[];o.forEach(u.bind(null,H));u(H,B);u(H,G);u(H,C);if(H.getDefaultProps)H.defaultProps=H.getDefaultProps();c("fbjs/lib/invariant")(H.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var I in p)if(!H.prototype[I])H.prototype[I]=null;return H}return F}f.exports=k}),18);
__d("prop-types",["prop-types/checkPropTypes","prop-types/lib/ReactPropTypesSecret","fbjs/lib/emptyFunction","fbjs/lib/invariant","fbjs/lib/warning"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j;(function(){function k(){c("fbjs/lib/invariant")(0)}k.isRequired=k;function l(){return k}j={array:k,bool:k,func:k,number:k,object:k,string:k,symbol:k,any:k,arrayOf:l,element:k,instanceOf:l,node:k,objectOf:l,oneOf:l,oneOfType:l,shape:l};j.checkPropTypes=c("fbjs/lib/emptyFunction");j.PropTypes=j})();f.exports=j}),18);
__d("React",["React-dev","React-prod","create-react-class/factory","prop-types","ReactFbPropTypes"],(function a(b,c,d,e,f,g){var h;h=c("React-prod");h.createClass=c("create-react-class/factory")(h.Component,h.isValidElement,new h.Component().updater);h.PropTypes=c("prop-types");var i=c("ReactFbPropTypes").wrapStringTypeChecker;h.PropTypes.string=i(h.PropTypes.string);f.exports=h}),18);
__d("UFIAsyncWrapper",["React","UFIConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=void 0;if(c("UFIConfig").reactFiberAsyncUFI)h=c("React").unstable_AsyncMode;else h=function(){__p&&__p();var i,j;i=babelHelpers.inherits(h,c("React").Component);j=i&&i.prototype;h.prototype.render=function(){"use strict";return this.props.children};function h(){"use strict";i.apply(this,arguments)}return h}();f.exports=h}),null);
__d("UFICommentTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:UFICommentLoggerConfig",this.$UFICommentTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:UFICommentLoggerConfig",this.$UFICommentTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$UFICommentTypedLogger1={};return this};h.prototype.updateData=function(j){this.$UFICommentTypedLogger1=babelHelpers["extends"]({},this.$UFICommentTypedLogger1,j);return this};h.prototype.setDuration=function(j){this.$UFICommentTypedLogger1.duration=j;return this};h.prototype.setEvent=function(j){this.$UFICommentTypedLogger1.event=j;return this};h.prototype.setHasPhoto=function(j){this.$UFICommentTypedLogger1.has_photo=j;return this};h.prototype.setHasSticker=function(j){this.$UFICommentTypedLogger1.has_sticker=j;return this};h.prototype.setIsReply=function(j){this.$UFICommentTypedLogger1.is_reply=j;return this};h.prototype.setRequestLength=function(j){this.$UFICommentTypedLogger1.request_length=j;return this};h.prototype.setVC=function(j){this.$UFICommentTypedLogger1.vc=j;return this};var i={duration:true,event:true,has_photo:true,has_sticker:true,is_reply:true,request_length:true,vc:true};f.exports=h}),null);
__d("UFICommentLogger",["UFICommentTypedLogger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$UFICommentLogger1={};this.$UFICommentLogger2={}}h.prototype.logNewCommentPost=function(i,j,k){this.$UFICommentLogger2[i]=babelHelpers["extends"]({timestamp:j},k);new(c("UFICommentTypedLogger"))().setEvent("new_comment_post").setHasPhoto(k.has_photo).setHasSticker(k.has_sticker).setIsReply(k.is_reply).log()};h.prototype.logNewCommentReceived=function(i,j){var k=this.$UFICommentLogger2[i];if(k){var l=0;if(j&&k.timestamp)l=j-k.timestamp;new(c("UFICommentTypedLogger"))().setEvent("new_comment_received").setDuration(l).setHasPhoto(k.has_photo).setHasSticker(k.has_sticker).setIsReply(k.is_reply).log()}delete this.$UFICommentLogger2[i]};h.prototype.logCommentFetch=function(i,j,k){var l=babelHelpers["extends"]({timestamp:j},k);if(this.$UFICommentLogger1[i]===undefined)this.$UFICommentLogger1[i]=[l];else this.$UFICommentLogger1[i].push(l);new(c("UFICommentTypedLogger"))().setEvent("fetch_comment").setIsReply(k.is_reply).setRequestLength(k.request_length).log()};h.prototype.logCommentFetchReceived=function(i,j){if(this.$UFICommentLogger1[i]){var k=this.$UFICommentLogger1[i].shift(),l=0;if(j&&k.timestamp)l=j-k.timestamp;new(c("UFICommentTypedLogger"))().setEvent("fetch_comment_received").setDuration(l).setIsReply(k.is_reply).setRequestLength(k.request_length).log();if(this.$UFICommentLogger1[i].length===0)delete this.$UFICommentLogger1[i]}};f.exports=new h()}),null);
__d("UFICommentVPVs",["Map","MarauderLogger","Set"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new(c("Map"))();function i(l,m){c("MarauderLogger").log("comment_vpv",undefined,null,"comment",m);if(!h.has(l))h.set(l,new(c("Set"))());h.get(l).add(m)}function j(l,m){if(h.has(l))return h.get(l).has(m);return false}var k={logVPV:i,hasLoggedVPV:j};f.exports=k}),null);
__d("ReactFbErrorUtils",["ErrorUtils","TimeSlice"],(function a(b,c,d,e,f,g){__p&&__p();function h(j,k,l,m,n,o,p,q,r){this._hasCaughtError=false;this._caughtError=null;var s=Array.prototype.slice.call(arguments,3),t=null,u=function(v){this._hasCaughtError=true;this._caughtError=v}.bind(this);try{c("ErrorUtils").applyWithGuard(k,l,s,u,j)}catch(v){this._hasCaughtError=true;this._caughtError=v}}g.invokeGuardedCallback=h;function i(j,k){return c("TimeSlice").guard(k,j)}g.wrapEventListener=i}),18);
__d("ReactFeatureFlags",["ReactGK"],(function a(b,c,d,e,f,g){"use strict";var h={debugRenderPhaseSideEffects:c("ReactGK").debugRenderPhaseSideEffects,debugRenderPhaseSideEffectsForStrictMode:false,enableAsyncSchedulingByDefaultInReactDOM:c("ReactGK").fiberAsyncScheduling,warnAboutDeprecatedLifecycles:false};f.exports=h}),18);
__d("LogHistory",["CircularBuffer"],(function a(b,c,d,e,f,g){__p&&__p();var h=500,i={},j=new(c("CircularBuffer"))(h);function k(s,t,event,u){var v=u[0];if(typeof v!=="string"||u.length!==1)return;j.write({date:Date.now(),level:s,category:t,event:event,args:v})}function l(s){"use strict";this.category=s}l.prototype.debug=function(event){"use strict";for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];k("debug",this.category,event,t);return this};l.prototype.log=function(event){"use strict";for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];k("log",this.category,event,t);return this};l.prototype.warn=function(event){"use strict";for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];k("warn",this.category,event,t);return this};l.prototype.error=function(event){"use strict";for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];k("error",this.category,event,t);return this};function m(s){if(!i[s])i[s]=new l(s);return i[s]}function n(){return j.read()}function o(){j.clear()}function p(s){}function q(s){return s.map(function(t){var u=/\d\d:\d\d:\d\d/.exec(new Date(t.date).toString());return[u&&u[0],t.level,t.category,t.event,t.args].join(" | ")}).join("\n")}var r={MAX:h,getInstance:m,getEntries:n,clearEntries:o,toConsole:p,formatEntries:q};f.exports=r}),18);
__d("XReactFiberErrorSymbolicateAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/react/symbolicate_error/",{error_stack:{type:"String",required:true},client_revision:{type:"Int",required:true}})}),null);
__d("ReactFiberErrorDialog",["Promise","AsyncRequest","Bootloader","LogHistory","React","ReactFiberErrorLoggerConfig","SiteData","XReactFiberErrorSymbolicateAsyncController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=false;function k(u){var v=s(u.error)[1];return new(c("AsyncRequest"))().setURI(c("XReactFiberErrorSymbolicateAsyncController").getURIBuilder().setString("error_stack",v).setInt("client_revision",c("SiteData").client_revision).getURI()).setMethod("GET").setReadOnly(true).exec().then(function(w){return w.payload.symbolicated_stack})}function l(u){__p&&__p();try{u.error.reactComponentStackForLogging=u.componentStack}catch(v){}var w=u.error,x=u.errorBoundary,y=c("LogHistory").getInstance("react_fiber_error_logger");y.error("capturedError",JSON.stringify({componentStack:u.componentStack,error:{name:w.name,message:w.message,stack:w.stack},errorBoundaryName:u.errorBoundaryName,willRetry:u.willRetry}));if(!j&&c("ReactFiberErrorLoggerConfig").enableDialog){j=true;c("Promise").all([k(u),new(c("Promise"))(function(z){c("Bootloader").loadModules(["SimpleXUIDialog","XUIButton.react","XUIDialogButton.react"],function(){for(var A=arguments.length,B=Array(A),C=0;C<A;C++)B[C]=arguments[C];return z(B)},"ReactFiberErrorDialog")})]).then(function(z){__p&&__p();var A=z[0],B=z[1],C=B[0],D=B[1],E=B[2],F=c("SiteData").push_phase==="dev";if(x&&x.hideErrorDialogIUnderstandThisWillMakeBugsHarderToFindAndFix)return;var G=c("React").createElement(q,{capturedError:u,isDevSandbox:F,symbolicated:A}),H=c("ReactFiberErrorLoggerConfig").bugNubClickTargetClassName,I=H?document.getElementsByClassName(H):null,J=void 0;if(I!==null&&I.length>0)J=c("React").createElement(D,{rel:"dialog",use:"confirm",label:"Report Error",onClick:function L(){I[I.length-1].click()}});else J=c("React").createElement(E,{action:"button",ajaxify:"/ajax/bugs/employee_report?source=bug_nub",rel:"dialog",use:"confirm",label:"Report Error"});var K=c("React").createElement("div",null,c("React").createElement(E,{action:"cancel",label:"Dismiss",use:"default"}),J);C.showEx(G,"[fb-only] Uncaught JavaScript Error",K,function L(){j=false},{width:900})}).done()}return true}g.showErrorDialog=l;var m={color:"#fa3e3e",fontSize:"0.75em",lineHeight:"normal",maxHeight:300,overflow:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word"},n={marginBottom:4},o={color:"inherit",textDecoration:"underline"};function p(u){return u.map(function(v,w){return c("React").createElement("div",{key:w,style:n},v)})}h=babelHelpers.inherits(q,c("React").Component);i=h&&h.prototype;q.prototype.render=function(){__p&&__p();var u=this.props,v=u.capturedError,w=u.isDevSandbox,x=u.symbolicated,y=v.componentStack,z=v.error,A=v.errorBoundaryName,B=t(z,x),C=y.replace(/^\n|\n$/g,"").split("\n"),D="";if(A)D=c("React").createElement("span",null,"An error occurred in one of the components on this page and was caught by ",c("React").createElement("code",null,"$",A),".");else D="An error occurred in one of the components on this page.";var E=void 0;if(w)E=c("React").createElement("p",null,D);else E=c("React").createElement(c("React").Fragment,null,c("React").createElement("p",null,D),c("React").createElement("p",null,"You can help improve the quality of Facebook by reporting this bug. When reporting, please take a moment to explain what you were doing when the bug happened."));var F=void 0;F=c("React").createElement("p",null,"For a more detailed component stack, use your sandbox or reload this page with"," ",c("React").createElement("a",{href:r(),target:"_blank"},"?js_debug=1&__DEV__=1"),".");return c("React").createElement("div",null,E,c("React").createElement("h1",null,"Call Stack"),c("React").createElement("pre",{style:m},p(B)),c("React").createElement("h1",null,"Component Stack"),c("React").createElement("pre",{style:m},p(C)),F)};function q(){h.apply(this,arguments)}function r(){var u=window.location,v=u.href,w=u.search;return""+v+(w?"&":"?")+"js_debug=1&__DEV__=1"}function s(u){var v=u.message,w=u.name,x=u.stack,y=x===undefined?"":x,z=v?w+": "+v:w;return[z,y.slice(0,z.length)===z?y.slice(z.length).replace(/^\n/,""):y]}function t(u,v){__p&&__p();var w=s(u),x=w[0],y=w[1],z=void 0;if(v)z=v.map(function(A){var B=A.name;if(A.phabricator_url)B=c("React").createElement("a",{key:"link",href:A.phabricator_url,style:o},B);return["    at ",B]});else z=y.trim().split("\n").map(function(A){return"    "+A.trim()});z.unshift(x);return z}}),18);
__d("fbjs/lib/ExecutionEnvironment",["ExecutionEnvironment"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("ExecutionEnvironment")}),18);
__d("TouchEventUtils",[],(function a(b,c,d,e,f,g){var h={extractSingleTouch:function i(j){var k=j.touches,l=j.changedTouches,m=k&&k.length>0,n=l&&l.length>0;return!m&&n?l[0]:m?k[0]:j}};f.exports=h}),null);
__d("fbjs/lib/TouchEventUtils",["TouchEventUtils"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("TouchEventUtils")}),null);
__d("camelizeStyleName",["camelize"],(function a(b,c,d,e,f,g){"use strict";var h=/^-ms-/;function i(j){return c("camelize")(j.replace(h,"ms-"))}f.exports=i}),null);
__d("fbjs/lib/camelizeStyleName",["camelizeStyleName"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("camelizeStyleName")}),null);
__d("fbjs/lib/containsNode",["containsNode"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("containsNode")}),null);
__d("fbjs/lib/getActiveElement",["getActiveElement"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("getActiveElement")}),18);
__d("hyphenateStyleName",["hyphenate"],(function a(b,c,d,e,f,g){"use strict";var h=/^ms-/;function i(j){return c("hyphenate")(j).replace(h,"-ms-")}f.exports=i}),null);
__d("fbjs/lib/hyphenateStyleName",["hyphenateStyleName"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("hyphenateStyleName")}),null);
__d("shallowEqual",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=Object.prototype.hasOwnProperty;function i(k,l){if(k===l)return k!==0||l!==0||1/k===1/l;else return k!==k&&l!==l}function j(k,l){__p&&__p();if(i(k,l))return true;if(typeof k!=="object"||k===null||typeof l!=="object"||l===null)return false;var m=Object.keys(k),n=Object.keys(l);if(m.length!==n.length)return false;for(var o=0;o<m.length;o++)if(!h.call(l,m[o])||!i(k[m[o]],l[m[o]]))return false;return true}f.exports=j}),null);
__d("fbjs/lib/shallowEqual",["shallowEqual"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("shallowEqual")}),null);
__d("ReactDOM-dev",["fbjs/lib/invariant","fbjs/lib/warning","React","fbjs/lib/ExecutionEnvironment","fbjs/lib/emptyFunction","prop-types/checkPropTypes","fbjs/lib/getActiveElement","fbjs/lib/shallowEqual","fbjs/lib/containsNode","fbjs/lib/emptyObject","fbjs/lib/hyphenateStyleName","fbjs/lib/camelizeStyleName","fbjs/lib/TouchEventUtils","ReactFeatureFlags","ReactFbErrorUtils","lowPriorityWarning","EventListener","ReactFiberErrorDialog"],(function a(b,c,d,e,f,g){"use strict"}),null);
__d("ReactDOM-prod",["fbjs/lib/invariant","React","fbjs/lib/ExecutionEnvironment","fbjs/lib/emptyFunction","fbjs/lib/getActiveElement","fbjs/lib/shallowEqual","fbjs/lib/containsNode","fbjs/lib/emptyObject","fbjs/lib/TouchEventUtils","ReactFeatureFlags","ReactFbErrorUtils","lowPriorityWarning","EventListener","ReactFiberErrorDialog"],(function ba(ca,c,da,ea,fa,ga){"use strict";__p&&__p();function ha(m){return void 0!==m._reactInternalFiber}var ia=(Object.freeze||Object)({remove:function m(n){n._reactInternalFiber=void 0},get:function m(n){return n._reactInternalFiber},has:ha,set:function m(n,o){n._reactInternalFiber=o}}),ja=c("React").__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ka="function"===typeof Symbol&&Symbol["for"],la=ka?Symbol["for"]("react.element"):60103,ma=ka?Symbol["for"]("react.call"):60104,na=ka?Symbol["for"]("react.return"):60105,oa=ka?Symbol["for"]("react.portal"):60106,pa=ka?Symbol["for"]("react.fragment"):60107,qa=ka?Symbol["for"]("react.strict_mode"):60108,ra=ka?Symbol["for"]("react.provider"):60109,sa=ka?Symbol["for"]("react.context"):60110,ta=ka?Symbol["for"]("react.async_mode"):60111,ua="function"===typeof Symbol&&(typeof Symbol==="function"?Symbol.iterator:"@@iterator");function va(m){if(null===m||"undefined"===typeof m)return null;m=ua&&m[ua]||m["@@iterator"];return"function"===typeof m?m:null}function wa(m){__p&&__p();m=m.type;if("function"===typeof m)return m.displayName||m.name;if("string"===typeof m)return m;switch(m){case pa:return"ReactFragment";case oa:return"ReactPortal";case ma:return"ReactCall";case na:return"ReactReturn"}return null}function xa(m){__p&&__p();var n=m;if(m.alternate)for(;n["return"];)n=n["return"];else{if(0!==(n.effectTag&2))return 1;for(;n["return"];)if(n=n["return"],0!==(n.effectTag&2))return 1}return 3===n.tag?2:3}function ya(m){return 2===xa(m)}function za(m){return(m=m._reactInternalFiber)?2===xa(m):!1}function Aa(m){2===xa(m)||c("fbjs/lib/invariant")(0)}function Ba(m){__p&&__p();var n=m.alternate;if(!n)return n=xa(m),c("fbjs/lib/invariant")(3!==n,"Unable to find node on an unmounted component."),1===n?null:m;for(var o=m,p=n;;){var q=o["return"],r=q?q.alternate:null;if(!q||!r)break;if(q.child===r.child){for(var s=q.child;s;){if(s===o)return Aa(q),m;if(s===p)return Aa(q),n;s=s.sibling}c("fbjs/lib/invariant")(0)}if(o["return"]!==p["return"])o=q,p=r;else{s=!1;for(var t=q.child;t;){if(t===o){s=!0;o=q;p=r;break}if(t===p){s=!0;p=q;o=r;break}t=t.sibling}if(!s){for(t=r.child;t;){if(t===o){s=!0;o=r;p=q;break}if(t===p){s=!0;p=r;o=q;break}t=t.sibling}s||c("fbjs/lib/invariant")(0)}}o.alternate===p||c("fbjs/lib/invariant")(0)}3===o.tag||c("fbjs/lib/invariant")(0);return o.stateNode.current===o?m:n}function Ca(m){__p&&__p();m=Ba(m);if(!m)return null;for(var n=m;;){if(5===n.tag||6===n.tag)return n;if(n.child)n.child["return"]=n,n=n.child;else{if(n===m)break;for(;!n.sibling;){if(!n["return"]||n["return"]===m)return null;n=n["return"]}n.sibling["return"]=n["return"];n=n.sibling}}return null}function Da(m){__p&&__p();m=Ba(m);if(!m)return null;for(var n=m;;){if(5===n.tag||6===n.tag)return n;if(n.child&&4!==n.tag)n.child["return"]=n,n=n.child;else{if(n===m)break;for(;!n.sibling;){if(!n["return"]||n["return"]===m)return null;n=n["return"]}n.sibling["return"]=n["return"];n=n.sibling}}return null}var Ea=(Object.freeze||Object)({isFiberMounted:ya,isMounted:za,findCurrentFiberUsingSlowPath:Ba,findCurrentHostFiber:Ca,findCurrentHostFiberWithNoPortals:Da}),Fa=c("ReactFeatureFlags").debugRenderPhaseSideEffects,Ga=c("ReactFeatureFlags").debugRenderPhaseSideEffectsForStrictMode,d=!1,Ha=0,Ia=null;function Ja(){Ia||(Ia=setTimeout(function(){Ia=null;d=0<Ha}))}c("React")||c("fbjs/lib/invariant")(0);var Ka=c("ReactFbErrorUtils").invokeGuardedCallback;"function"===typeof Ka||c("fbjs/lib/invariant")(0);var e={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function m(n,o,p,q,r,s,t,u,v){Ka.apply(e,arguments)},invokeGuardedCallbackAndCatchFirstError:function m(n,o,p,q,r,s,t,u,v){e.invokeGuardedCallback.apply(this,arguments);if(e.hasCaughtError()){var w=e.clearCaughtError();e._hasRethrowError||(e._hasRethrowError=!0,e._rethrowError=w)}},rethrowCaughtError:function m(){return La.apply(e,arguments)},hasCaughtError:function m(){return e._hasCaughtError},clearCaughtError:function m(){if(e._hasCaughtError){var n=e._caughtError;e._caughtError=null;e._hasCaughtError=!1;return n}c("fbjs/lib/invariant")(0)}};function La(){if(e._hasRethrowError){var m=e._rethrowError;e._rethrowError=null;e._hasRethrowError=!1;throw m}}var Ma=null,Na={};function Oa(){__p&&__p();if(Ma)for(var m in Na){var n=Na[m],o=Ma.indexOf(m);-1<o||c("fbjs/lib/invariant")(0);if(!Qa[o]){n.extractEvents||c("fbjs/lib/invariant")(0);Qa[o]=n;o=n.eventTypes;for(var p in o){var q=void 0,r=o[p],s=n,t=p;!Object.prototype.hasOwnProperty.call(Ra,t)||c("fbjs/lib/invariant")(0);Ra[t]=r;var u=r.phasedRegistrationNames;if(u){for(q in u)Object.prototype.hasOwnProperty.call(u,q)&&Pa(u[q],s,t);q=!0}else r.registrationName?(Pa(r.registrationName,s,t),q=!0):q=!1;q||c("fbjs/lib/invariant")(0)}}}}function Pa(m,n,o){!Sa[m]||c("fbjs/lib/invariant")(0);Sa[m]=n;Ta[m]=n.eventTypes[o].dependencies}var Qa=[],Ra={},Sa={},Ta={};function Ua(m){!Ma||c("fbjs/lib/invariant")(0);Ma=Array.prototype.slice.call(m);Oa()}function Va(m){var n=!1,o;for(o in m)if(Object.prototype.hasOwnProperty.call(m,o)){var p=m[o];Object.prototype.hasOwnProperty.call(Na,o)&&Na[o]===p||(c("fbjs/lib/invariant")(!Na[o],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",o),Na[o]=p,n=!0)}n&&Oa()}var Wa=(Object.freeze||Object)({enableWarningOnInjection:function m(){},plugins:Qa,eventNameDispatchConfigs:Ra,registrationNameModules:Sa,registrationNameDependencies:Ta,possibleRegistrationNames:null,injectEventPluginOrder:Ua,injectEventPluginsByName:Va}),Xa=null,Ya=null,Za=null;function $a(m){return"topMouseUp"===m||"topTouchEnd"===m||"topTouchCancel"===m}function ab(m){return"topMouseDown"===m||"topTouchStart"===m}function bb(event,m,n,o){m=event.type||"unknown-event";event.currentTarget=Za(o);e.invokeGuardedCallbackAndCatchFirstError(m,n,void 0,event);event.currentTarget=null}function cb(m,n){__p&&__p();null!=n||c("fbjs/lib/invariant")(0);if(null==m)return n;if(Array.isArray(m)){if(Array.isArray(n))return m.push.apply(m,n),m;m.push(n);return m}return Array.isArray(n)?[m].concat(n):[m,n]}function db(m,n,o){Array.isArray(m)?m.forEach(n,o):m&&n.call(o,m)}var eb=null;function fb(event,m){__p&&__p();if(event){var n=event._dispatchListeners,o=event._dispatchInstances;if(Array.isArray(n))for(var p=0;p<n.length&&!event.isPropagationStopped();p++)bb(event,m,n[p],o[p]);else n&&bb(event,m,n,o);event._dispatchListeners=null;event._dispatchInstances=null;event.isPersistent()||event.constructor.release(event)}}function gb(m){return fb(m,!0)}function hb(m){return fb(m,!1)}var ib={injectEventPluginOrder:Ua,injectEventPluginsByName:Va};function jb(m,n){__p&&__p();var o=m.stateNode;if(!o)return null;var p=Xa(o);if(!p)return null;o=p[n];a:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(p=!p.disabled)||(m=m.type,p=!("button"===m||"input"===m||"select"===m||"textarea"===m));m=!p;break a;default:m=!1}if(m)return null;!o||"function"===typeof o||c("fbjs/lib/invariant")(0);return o}function kb(m,n){null!==m&&(eb=cb(eb,m));m=eb;eb=null;m&&(n?db(m,gb):db(m,hb),c("fbjs/lib/invariant")(!eb,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."),e.rethrowCaughtError())}function lb(m,n,o,p){for(var q=null,r=0;r<Qa.length;r++){var s=Qa[r];s&&(s=s.extractEvents(m,n,o,p))&&(q=cb(q,s))}kb(q,!1)}var mb=(Object.freeze||Object)({injection:ib,getListener:jb,runEventsInBatch:kb,runExtractedEventsInBatch:lb}),nb=Math.random().toString(36).slice(2),ob="__reactInternalInstance$"+nb,pb="__reactEventHandlers$"+nb;function qb(m){if(m[ob])return m[ob];for(;!m[ob];)if(m.parentNode)m=m.parentNode;else return null;m=m[ob];return 5===m.tag||6===m.tag?m:null}function rb(m){if(5===m.tag||6===m.tag)return m.stateNode;c("fbjs/lib/invariant")(0)}function sb(m){return m[pb]||null}var tb=(Object.freeze||Object)({precacheFiberNode:function m(n,o){o[ob]=n},getClosestInstanceFromNode:qb,getInstanceFromNode:function Ya(m){m=m[ob];return!m||5!==m.tag&&6!==m.tag?null:m},getNodeFromInstance:rb,getFiberCurrentPropsFromNode:sb,updateFiberProps:function m(n,o){n[pb]=o}});function ub(m){do m=m["return"];while(m&&5!==m.tag);return m?m:null}function vb(m,n,o){for(var p=[];m;)p.push(m),m=ub(m);for(m=p.length;0<m--;)n(p[m],"captured",o);for(m=0;m<p.length;m++)n(p[m],"bubbled",o)}function wb(m,n,event){if(n=jb(m,event.dispatchConfig.phasedRegistrationNames[n]))event._dispatchListeners=cb(event._dispatchListeners,n),event._dispatchInstances=cb(event._dispatchInstances,m)}function xb(event){event&&event.dispatchConfig.phasedRegistrationNames&&vb(event._targetInst,wb,event)}function yb(event){if(event&&event.dispatchConfig.phasedRegistrationNames){var m=event._targetInst;m=m?ub(m):null;vb(m,wb,event)}}function zb(m,n,event){m&&event&&event.dispatchConfig.registrationName&&(n=jb(m,event.dispatchConfig.registrationName))&&(event._dispatchListeners=cb(event._dispatchListeners,n),event._dispatchInstances=cb(event._dispatchInstances,m))}function Ab(event){event&&event.dispatchConfig.registrationName&&zb(event._targetInst,null,event)}function Bb(m){db(m,xb)}function Cb(m,n,o,p){__p&&__p();if(o&&p)a:{var q=o;for(var r=p,s=0,t=q;t;t=ub(t))s++;t=0;for(var u=r;u;u=ub(u))t++;for(;0<s-t;)q=ub(q),s--;for(;0<t-s;)r=ub(r),t--;for(;s--;){if(q===r||q===r.alternate)break a;q=ub(q);r=ub(r)}q=null}else q=null;r=q;for(q=[];o&&o!==r;){s=o.alternate;if(null!==s&&s===r)break;q.push(o);o=ub(o)}for(o=[];p&&p!==r;){s=p.alternate;if(null!==s&&s===r)break;o.push(p);p=ub(p)}for(p=0;p<q.length;p++)zb(q[p],"bubbled",m);for(m=o.length;0<m--;)zb(o[m],"captured",n)}var Db=(Object.freeze||Object)({accumulateTwoPhaseDispatches:Bb,accumulateTwoPhaseDispatchesSkipTarget:function m(n){db(n,yb)},accumulateEnterLeaveDispatches:Cb,accumulateDirectDispatches:function m(n){db(n,Ab)}}),Eb=null;function Fb(){!Eb&&c("fbjs/lib/ExecutionEnvironment").canUseDOM&&(Eb="textContent"in document.documentElement?"textContent":"innerText");return Eb}var f={_root:null,_startText:null,_fallbackText:null};function Gb(){__p&&__p();if(f._fallbackText)return f._fallbackText;var m,n=f._startText,o=n.length,p,q=Hb(),r=q.length;for(m=0;m<o&&n[m]===q[m];m++);var s=o-m;for(p=1;p<=s&&n[o-p]===q[r-p];p++);f._fallbackText=q.slice(m,1<p?1-p:void 0);return f._fallbackText}function Hb(){return"value"in f._root?f._root.value:f._root[Fb()]}var Ib="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),Jb={type:null,target:null,currentTarget:c("fbjs/lib/emptyFunction").thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function m(event){return event.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function Kb(m,n,o,p){this.dispatchConfig=m;this._targetInst=n;this.nativeEvent=o;m=this.constructor.Interface;for(var q in m)Object.prototype.hasOwnProperty.call(m,q)&&((n=m[q])?this[q]=n(o):"target"===q?this.target=p:this[q]=o[q]);this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?c("fbjs/lib/emptyFunction").thatReturnsTrue:c("fbjs/lib/emptyFunction").thatReturnsFalse;this.isPropagationStopped=c("fbjs/lib/emptyFunction").thatReturnsFalse;return this}Object.assign(Kb.prototype,{preventDefault:function m(){this.defaultPrevented=!0;var event=this.nativeEvent;event&&(event.preventDefault?event.preventDefault():"unknown"!==typeof event.returnValue&&(event.returnValue=!1),this.isDefaultPrevented=c("fbjs/lib/emptyFunction").thatReturnsTrue)},stopPropagation:function m(){var event=this.nativeEvent;event&&(event.stopPropagation?event.stopPropagation():"unknown"!==typeof event.cancelBubble&&(event.cancelBubble=!0),this.isPropagationStopped=c("fbjs/lib/emptyFunction").thatReturnsTrue)},persist:function m(){this.isPersistent=c("fbjs/lib/emptyFunction").thatReturnsTrue},isPersistent:c("fbjs/lib/emptyFunction").thatReturnsFalse,destructor:function m(){var n=this.constructor.Interface,o;for(o in n)this[o]=null;for(n=0;n<Ib.length;n++)this[Ib[n]]=null}});Kb.Interface=Jb;Kb.extend=function(m){__p&&__p();function n(){}function o(){return p.apply(this,arguments)}var p=this;n.prototype=p.prototype;var q=new n();Object.assign(q,o.prototype);o.prototype=q;o.prototype.constructor=o;o.Interface=Object.assign({},p.Interface,m);o.extend=p.extend;Nb(o);return o};Nb(Kb);function Lb(m,n,o,p){if(this.eventPool.length){var q=this.eventPool.pop();this.call(q,m,n,o,p);return q}return new this(m,n,o,p)}function Mb(event){event instanceof this||c("fbjs/lib/invariant")(0);event.destructor();10>this.eventPool.length&&this.eventPool.push(event)}function Nb(m){m.eventPool=[];m.getPooled=Lb;m.release=Mb}var Ob=Kb.extend({data:null}),Pb=Kb.extend({data:null}),Qb=[9,13,27,32],Rb=c("fbjs/lib/ExecutionEnvironment").canUseDOM&&"CompositionEvent"in window,Sb=null;c("fbjs/lib/ExecutionEnvironment").canUseDOM&&"documentMode"in document&&(Sb=document.documentMode);var Tb=c("fbjs/lib/ExecutionEnvironment").canUseDOM&&"TextEvent"in window&&!Sb,Ub=c("fbjs/lib/ExecutionEnvironment").canUseDOM&&(!Rb||Sb&&8<Sb&&11>=Sb),Vb=String.fromCharCode(32),Wb={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Xb=!1;function Yb(m,n){switch(m){case"topKeyUp":return-1!==Qb.indexOf(n.keyCode);case"topKeyDown":return 229!==n.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function Zb(m){m=m.detail;return"object"===typeof m&&"data"in m?m.data:null}var $b=!1;function ac(m,n){switch(m){case"topCompositionEnd":return Zb(n);case"topKeyPress":if(32!==n.which)return null;Xb=!0;return Vb;case"topTextInput":return m=n.data,m===Vb&&Xb?null:m;default:return null}}function bc(m,n){__p&&__p();if($b)return"topCompositionEnd"===m||!Rb&&Yb(m,n)?(m=Gb(),f._root=null,f._startText=null,f._fallbackText=null,$b=!1,m):null;switch(m){case"topPaste":return null;case"topKeyPress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n["char"]&&1<n["char"].length)return n["char"];if(n.which)return String.fromCharCode(n.which)}return null;case"topCompositionEnd":return Ub?null:n.data;default:return null}}var cc={eventTypes:Wb,extractEvents:function m(n,o,p,q){__p&&__p();var r=void 0,s=void 0;if(Rb)b:{switch(n){case"topCompositionStart":r=Wb.compositionStart;break b;case"topCompositionEnd":r=Wb.compositionEnd;break b;case"topCompositionUpdate":r=Wb.compositionUpdate;break b}r=void 0}else $b?Yb(n,p)&&(r=Wb.compositionEnd):"topKeyDown"===n&&229===p.keyCode&&(r=Wb.compositionStart);r?(Ub&&($b||r!==Wb.compositionStart?r===Wb.compositionEnd&&$b&&(s=Gb()):(f._root=q,f._startText=Hb(),$b=!0)),r=Ob.getPooled(r,o,p,q),s?r.data=s:(s=Zb(p),null!==s&&(r.data=s)),Bb(r),s=r):s=null;(n=Tb?ac(n,p):bc(n,p))?(o=Pb.getPooled(Wb.beforeInput,o,p,q),o.data=n,Bb(o)):o=null;return null===s?o:null===o?s:[s,o]}},dc=null,ec=null,fc=null;function gc(m){if(m=Ya(m)){dc&&"function"===typeof dc.restoreControlledState||c("fbjs/lib/invariant")(0);var n=Xa(m.stateNode);dc.restoreControlledState(m.stateNode,m.type,n)}}var hc={injectFiberControlledHostComponent:function m(n){dc=n}};function ic(m){ec?fc?fc.push(m):fc=[m]:ec=m}function jc(){return null!==ec||null!==fc}function kc(){if(ec){var m=ec,n=fc;fc=ec=null;gc(m);if(n)for(m=0;m<n.length;m++)gc(n[m])}}var lc=(Object.freeze||Object)({injection:hc,enqueueStateRestore:ic,needsStateRestore:jc,restoreStateIfNeeded:kc});function mc(m,n){return m(n)}function nc(m,n,o){return m(n,o)}function oc(){}var pc=!1;function qc(m,n){if(pc)return m(n);pc=!0;try{return mc(m,n)}finally{pc=!1,jc()&&(oc(),kc())}}var rc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sc(m){var n=m&&m.nodeName&&m.nodeName.toLowerCase();return"input"===n?!!rc[m.type]:"textarea"===n?!0:!1}function tc(m){m=m.target||window;m.correspondingUseElement&&(m=m.correspondingUseElement);return 3===m.nodeType?m.parentNode:m}function uc(m,n){if(!c("fbjs/lib/ExecutionEnvironment").canUseDOM||n&&!("addEventListener"in document))return!1;m="on"+m;n=m in document;n||(n=document.createElement("div"),n.setAttribute(m,"return;"),n="function"===typeof n[m]);return n}function vc(m){var n=m.type;return(m=m.nodeName)&&"input"===m.toLowerCase()&&("checkbox"===n||"radio"===n)}function wc(m){__p&&__p();var n=vc(m)?"checked":"value",o=Object.getOwnPropertyDescriptor(m.constructor.prototype,n),p=""+m[n];if(!Object.prototype.hasOwnProperty.call(m,n)&&"function"===typeof o.get&&"function"===typeof o.set)return Object.defineProperty(m,n,{configurable:!0,get:function q(){return o.get.call(this)},set:function q(r){p=""+r;o.set.call(this,r)}}),Object.defineProperty(m,n,{enumerable:o.enumerable}),{getValue:function q(){return p},setValue:function q(r){p=""+r},stopTracking:function q(){m._valueTracker=null;delete m[n]}}}function xc(m){m._valueTracker||(m._valueTracker=wc(m))}function yc(m){if(!m)return!1;var n=m._valueTracker;if(!n)return!0;var o=n.getValue(),p="";m&&(p=vc(m)?m.checked?"true":"false":m.value);m=p;return m!==o?(n.setValue(m),!0):!1}var zc=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ac={},Bc={};function Cc(m){if(Object.prototype.hasOwnProperty.call(Bc,m))return!0;if(Object.prototype.hasOwnProperty.call(Ac,m))return!1;if(zc.test(m))return Bc[m]=!0;Ac[m]=!0;return!1}function Dc(m,n,o,p){__p&&__p();if(null!==o&&0===o.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":if(p)return!1;if(null!==o)return!o.acceptsBooleans;m=m.toLowerCase().slice(0,5);return"data-"!==m&&"aria-"!==m;default:return!1}}function Ec(m,n,o,p){if(null===n||"undefined"===typeof n||Dc(m,n,o,p))return!0;if(null!==o)switch(o.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Fc(m,n,o,p,q){this.acceptsBooleans=2===n||3===n||4===n;this.attributeName=p;this.attributeNamespace=q;this.mustUseProperty=o;this.propertyName=m;this.type=n}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(m){g[m]=new Fc(m,0,!1,m,null)});new Map([["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]]).forEach(function(m,n){g[n]=new Fc(n,1,!1,m,null)});["contentEditable","draggable","spellCheck","value"].forEach(function(m){g[m]=new Fc(m,2,!1,m.toLowerCase(),null)});["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(m){g[m]=new Fc(m,2,!1,m,null)});"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(m){g[m]=new Fc(m,3,!1,m.toLowerCase(),null)});["checked","multiple","muted","selected"].forEach(function(m){g[m]=new Fc(m,3,!0,m.toLowerCase(),null)});["capture","download"].forEach(function(m){g[m]=new Fc(m,4,!1,m.toLowerCase(),null)});["cols","rows","size","span"].forEach(function(m){g[m]=new Fc(m,6,!1,m.toLowerCase(),null)});["rowSpan","start"].forEach(function(m){g[m]=new Fc(m,5,!1,m.toLowerCase(),null)});var Gc=/[\-\:]([a-z])/g;function Hc(m){return m[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(m){var n=m.replace(Gc,Hc);g[n]=new Fc(n,1,!1,m,null)});"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(m){var n=m.replace(Gc,Hc);g[n]=new Fc(n,1,!1,m,"http://www.w3.org/1999/xlink")});["xml:base","xml:lang","xml:space"].forEach(function(m){var n=m.replace(Gc,Hc);g[n]=new Fc(n,1,!1,m,"http://www.w3.org/XML/1998/namespace")});g.tabIndex=new Fc("tabIndex",1,!1,"tabindex",null);function Ic(m,n,o,p){var q=Object.prototype.hasOwnProperty.call(g,n)?g[n]:null,r=null!==q?0===q.type:p?!1:!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1]?!1:!0;r||(Ec(n,o,q,p)&&(o=null),p||null===q?Cc(n)&&(null===o?m.removeAttribute(n):m.setAttribute(n,""+o)):q.mustUseProperty?m[q.propertyName]=null===o?3===q.type?!1:"":o:(n=q.attributeName,p=q.attributeNamespace,null===o?m.removeAttribute(n):(q=q.type,o=3===q||4===q&&!0===o?"":""+o,p?m.setAttributeNS(p,n,o):m.setAttribute(n,o))))}function Jc(m,n){var o=n.checked;return Object.assign({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=o?o:m._wrapperState.initialChecked})}function Kc(m,n){var o=null==n.defaultValue?"":n.defaultValue,p=null!=n.checked?n.checked:n.defaultChecked;o=Pc(null!=n.value?n.value:o);m._wrapperState={initialChecked:p,initialValue:o,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function Lc(m,n){n=n.checked;null!=n&&Ic(m,"checked",n,!1)}function Mc(m,n){__p&&__p();Lc(m,n);var o=Pc(n.value);if(null!=o)if("number"===n.type){if(0===o&&""===m.value||m.value!=o)m.value=""+o}else m.value!==""+o&&(m.value=""+o);Object.prototype.hasOwnProperty.call(n,"value")?Oc(m,n.type,o):Object.prototype.hasOwnProperty.call(n,"defaultValue")&&Oc(m,n.type,Pc(n.defaultValue));null==n.checked&&null!=n.defaultChecked&&(m.defaultChecked=!!n.defaultChecked)}function Nc(m,n){if(Object.prototype.hasOwnProperty.call(n,"value")||Object.prototype.hasOwnProperty.call(n,"defaultValue"))""===m.value&&(m.value=""+m._wrapperState.initialValue),m.defaultValue=""+m._wrapperState.initialValue;n=m.name;""!==n&&(m.name="");m.defaultChecked=!m.defaultChecked;m.defaultChecked=!m.defaultChecked;""!==n&&(m.name=n)}function Oc(m,n,o){if("number"!==n||m.ownerDocument.activeElement!==m)null==o?m.defaultValue=""+m._wrapperState.initialValue:m.defaultValue!==""+o&&(m.defaultValue=""+o)}function Pc(m){switch(typeof m){case"boolean":case"number":case"object":case"string":case"undefined":return m;default:return""}}var Qc={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}};function Rc(m,n,o){m=Kb.getPooled(Qc.change,m,n,o);m.type="change";ic(o);Bb(m);return m}var Sc=null,Tc=null;function Uc(event){kb(event,!1)}function Vc(m){var n=rb(m);if(yc(n))return m}function Wc(m,n){if("topChange"===m)return n}var Xc=!1;c("fbjs/lib/ExecutionEnvironment").canUseDOM&&(Xc=uc("input")&&(!document.documentMode||9<document.documentMode));function Yc(){Sc&&(Sc.detachEvent("onpropertychange",Zc),Tc=Sc=null)}function Zc(m){"value"===m.propertyName&&Vc(Tc)&&(m=Rc(Tc,m,tc(m)),qc(Uc,m))}function $c(m,n,o){"topFocus"===m?(Yc(),Sc=n,Tc=o,Sc.attachEvent("onpropertychange",Zc)):"topBlur"===m&&Yc()}function ad(m){if("topSelectionChange"===m||"topKeyUp"===m||"topKeyDown"===m)return Vc(Tc)}function bd(m,n){if("topClick"===m)return Vc(n)}function cd(m,n){if("topInput"===m||"topChange"===m)return Vc(n)}var dd={eventTypes:Qc,_isInputEventSupported:Xc,extractEvents:function m(n,o,p,q){var r=o?rb(o):window,s=void 0,t=void 0,u=r.nodeName&&r.nodeName.toLowerCase();"select"===u||"input"===u&&"file"===r.type?s=Wc:sc(r)?Xc?s=cd:(s=ad,t=$c):(u=r.nodeName,!u||"input"!==u.toLowerCase()||"checkbox"!==r.type&&"radio"!==r.type||(s=bd));if(s&&(s=s(n,o)))return Rc(s,p,q);t&&t(n,r,o);"topBlur"===n&&null!=o&&(n=o._wrapperState||r._wrapperState)&&n.controlled&&"number"===r.type&&Oc(r,"number",r.value)}},ed=Kb.extend({view:null,detail:null}),fd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gd(m){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(m):(m=fd[m])?!!n[m]:!1}function hd(){return gd}var id=ed.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:hd,button:null,buttons:null,relatedTarget:function m(event){return event.relatedTarget||(event.fromElement===event.srcElement?event.toElement:event.fromElement)}}),jd={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},kd={eventTypes:jd,extractEvents:function m(n,o,p,q){__p&&__p();if("topMouseOver"===n&&(p.relatedTarget||p.fromElement)||"topMouseOut"!==n&&"topMouseOver"!==n)return null;var r=q.window===q?q:(r=q.ownerDocument)?r.defaultView||r.parentWindow:window;"topMouseOut"===n?(n=o,o=(o=p.relatedTarget||p.toElement)?qb(o):null):n=null;if(n===o)return null;var s=null==n?r:rb(n);r=null==o?r:rb(o);var t=id.getPooled(jd.mouseLeave,n,p,q);t.type="mouseleave";t.target=s;t.relatedTarget=r;p=id.getPooled(jd.mouseEnter,o,p,q);p.type="mouseenter";p.target=r;p.relatedTarget=s;Cb(t,p,n,o);return[t,p]}},ld=Kb.extend({animationName:null,elapsedTime:null,pseudoElement:null}),md=Kb.extend({clipboardData:function m(event){return"clipboardData"in event?event.clipboardData:window.clipboardData}}),nd=ed.extend({relatedTarget:null});function od(m){var n=m.keyCode;"charCode"in m?(m=m.charCode,0===m&&13===n&&(m=13)):m=n;10===m&&(m=13);return 32<=m||13===m?m:0}var pd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rd=ed.extend({key:function m(n){if(n.key){var m=pd[n.key]||n.key;if("Unidentified"!==m)return m}return"keypress"===n.type?(n=od(n),13===n?"Enter":String.fromCharCode(n)):"keydown"===n.type||"keyup"===n.type?qd[n.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:hd,charCode:function m(event){return"keypress"===event.type?od(event):0},keyCode:function m(event){return"keydown"===event.type||"keyup"===event.type?event.keyCode:0},which:function m(event){return"keypress"===event.type?od(event):"keydown"===event.type||"keyup"===event.type?event.keyCode:0}}),sd=id.extend({dataTransfer:null}),td=ed.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:hd}),ud=Kb.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),vd=id.extend({deltaX:function m(event){return"deltaX"in event?event.deltaX:"wheelDeltaX"in event?-event.wheelDeltaX:0},deltaY:function m(event){return"deltaY"in event?event.deltaY:"wheelDeltaY"in event?-event.wheelDeltaY:"wheelDelta"in event?-event.wheelDelta:0},deltaZ:null,deltaMode:null}),wd={},xd={};function yd(event,m){var n=event[0].toUpperCase()+event.slice(1),o="on"+n;n="top"+n;m={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[n],isInteractive:m};wd[event]=m;xd[n]=m}"blur cancel click close contextMenu copy cut doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play rateChange reset seeked submit touchCancel touchEnd touchStart volumeChange".split(" ").forEach(function(m){yd(m,!0)});"abort animationEnd animationIteration animationStart canPlay canPlayThrough drag dragEnter dragExit dragLeave dragOver durationChange emptied encrypted ended error load loadedData loadedMetadata loadStart mouseMove mouseOut mouseOver playing progress scroll seeking stalled suspend timeUpdate toggle touchMove transitionEnd waiting wheel".split(" ").forEach(function(m){yd(m,!1)});var zd={eventTypes:wd,isInteractiveTopLevelEventType:function Ad(m){m=xd[m];return void 0!==m&&!0===m.isInteractive},extractEvents:function m(n,o,p,q){__p&&__p();var r=xd[n];if(!r)return null;switch(n){case"topKeyPress":if(0===od(p))return null;case"topKeyDown":case"topKeyUp":n=rd;break;case"topBlur":case"topFocus":n=nd;break;case"topClick":if(2===p.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":n=id;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":n=sd;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":n=td;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":n=ld;break;case"topTransitionEnd":n=ud;break;case"topScroll":n=ed;break;case"topWheel":n=vd;break;case"topCopy":case"topCut":case"topPaste":n=md;break;default:n=Kb}o=n.getPooled(r,o,p,q);Bb(o);return o}},Ad=zd.isInteractiveTopLevelEventType,Bd=[];function Cd(m){__p&&__p();var n=m.targetInst;do{if(!n){m.ancestors.push(n);break}var o;for(o=n;o["return"];)o=o["return"];o=3!==o.tag?null:o.stateNode.containerInfo;if(!o)break;m.ancestors.push(n);n=qb(o)}while(n);for(o=0;o<m.ancestors.length;o++)n=m.ancestors[o],lb(m.topLevelType,n,m.nativeEvent,tc(m.nativeEvent))}var Dd=!0;function Ed(m){Dd=!!m}function Fd(){return Dd}function h(m,n,o){if(!o)return null;m=(Ad(m)?Hd:Id).bind(null,m);c("EventListener").listen(o,n,m)}function Gd(m,n,o){if(!o)return null;m=(Ad(m)?Hd:Id).bind(null,m);c("EventListener").capture(o,n,m)}function Hd(m,n){nc(Id,m,n)}function Id(m,n){__p&&__p();if(Dd){var o=tc(n);o=qb(o);null===o||"number"!==typeof o.tag||ya(o)||(o=null);if(Bd.length){var p=Bd.pop();p.topLevelType=m;p.nativeEvent=n;p.targetInst=o;m=p}else m={topLevelType:m,nativeEvent:n,targetInst:o,ancestors:[]};try{qc(Cd,m)}finally{m.topLevelType=null,m.nativeEvent=null,m.targetInst=null,m.ancestors.length=0,10>Bd.length&&Bd.push(m)}}}var Jd=(Object.freeze||Object)({_enabled:Dd,setEnabled:Ed,isEnabled:Fd,trapBubbledEvent:h,trapCapturedEvent:Gd,dispatchEvent:Id});function Kd(m,n){var kg={};kg[m.toLowerCase()]=n.toLowerCase();kg["Webkit"+m]="webkit"+n;kg["Moz"+m]="moz"+n;kg["ms"+m]="MS"+n;kg["O"+m]="o"+n.toLowerCase();return kg}var Ld={animationend:Kd("Animation","AnimationEnd"),animationiteration:Kd("Animation","AnimationIteration"),animationstart:Kd("Animation","AnimationStart"),transitionend:Kd("Transition","TransitionEnd")},Md={},Nd={};c("fbjs/lib/ExecutionEnvironment").canUseDOM&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete Ld.animationend.animation,delete Ld.animationiteration.animation,delete Ld.animationstart.animation),"TransitionEvent"in window||delete Ld.transitionend.transition);function Od(m){if(Md[m])return Md[m];if(!Ld[m])return m;var n=Ld[m],o;for(o in n)if(Object.prototype.hasOwnProperty.call(n,o)&&o in Nd)return Md[m]=n[o];return m}var Pd={topAnimationEnd:Od("animationend"),topAnimationIteration:Od("animationiteration"),topAnimationStart:Od("animationstart"),topBlur:"blur",topCancel:"cancel",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoad:"load",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:Od("transitionend"),topWheel:"wheel"},Qd={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Rd={},Sd=0,Td="_reactListenersID"+(""+Math.random()).slice(2);function Ud(m){Object.prototype.hasOwnProperty.call(m,Td)||(m[Td]=Sd++,Rd[m[Td]]={});return Rd[m[Td]]}function Vd(m,n){var o=Ud(n);m=Ta[m];for(var p=0;p<m.length;p++){var q=m[p];Object.prototype.hasOwnProperty.call(o,q)&&o[q]||("topScroll"===q?Gd("topScroll","scroll",n):"topFocus"===q||"topBlur"===q?(Gd("topFocus","focus",n),Gd("topBlur","blur",n),o.topBlur=!0,o.topFocus=!0):"topCancel"===q?(uc("cancel",!0)&&Gd("topCancel","cancel",n),o.topCancel=!0):"topClose"===q?(uc("close",!0)&&Gd("topClose","close",n),o.topClose=!0):Object.prototype.hasOwnProperty.call(Pd,q)&&h(q,Pd[q],n),o[q]=!0)}}function Wd(m,n){n=Ud(n);m=Ta[m];for(var o=0;o<m.length;o++){var p=m[o];if(!Object.prototype.hasOwnProperty.call(n,p)||!n[p])return!1}return!0}var Xd=(Object.freeze||Object)({listenTo:Vd,isListeningToAllDependencies:Wd,setEnabled:Ed,isEnabled:Fd,trapBubbledEvent:h,trapCapturedEvent:Gd});function Yd(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function Zd(m,n){__p&&__p();var o=Yd(m);m=0;for(var p;o;){if(3===o.nodeType){p=m+o.textContent.length;if(m<=n&&p>=n)return{node:o,offset:n-m};m=p}a:{for(;o;){if(o.nextSibling){o=o.nextSibling;break a}o=o.parentNode}o=void 0}o=Yd(o)}}function $d(m){var n=m&&m.nodeName&&m.nodeName.toLowerCase();return n&&("input"===n&&"text"===m.type||"textarea"===n||"true"===m.contentEditable)}var ae=c("fbjs/lib/ExecutionEnvironment").canUseDOM&&"documentMode"in document&&11>=document.documentMode,be={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},ce=null,de=null,ee=null,fe=!1;function ge(m,n){if(fe||null==ce||ce!==c("fbjs/lib/getActiveElement")())return null;var o=ce;"selectionStart"in o&&$d(o)?o={start:o.selectionStart,end:o.selectionEnd}:window.getSelection?(o=window.getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}):o=void 0;return ee&&c("fbjs/lib/shallowEqual")(ee,o)?null:(ee=o,m=Kb.getPooled(be.select,de,m,n),m.type="select",m.target=ce,Bb(m),m)}var he={eventTypes:be,extractEvents:function m(n,o,p,q){__p&&__p();var r=q.window===q?q.document:9===q.nodeType?q:q.ownerDocument;if(!r||!Wd("onSelect",r))return null;r=o?rb(o):window;switch(n){case"topFocus":if(sc(r)||"true"===r.contentEditable)ce=r,de=o,ee=null;break;case"topBlur":ee=de=ce=null;break;case"topMouseDown":fe=!0;break;case"topContextMenu":case"topMouseUp":return fe=!1,ge(p,q);case"topSelectionChange":if(ae)break;case"topKeyDown":case"topKeyUp":return ge(p,q)}return null}};ib.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));Xa=tb.getFiberCurrentPropsFromNode;Ya=tb.getInstanceFromNode;Za=tb.getNodeFromInstance;ib.injectEventPluginsByName({SimpleEventPlugin:zd,EnterLeaveEventPlugin:kd,ChangeEventPlugin:dd,SelectEventPlugin:he,BeforeInputEventPlugin:cc});var ie=[],je=-1;function ke(m){0>je||(m.current=ie[je],ie[je]=null,je--)}function le(m,n){je++;ie[je]=m.current;m.current=n}var i="undefined"!==typeof performance&&"function"===typeof performance.mark&&"function"===typeof performance.clearMarks&&"function"===typeof performance.measure&&"function"===typeof performance.clearMeasures,me=null,ne=null,oe=null,pe=!1,qe=!1,re=!1,se=0,te=0,ue=!1,ve=new Set();function we(m){performance.mark("\u269b "+m)}function xe(m,n,o){n="\u269b "+n;m=""+(o?"\u26d4 ":"\u269b ")+m+(o?" Warning: "+o:"");try{performance.measure(m,n)}catch(p){}performance.clearMarks(n);performance.clearMeasures(m)}function ye(m,za,n){return null===n?m+" ["+(za?"update":"mount")+"]":m+"."+n}function ze(m,n){var o=wa(m)||"Unknown",p=m._debugID;m=ye(o,null!==m.alternate,n);if(pe&&ve.has(m))return!1;ve.add(m);we(m+" (#"+p+")");return!0}function Ae(m,n){var o=wa(m)||"Unknown",p=m._debugID;m=ye(o,null!==m.alternate,n)+" (#"+p+")";performance.clearMarks("\u269b "+m)}function Be(m,n,o){var p=wa(m)||"Unknown",q=m._debugID;m=ye(p,null!==m.alternate,n);xe(m,m+" (#"+q+")",o)}function Ce(m){switch(m.tag){case 3:case 5:case 6:case 4:case 7:case 9:case 10:return!0;default:return!1}}function De(m){null!==m["return"]&&De(m["return"]);m._debugIsCurrentlyTiming&&ze(m,null)}function Ee(m){d&&i&&!Ce(m)&&(me=m,ze(m,null)&&(m._debugIsCurrentlyTiming=!0))}function Fe(m){d&&i&&!Ce(m)&&(m._debugIsCurrentlyTiming=!1,Ae(m,null))}function Ge(m){d&&i&&!Ce(m)&&(me=m["return"],m._debugIsCurrentlyTiming&&(m._debugIsCurrentlyTiming=!1,Be(m,null,null)))}function He(m,n){d&&i&&(null!==ne&&null!==oe&&Ae(oe,ne),ne=oe=null,re=!1,ze(m,n)&&(oe=m,ne=n))}function Ie(){d&&i&&(null!==ne&&null!==oe&&Be(oe,ne,re?"Scheduled a cascading update":null),oe=ne=null)}var j={current:c("fbjs/lib/emptyObject")},k={current:!1},Je=c("fbjs/lib/emptyObject");function Ke(m){return Me(m)?Je:j.current}function Le(m,n){__p&&__p();var o=m.type.contextTypes;if(!o)return c("fbjs/lib/emptyObject");var p=m.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===n)return p.__reactInternalMemoizedMaskedChildContext;var q={},r;for(r in o)q[r]=n[r];p&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=n,m.__reactInternalMemoizedMaskedChildContext=q);return q}function Me(m){return 2===m.tag&&null!=m.type.childContextTypes}function Ne(m){Me(m)&&(ke(k,m),ke(j,m))}function Oe(m,n,o){null==j.cursor||c("fbjs/lib/invariant")(0);le(j,n,m);le(k,o,m)}function Pe(m,n){var o=m.stateNode,p=m.type.childContextTypes;if("function"!==typeof o.getChildContext)return n;He(m,"getChildContext");o=o.getChildContext();Ie();for(var q in o)q in p||c("fbjs/lib/invariant")(0);return Object.assign({},n,o)}function Qe(m){if(!Me(m))return!1;var n=m.stateNode;n=n&&n.__reactInternalMemoizedMergedChildContext||c("fbjs/lib/emptyObject");Je=j.current;le(j,n,m);le(k,k.current,m);return!0}function Re(m,n){__p&&__p();var o=m.stateNode;o||c("fbjs/lib/invariant")(0);if(n){var p=Pe(m,Je);o.__reactInternalMemoizedMergedChildContext=p;ke(k,m);ke(j,m);le(j,p,m)}else ke(k,m);le(k,n,m)}function Se(m,n,o,p){__p&&__p();this.tag=m;this.key=o;this.stateNode=this.type=null;this.sibling=this.child=this["return"]=null;this.index=0;this.ref=null;this.pendingProps=n;this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=p;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.expirationTime=0;this.alternate=null}function Te(m,n,o){__p&&__p();var p=m.alternate;null===p?(p=new Se(m.tag,n,m.key,m.mode),p.type=m.type,p.stateNode=m.stateNode,p.alternate=m,m.alternate=p):(p.pendingProps=n,p.effectTag=0,p.nextEffect=null,p.firstEffect=null,p.lastEffect=null);p.expirationTime=o;p.child=m.child;p.memoizedProps=m.memoizedProps;p.memoizedState=m.memoizedState;p.updateQueue=m.updateQueue;p.sibling=m.sibling;p.index=m.index;p.ref=m.ref;return p}function Ue(m,n,o){__p&&__p();var p=m.type,q=m.key;m=m.props;var r=void 0;if("function"===typeof p)r=p.prototype&&p.prototype.isReactComponent?2:0;else if("string"===typeof p)r=5;else switch(p){case pa:return We(m.children,n,o,q);case ta:r=11;n|=3;break;case qa:r=11;n|=2;break;case ma:r=7;break;case na:r=9;break;default:if("object"===typeof p&&null!==p)switch(p.$$typeof){case ra:r=13;break;case sa:r=12;break;default:if("number"===typeof p.tag)return n=p,n.pendingProps=m,n.expirationTime=o,n;Ve(p,null)}else Ve(p,null)}n=new Se(r,m,q,n);n.type=p;n.expirationTime=o;return n}function Ve(m){c("fbjs/lib/invariant")(0)}function We(m,n,o,p){m=new Se(10,m,p,n);m.expirationTime=o;return m}function Xe(m,n,o){m=new Se(6,m,null,n);m.expirationTime=o;return m}function Ye(m,n,o){n=new Se(4,null!==m.children?m.children:[],m.key,n);n.expirationTime=o;n.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation};return n}var Ze=null,$e=null;function af(m){return function(n){try{return m(n)}catch(o){}}}function bf(m){__p&&__p();if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)return!0;try{var o=n.inject(m);Ze=af(function(q){return n.onCommitFiberRoot(o,q)});$e=af(function(q){return n.onCommitFiberUnmount(o,q)})}catch(p){}return!0}function cf(m){"function"===typeof Ze&&Ze(m)}function df(m){"function"===typeof $e&&$e(m)}function ef(m){return{baseState:m,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function ff(m,n){null===m.last?m.first=m.last=n:(m.last.next=n,m.last=n);if(0===m.expirationTime||m.expirationTime>n.expirationTime)m.expirationTime=n.expirationTime}function gf(m,n){var o=m.alternate,p=m.updateQueue;null===p&&(p=m.updateQueue=ef(null));null!==o?(m=o.updateQueue,null===m&&(m=o.updateQueue=ef(null))):m=null;m=m!==p?m:null;null===m?ff(p,n):null===p.last||null===m.last?(ff(p,n),ff(m,n)):(ff(p,n),m.last=n)}function hf(m,n,o,p){m=m.partialState;return"function"===typeof m?m.call(n,o,p):m}function jf(m,n,o,p,q,r){__p&&__p();null!==m&&m.updateQueue===o&&(o=n.updateQueue={baseState:o.baseState,expirationTime:o.expirationTime,first:o.first,last:o.last,isInitialized:o.isInitialized,callbackList:null,hasForceUpdate:!1});o.expirationTime=0;o.isInitialized?m=o.baseState:(m=o.baseState=n.memoizedState,o.isInitialized=!0);for(var s=!0,t=o.first,u=!1;null!==t;){var v=t.expirationTime;if(v>r){var w=o.expirationTime;if(0===w||w>v)o.expirationTime=v;u||(u=!0,o.baseState=m)}else{u||(o.first=t.next,null===o.first&&(o.last=null));(Fa||Ga&&n.mode&2)&&hf(t,p,m,q);if(t.isReplace)m=hf(t,p,m,q),s=!0;else if(v=hf(t,p,m,q))m=s?Object.assign({},m,v):Object.assign(m,v),s=!1;t.isForced&&(o.hasForceUpdate=!0);null!==t.callback&&(v=o.callbackList,null===v&&(v=o.callbackList=[]),v.push(t))}t=t.next}null!==o.callbackList?n.effectTag|=32:null!==o.first||o.hasForceUpdate||(n.updateQueue=null);u||(o.baseState=m);return m}function kf(m,n){var o=m.callbackList;if(null!==o)for(m.callbackList=null,m=0;m<o.length;m++){var p=o[m],q=p.callback;p.callback=null;"function"===typeof q||c("fbjs/lib/invariant")(0);q.call(n)}}function lf(m,n,o,p){__p&&__p();function q(t,u){u.updater=s;t.stateNode=u;u._reactInternalFiber=t}function r(t,u,v){u=t.type;if("function"===typeof u.getDerivedStateFromProps)return(Fa||Ga&&t.mode&2)&&u.getDerivedStateFromProps.call(null,v,t.memoizedState),u.getDerivedStateFromProps.call(null,v,t.memoizedState)}var s={isMounted:za,enqueueSetState:function t(u,v,w){u=u._reactInternalFiber;w=void 0===w?null:w;var x=n(u);gf(u,{expirationTime:x,partialState:v,callback:w,isReplace:!1,isForced:!1,nextCallback:null,next:null});m(u,x)},enqueueReplaceState:function t(u,v,w){u=u._reactInternalFiber;w=void 0===w?null:w;var x=n(u);gf(u,{expirationTime:x,partialState:v,callback:w,isReplace:!0,isForced:!1,nextCallback:null,next:null});m(u,x)},enqueueForceUpdate:function t(u,v){u=u._reactInternalFiber;v=void 0===v?null:v;var w=n(u);gf(u,{expirationTime:w,partialState:null,callback:v,isReplace:!1,isForced:!0,nextCallback:null,next:null});m(u,w)}};return{adoptClassInstance:q,callGetDerivedStateFromProps:r,constructClassInstance:function t(u,v){__p&&__p();var w=u.type,x=Ke(u),y=2===u.tag&&null!=u.type.contextTypes,z=y?Le(u,x):c("fbjs/lib/emptyObject");(Fa||Ga&&u.mode&2)&&new w(v,z);w=new w(v,z);var A=null!==w.state&&void 0!==w.state?w.state:null;q(u,w);u.memoizedState=A;v=r(u,w,v);null!==v&&void 0!==v&&(u.memoizedState=Object.assign({},u.memoizedState,v));y&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=x,u.__reactInternalMemoizedMaskedChildContext=z);return w},mountClassInstance:function t(u,v){var w=u.alternate,x=u.stateNode,y=u.pendingProps,z=Ke(u);x.props=y;x.state=u.memoizedState;x.refs=c("fbjs/lib/emptyObject");x.context=Le(u,z);"function"!==typeof x.UNSAFE_componentWillMount&&"function"!==typeof x.componentWillMount||"function"===typeof u.type.getDerivedStateFromProps||(He(u,"componentWillMount"),z=x.state,"function"===typeof x.componentWillMount&&x.componentWillMount(),"function"===typeof x.UNSAFE_componentWillMount&&x.UNSAFE_componentWillMount(),Ie(),z!==x.state&&s.enqueueReplaceState(x,x.state,null),z=u.updateQueue,null!==z&&(x.state=jf(w,u,z,x,y,v)));"function"===typeof x.componentDidMount&&(u.effectTag|=4)},updateClassInstance:function t(u,v,w){__p&&__p();var x=v.stateNode;x.props=v.memoizedProps;x.state=v.memoizedState;var y=v.memoizedProps,z=v.pendingProps,A=x.context,B=Ke(v);B=Le(v,B);"function"!==typeof x.UNSAFE_componentWillReceiveProps&&"function"!==typeof x.componentWillReceiveProps||"function"===typeof v.type.getDerivedStateFromProps||y===z&&A===B||(A=x.state,He(v,"componentWillReceiveProps"),"function"===typeof x.componentWillReceiveProps&&x.componentWillReceiveProps(z,B),"function"===typeof x.UNSAFE_componentWillReceiveProps&&x.UNSAFE_componentWillReceiveProps(z,B),Ie(),x.state!==A&&s.enqueueReplaceState(x,x.state,null));var C=void 0;y!==z&&(C=r(v,x,z));A=v.memoizedState;w=null!==v.updateQueue?jf(u,v,v.updateQueue,x,z,w):A;null!==C&&void 0!==C&&(w=null===w||void 0===w?C:Object.assign({},w,C));if(!(y!==z||A!==w||k.current||null!==v.updateQueue&&v.updateQueue.hasForceUpdate))return"function"!==typeof x.componentDidUpdate||y===u.memoizedProps&&A===u.memoizedState||(v.effectTag|=4),!1;C=w;if(null===y||null!==v.updateQueue&&v.updateQueue.hasForceUpdate)C=!0;else{var D=v.stateNode,E=v.type;"function"===typeof D.shouldComponentUpdate?(He(v,"shouldComponentUpdate"),C=D.shouldComponentUpdate(z,C,B),Ie()):C=E.prototype&&E.prototype.isPureReactComponent?!c("fbjs/lib/shallowEqual")(y,z)||!c("fbjs/lib/shallowEqual")(A,C):!0}C?("function"!==typeof x.UNSAFE_componentWillUpdate&&"function"!==typeof x.componentWillUpdate||"function"===typeof v.type.getDerivedStateFromProps||(He(v,"componentWillUpdate"),"function"===typeof x.componentWillUpdate&&x.componentWillUpdate(z,w,B),"function"===typeof x.UNSAFE_componentWillUpdate&&x.UNSAFE_componentWillUpdate(z,w,B),Ie()),"function"===typeof x.componentDidUpdate&&(v.effectTag|=4)):("function"!==typeof x.componentDidUpdate||y===u.memoizedProps&&A===u.memoizedState||(v.effectTag|=4),o(v,z),p(v,w));x.props=z;x.state=w;x.context=B;return C}}}var mf=Array.isArray;function nf(m,n){__p&&__p();var o=n.ref;if(null!==o&&"function"!==typeof o){if(n._owner){n=n._owner;var p=void 0;n&&(c("fbjs/lib/invariant")(2===n.tag,"Stateless function components cannot have refs."),p=n.stateNode);p||c("fbjs/lib/invariant")(0);var q=""+o;if(null!==m&&null!==m.ref&&m.ref._stringRef===q)return m.ref;m=function m(r){var s=p.refs===c("fbjs/lib/emptyObject")?p.refs={}:p.refs;null===r?delete s[q]:s[q]=r};m._stringRef=q;return m}"string"===typeof o||c("fbjs/lib/invariant")(0);n._owner||c("fbjs/lib/invariant")(0)}return o}function of(m,n){"textarea"!==m.type&&c("fbjs/lib/invariant")(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===Object.prototype.toString.call(n)?"object with keys {"+Object.keys(n).join(", ")+"}":n,"")}function pf(m){__p&&__p();function n(C,D){if(m){var E=C.lastEffect;null!==E?(E.nextEffect=D,C.lastEffect=D):C.firstEffect=C.lastEffect=D;D.nextEffect=null;D.effectTag=8}}function o(C,D){if(!m)return null;for(;null!==D;)n(C,D),D=D.sibling;return null}function p(C,D){for(C=new Map();null!==D;)null!==D.key?C.set(D.key,D):C.set(D.index,D),D=D.sibling;return C}function q(C,D,E){C=Te(C,D,E);C.index=0;C.sibling=null;return C}function r(C,D,E){C.index=E;if(!m)return D;E=C.alternate;if(null!==E)return E=E.index,E<D?(C.effectTag=2,D):E;C.effectTag=2;return D}function s(C){m&&null===C.alternate&&(C.effectTag=2);return C}function t(C,D,E,F){if(null===D||6!==D.tag)return D=Xe(E,C.mode,F),D["return"]=C,D;D=q(D,E,F);D["return"]=C;return D}function u(C,D,E,F){if(null!==D&&D.type===E.type)return F=q(D,E.props,F),F.ref=nf(D,E),F["return"]=C,F;F=Ue(E,C.mode,F);F.ref=nf(D,E);F["return"]=C;return F}function v(C,D,E,F){if(null===D||4!==D.tag||D.stateNode.containerInfo!==E.containerInfo||D.stateNode.implementation!==E.implementation)return D=Ye(E,C.mode,F),D["return"]=C,D;D=q(D,E.children||[],F);D["return"]=C;return D}function w(C,D,E,F,G){if(null===D||10!==D.tag)return D=We(E,C.mode,F,G),D["return"]=C,D;D=q(D,E,F);D["return"]=C;return D}function x(C,D,E){__p&&__p();if("string"===typeof D||"number"===typeof D)return D=Xe(""+D,C.mode,E),D["return"]=C,D;if("object"===typeof D&&null!==D){switch(D.$$typeof){case la:return E=Ue(D,C.mode,E),E.ref=nf(null,D),E["return"]=C,E;case oa:return D=Ye(D,C.mode,E),D["return"]=C,D}if(mf(D)||va(D))return D=We(D,C.mode,E,null),D["return"]=C,D;of(C,D)}return null}function y(C,D,E,F){__p&&__p();var G=null!==D?D.key:null;if("string"===typeof E||"number"===typeof E)return null!==G?null:t(C,D,""+E,F);if("object"===typeof E&&null!==E){switch(E.$$typeof){case la:return E.key===G?E.type===pa?w(C,D,E.props.children,F,G):u(C,D,E,F):null;case oa:return E.key===G?v(C,D,E,F):null}if(mf(E)||va(E))return null!==G?null:w(C,D,E,F,null);of(C,E)}return null}function z(C,D,E,F,G){__p&&__p();if("string"===typeof F||"number"===typeof F)return C=C.get(E)||null,t(D,C,""+F,G);if("object"===typeof F&&null!==F){switch(F.$$typeof){case la:return C=C.get(null===F.key?E:F.key)||null,F.type===pa?w(D,C,F.props.children,G,F.key):u(D,C,F,G);case oa:return C=C.get(null===F.key?E:F.key)||null,v(D,C,F,G)}if(mf(F)||va(F))return C=C.get(E)||null,w(D,C,F,G,null);of(D,F)}return null}function A(C,D,E,F){__p&&__p();for(var G=null,H=null,I=D,J=D=0,K=null;null!==I&&J<E.length;J++){I.index>J?(K=I,I=null):K=I.sibling;var b=y(C,I,E[J],F);if(null===b){null===I&&(I=K);break}m&&I&&null===b.alternate&&n(C,I);D=r(b,D,J);null===H?G=b:H.sibling=b;H=b;I=K}if(J===E.length)return o(C,I),G;if(null===I){for(;J<E.length;J++)if(I=x(C,E[J],F))D=r(I,D,J),null===H?G=I:H.sibling=I,H=I;return G}for(I=p(C,I);J<E.length;J++)if(K=z(I,C,J,E[J],F)){if(m&&null!==K.alternate)I["delete"](null===K.key?J:K.key);D=r(K,D,J);null===H?G=K:H.sibling=K;H=K}m&&I.forEach(function(L){return n(C,L)});return G}function B(C,D,E,F){__p&&__p();var G=va(E);"function"===typeof G||c("fbjs/lib/invariant")(0);E=G.call(E);null!=E||c("fbjs/lib/invariant")(0);for(var H=G=null,I=D,J=D=0,K=null,b=E.next();null!==I&&!b.done;J++,b=E.next()){I.index>J?(K=I,I=null):K=I.sibling;var L=y(C,I,b.value,F);if(null===L){I||(I=K);break}m&&I&&null===L.alternate&&n(C,I);D=r(L,D,J);null===H?G=L:H.sibling=L;H=L;I=K}if(b.done)return o(C,I),G;if(null===I){for(;!b.done;J++,b=E.next())b=x(C,b.value,F),null!==b&&(D=r(b,D,J),null===H?G=b:H.sibling=b,H=b);return G}for(I=p(C,I);!b.done;J++,b=E.next())if(b=z(I,C,J,b.value,F),null!==b){if(m&&null!==b.alternate)I["delete"](null===b.key?J:b.key);D=r(b,D,J);null===H?G=b:H.sibling=b;H=b}m&&I.forEach(function(M){return n(C,M)});return G}return function(C,D,E,F){__p&&__p();"object"===typeof E&&null!==E&&E.type===pa&&null===E.key&&(E=E.props.children);var G="object"===typeof E&&null!==E;if(G)switch(E.$$typeof){case la:a:{var H=E.key;for(G=D;null!==G;){if(G.key===H)if(10===G.tag?E.type===pa:G.type===E.type){o(C,G.sibling);D=q(G,E.type===pa?E.props.children:E.props,F);D.ref=nf(G,E);D["return"]=C;C=D;break a}else{o(C,G);break}else n(C,G);G=G.sibling}E.type===pa?(D=We(E.props.children,C.mode,F,E.key),D["return"]=C,C=D):(F=Ue(E,C.mode,F),F.ref=nf(D,E),F["return"]=C,C=F)}return s(C);case oa:a:{for(G=E.key;null!==D;){if(D.key===G)if(4===D.tag&&D.stateNode.containerInfo===E.containerInfo&&D.stateNode.implementation===E.implementation){o(C,D.sibling);D=q(D,E.children||[],F);D["return"]=C;C=D;break a}else{o(C,D);break}else n(C,D);D=D.sibling}D=Ye(E,C.mode,F);D["return"]=C;C=D}return s(C)}if("string"===typeof E||"number"===typeof E)return E=""+E,null!==D&&6===D.tag?(o(C,D.sibling),D=q(D,E,F)):(o(C,D),D=Xe(E,C.mode,F)),D["return"]=C,C=D,s(C);if(mf(E))return A(C,D,E,F);if(va(E))return B(C,D,E,F);G&&of(C,E);if("undefined"===typeof E)switch(C.tag){case 2:case 1:F=C.type,c("fbjs/lib/invariant")(!1,"%s(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.",F.displayName||F.name||"Component")}return o(C,D)}}var qf=pf(!0),rf=pf(!1),sf=[],tf=-1;function uf(m){tf+=1;sf[tf]=m;var n=m.type.context;n.currentValue=m.pendingProps.value;n.changedBits=m.stateNode}function vf(m){sf[tf]=null;--tf;m=m.type.context;if(0>tf)m.currentValue=m.defaultValue,m.changedBits=0;else{var n=sf[tf];m.currentValue=n.pendingProps.value;m.changedBits=n.stateNode}}function wf(m,n,o,p,q){__p&&__p();function r(K,b,L){var M=b.expirationTime;b.child=null===K?rf(b,null,L,M):qf(b,K.child,L,M)}function s(K,b){var L=b.ref;null===L||K&&K.ref===L||(b.effectTag|=128)}function t(K,b,L,M){__p&&__p();s(K,b);if(!L)return M&&Re(b,!1),w(K,b);L=b.stateNode;ja.current=b;(Fa||Ga&&b.mode&2)&&L.render();var N=L.render();b.effectTag|=1;r(K,b,N);b.memoizedState=L.state;b.memoizedProps=L.props;M&&Re(b,!0);return b.child}function u(K){var b=K.stateNode;b.pendingContext?Oe(K,b.pendingContext,b.pendingContext!==b.context):b.context&&Oe(K,b.context,!1);B(K,b.containerInfo)}function v(K,b,L,M){__p&&__p();for(var N=K.child;null!==N;){switch(N.tag){case 12:var O=N.stateNode|0;if(N.type===b&&0!==(O&L)){for(O=N;null!==O;){var P=O.alternate;if(0===O.expirationTime||O.expirationTime>M)O.expirationTime=M,null!==P&&(0===P.expirationTime||P.expirationTime>M)&&(P.expirationTime=M);else if(null!==P&&(0===P.expirationTime||P.expirationTime>M))P.expirationTime=M;else break;O=O["return"]}O=null}else O=N.child;break;case 13:O=N.type===K.type?null:N.child;break;default:O=N.child}if(null!==O)O["return"]=N;else for(O=N;null!==O;){if(O===K){O=null;break}N=O.sibling;if(null!==N){O=N;break}O=O["return"]}N=O}}function w(K,b){__p&&__p();Fe(b);null===K||b.child===K.child||c("fbjs/lib/invariant")(0);if(null!==b.child){K=b.child;var L=Te(K,K.pendingProps,K.expirationTime);b.child=L;for(L["return"]=b;null!==K.sibling;)K=K.sibling,L=L.sibling=Te(K,K.pendingProps,K.expirationTime),L["return"]=b;L.sibling=null}return b.child}function x(K,b){__p&&__p();Fe(b);switch(b.tag){case 3:u(b);break;case 2:Qe(b);break;case 4:B(b,b.stateNode.containerInfo);break;case 13:uf(b)}return null}var y=m.shouldSetTextContent,z=m.shouldDeprioritizeSubtree,A=n.pushHostContext,B=n.pushHostContainer,C=o.enterHydrationState,D=o.resetHydrationState,E=o.tryToClaimNextHydratableInstance;m=lf(p,q,function(K,b){K.memoizedProps=b},function(K,b){K.memoizedState=b});var F=m.adoptClassInstance,G=m.callGetDerivedStateFromProps,H=m.constructClassInstance,I=m.mountClassInstance,J=m.updateClassInstance;return{beginWork:function K(b,L,M){__p&&__p();if(0===L.expirationTime||L.expirationTime>M)return x(b,L);switch(L.tag){case 0:null===b||c("fbjs/lib/invariant")(0);var N=L.type,O=L.pendingProps,P=Ke(L);P=Le(L,P);N=N(O,P);L.effectTag|=1;"object"===typeof N&&null!==N&&"function"===typeof N.render&&void 0===N.$$typeof?(P=L.type,L.tag=2,L.memoizedState=null!==N.state&&void 0!==N.state?N.state:null,"function"===typeof P.getDerivedStateFromProps&&(O=G(L,N,O),null!==O&&void 0!==O&&(L.memoizedState=Object.assign({},L.memoizedState,O))),O=Qe(L),F(L,N),I(L,M),b=t(b,L,!0,O)):(L.tag=1,r(b,L,N),L.memoizedProps=O,b=L.child);return b;case 1:return O=L.type,M=L.pendingProps,k.current||L.memoizedProps!==M?(N=Ke(L),N=Le(L,N),O=O(M,N),L.effectTag|=1,r(b,L,O),L.memoizedProps=M,b=L.child):b=w(b,L),b;case 2:return O=Qe(L),N=void 0,null===b?L.stateNode?c("fbjs/lib/invariant")(!1,"Resuming work not yet implemented."):(H(L,L.pendingProps),I(L,M),N=!0):N=J(b,L,M),t(b,L,N,O);case 3:return u(L),O=L.updateQueue,null!==O?(N=L.memoizedState,O=jf(b,L,O,null,null,M),N===O?(D(),b=w(b,L)):(N=O.element,P=L.stateNode,(null===b||null===b.child)&&P.hydrate&&C(L)?(L.effectTag|=2,L.child=rf(L,null,N,M)):(D(),r(b,L,N)),L.memoizedState=O,b=L.child)):(D(),b=w(b,L)),b;case 5:A(L);null===b&&E(L);O=L.type;var Q=L.memoizedProps;N=L.pendingProps;P=null!==b?b.memoizedProps:null;k.current||Q!==N?(Q=N.children,y(O,N)?Q=null:P&&y(O,P)&&(L.effectTag|=16),s(b,L),1073741823!==M&&L.mode&1&&z(O,N)?(L.expirationTime=1073741823,b=null):(r(b,L,Q),L.memoizedProps=N,b=L.child)):b=w(b,L);return b;case 6:return null===b&&E(L),L.memoizedProps=L.pendingProps,null;case 8:L.tag=7;case 7:return O=L.pendingProps,k.current||L.memoizedProps!==O||(O=L.memoizedProps),N=O.children,L.stateNode=null===b?rf(L,L.stateNode,N,M):qf(L,b.stateNode,N,M),L.memoizedProps=O,L.stateNode;case 9:return null;case 4:return B(L,L.stateNode.containerInfo),O=L.pendingProps,k.current||L.memoizedProps!==O?(null===b?L.child=qf(L,null,O,M):r(b,L,O),L.memoizedProps=O,b=L.child):b=w(b,L),b;case 10:return M=L.pendingProps,k.current||L.memoizedProps!==M?(r(b,L,M),L.memoizedProps=M,b=L.child):b=w(b,L),b;case 11:return M=L.pendingProps.children,k.current||null!==M&&L.memoizedProps!==M?(r(b,L,M),L.memoizedProps=M,b=L.child):b=w(b,L),b;case 13:O=L.type.context;N=L.pendingProps;P=L.memoizedProps;if(k.current||P!==N){L.memoizedProps=N;Q=N.value;if(null===P)Q=1073741823;else{var Wg=P.value;Wg===Q&&(0!==Wg||1/Wg===1/Q)||Wg!==Wg&&Q!==Q?Q=0:(Q="function"===typeof O.calculateChangedBits?O.calculateChangedBits(Wg,Q):1073741823,Q|=0,0!==Q&&v(L,O,Q,M))}L.stateNode=Q;uf(L);null!==P&&P.children===N.children?b=w(b,L):(r(b,L,N.children),b=L.child)}else L.stateNode=0,uf(L),b=w(b,L);return b;case 12:P=L.type;N=L.pendingProps;O=P.currentValue;Q=P.changedBits;0!==Q&&v(L,P,Q,M);M=N.observedBits;if(void 0===M||null===M)M=1073741823;L.stateNode=M;M=N.children;M=M(O);r(b,L,M);return L.child;default:c("fbjs/lib/invariant")(0)}},beginFailedWork:function K(b,L,M){__p&&__p();switch(L.tag){case 2:Qe(L);break;case 3:u(L);break;default:c("fbjs/lib/invariant")(0)}L.effectTag|=64;null===b?L.child=null:L.child!==b.child&&(L.child=b.child);if(0===L.expirationTime||L.expirationTime>M)return x(b,L);L.firstEffect=null;L.lastEffect=null;L.child=null===b?rf(L,null,null,M):qf(L,b.child,null,M);2===L.tag&&(b=L.stateNode,L.memoizedProps=b.props,L.memoizedState=b.state);return L.child}}}function xf(m,n,o){__p&&__p();function p(G){G.effectTag|=4}var q=m.createInstance,r=m.createTextInstance,s=m.appendInitialChild,t=m.finalizeInitialChildren,u=m.prepareUpdate,v=m.persistence,w=n.getRootHostContainer,x=n.popHostContext,y=n.getHostContext,z=n.popHostContainer,A=o.prepareToHydrateHostInstance,B=o.prepareToHydrateHostTextInstance,C=o.popHydrationState,D=void 0,E=void 0,F=void 0;m.mutation?(D=function D(){},E=function E(G,H,I){(H.updateQueue=I)&&p(H)},F=function F(G,H,I,J){I!==J&&p(H)}):v?c("fbjs/lib/invariant")(!1,"Persistent reconciler is disabled."):c("fbjs/lib/invariant")(!1,"Noop reconciler is disabled.");return{completeWork:function G(H,I,J){__p&&__p();var K=I.pendingProps;switch(I.tag){case 1:return null;case 2:return Ne(I),null;case 3:z(I);ke(k,I);ke(j,I);K=I.stateNode;K.pendingContext&&(K.context=K.pendingContext,K.pendingContext=null);if(null===H||null===H.child)C(I),I.effectTag&=-3;D(I);return null;case 5:x(I);J=w();var b=I.type;if(null!==H&&null!=I.stateNode){var L=H.memoizedProps,M=I.stateNode,N=y();M=u(M,b,L,K,J,N);E(H,I,M,b,L,K,J,N);H.ref!==I.ref&&(I.effectTag|=128)}else{if(!K)return c("fbjs/lib/invariant")(null!==I.stateNode,"We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue."),null;H=y();if(C(I))A(I,J,H)&&p(I);else{L=q(b,K,J,H,I);a:for(N=I.child;null!==N;){if(5===N.tag||6===N.tag)s(L,N.stateNode);else if(4!==N.tag&&null!==N.child){N.child["return"]=N;N=N.child;continue}if(N===I)break;for(;null===N.sibling;){if(null===N["return"]||N["return"]===I)break a;N=N["return"]}N.sibling["return"]=N["return"];N=N.sibling}t(L,b,K,J,H)&&p(I);I.stateNode=L}null!==I.ref&&(I.effectTag|=128)}return null;case 6:if(H&&null!=I.stateNode)F(H,I,H.memoizedProps,K);else{if("string"!==typeof K)return c("fbjs/lib/invariant")(null!==I.stateNode,"We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue."),null;H=w();J=y();C(I)?B(I)&&p(I):I.stateNode=r(K,H,J,I)}return null;case 7:K=I.memoizedProps;K||c("fbjs/lib/invariant")(0);I.tag=8;b=[];a:for((L=I.stateNode)&&(L["return"]=I);null!==L;){if(5===L.tag||6===L.tag||4===L.tag)c("fbjs/lib/invariant")(0);else if(9===L.tag)b.push(L.pendingProps.value);else if(null!==L.child){L.child["return"]=L;L=L.child;continue}for(;null===L.sibling;){if(null===L["return"]||L["return"]===I)break a;L=L["return"]}L.sibling["return"]=L["return"];L=L.sibling}L=K.handler;K=L(K.props,b);I.child=qf(I,null!==H?H.child:null,K,J);return I.child;case 8:return I.tag=7,null;case 9:return null;case 10:return null;case 11:return null;case 4:return z(I),D(I),null;case 13:return vf(I),null;case 12:return null;case 0:c("fbjs/lib/invariant")(0);default:c("fbjs/lib/invariant")(0)}}}}function yf(m,n){__p&&__p();function o(F){var G=F.ref;if(null!==G)try{G(null)}catch(H){n(F,H)}}function p(F){__p&&__p();"function"===typeof df&&df(F);switch(F.tag){case 2:o(F);var G=F.stateNode;if("function"===typeof G.componentWillUnmount)try{He(F,"componentWillUnmount"),G.props=F.memoizedProps,G.state=F.memoizedState,G.componentWillUnmount(),Ie()}catch(H){n(F,H)}break;case 5:o(F);break;case 7:q(F.stateNode);break;case 4:u&&s(F)}}function q(F){__p&&__p();for(var G=F;;)if(p(G),null===G.child||u&&4===G.tag){if(G===F)break;for(;null===G.sibling;){if(null===G["return"]||G["return"]===F)return;G=G["return"]}G.sibling["return"]=G["return"];G=G.sibling}else G.child["return"]=G,G=G.child}function r(F){return 5===F.tag||3===F.tag||4===F.tag}function s(F){__p&&__p();for(var G=F,H=!1,I=void 0,J=void 0;;){if(!H){H=G["return"];a:for(;;){null!==H||c("fbjs/lib/invariant")(0);switch(H.tag){case 5:I=H.stateNode;J=!1;break a;case 3:I=H.stateNode.containerInfo;J=!0;break a;case 4:I=H.stateNode.containerInfo;J=!0;break a}H=H["return"]}H=!0}if(5===G.tag||6===G.tag)q(G),J?E(I,G.stateNode):D(I,G.stateNode);else if(4===G.tag?I=G.stateNode.containerInfo:p(G),null!==G.child){G.child["return"]=G;G=G.child;continue}if(G===F)break;for(;null===G.sibling;){if(null===G["return"]||G["return"]===F)return;G=G["return"];4===G.tag&&(H=!1)}G.sibling["return"]=G["return"];G=G.sibling}}var t=m.getPublicInstance,u=m.mutation;m=m.persistence;u||(m?c("fbjs/lib/invariant")(!1,"Persistent reconciler is disabled."):c("fbjs/lib/invariant")(!1,"Noop reconciler is disabled."));var v=u.commitMount,w=u.commitUpdate,x=u.resetTextContent,y=u.commitTextUpdate,z=u.appendChild,A=u.appendChildToContainer,B=u.insertBefore,C=u.insertInContainerBefore,D=u.removeChild,E=u.removeChildFromContainer;return{commitResetTextContent:function F(G){x(G.stateNode)},commitPlacement:function F(G){__p&&__p();a:{for(var H=G["return"];null!==H;){if(r(H)){var I=H;break a}H=H["return"]}c("fbjs/lib/invariant")(0);I=void 0}var J=H=void 0;switch(I.tag){case 5:H=I.stateNode;J=!1;break;case 3:H=I.stateNode.containerInfo;J=!0;break;case 4:H=I.stateNode.containerInfo;J=!0;break;default:c("fbjs/lib/invariant")(0)}I.effectTag&16&&(x(H),I.effectTag&=-17);a:b:for(I=G;;){for(;null===I.sibling;){if(null===I["return"]||r(I["return"])){I=null;break a}I=I["return"]}I.sibling["return"]=I["return"];for(I=I.sibling;5!==I.tag&&6!==I.tag;){if(I.effectTag&2)continue b;if(null===I.child||4===I.tag)continue b;else I.child["return"]=I,I=I.child}if(!(I.effectTag&2)){I=I.stateNode;break a}}for(var K=G;;){if(5===K.tag||6===K.tag)I?J?C(H,K.stateNode,I):B(H,K.stateNode,I):J?A(H,K.stateNode):z(H,K.stateNode);else if(4!==K.tag&&null!==K.child){K.child["return"]=K;K=K.child;continue}if(K===G)break;for(;null===K.sibling;){if(null===K["return"]||K["return"]===G)return;K=K["return"]}K.sibling["return"]=K["return"];K=K.sibling}},commitDeletion:function F(G){s(G);G["return"]=null;G.child=null;G.alternate&&(G.alternate.child=null,G.alternate["return"]=null)},commitWork:function F(G,H){__p&&__p();switch(H.tag){case 2:break;case 5:var I=H.stateNode;if(null!=I){var J=H.memoizedProps;G=null!==G?G.memoizedProps:J;var K=H.type,b=H.updateQueue;H.updateQueue=null;null!==b&&w(I,b,K,G,J,H)}break;case 6:null!==H.stateNode||c("fbjs/lib/invariant")(0);I=H.memoizedProps;y(H.stateNode,null!==G?G.memoizedProps:I,I);break;case 3:break;default:c("fbjs/lib/invariant")(0)}},commitLifeCycles:function F(G,H){__p&&__p();switch(H.tag){case 2:var I=H.stateNode;if(H.effectTag&4){if(null===G)He(H,"componentDidMount"),I.props=H.memoizedProps,I.state=H.memoizedState,I.componentDidMount();else{var J=G.memoizedProps;G=G.memoizedState;He(H,"componentDidUpdate");I.props=H.memoizedProps;I.state=H.memoizedState;I.componentDidUpdate(J,G)}Ie()}H=H.updateQueue;null!==H&&kf(H,I);break;case 3:I=H.updateQueue;if(null!==I){G=null;if(null!==H.child)switch(H.child.tag){case 5:G=t(H.child.stateNode);break;case 2:G=H.child.stateNode}kf(I,G)}break;case 5:I=H.stateNode;null===G&&H.effectTag&4&&v(I,H.type,H.memoizedProps,H);break;case 6:break;case 4:break;default:c("fbjs/lib/invariant")(0)}},commitAttachRef:function F(G){var H=G.ref;if(null!==H){var I=G.stateNode;switch(G.tag){case 5:H(t(I));break;default:H(I)}}},commitDetachRef:function F(G){G=G.ref;null!==G&&G(null)}}}var zf={};function Af(m){__p&&__p();function n(s){s!==zf||c("fbjs/lib/invariant")(0);return s}var o=m.getChildHostContext,p=m.getRootHostContext,j={current:zf},q={current:zf},r={current:zf};return{getHostContext:function s(){return n(j.current)},getRootHostContainer:function s(){return n(r.current)},popHostContainer:function s(t){ke(j,t);ke(q,t);ke(r,t)},popHostContext:function s(t){q.current===t&&(ke(j,t),ke(q,t))},pushHostContainer:function s(t,u){le(r,u,t);u=p(u);le(q,t,t);le(j,u,t)},pushHostContext:function s(t){var u=n(r.current),v=n(j.current);u=o(v,t.type,u);v!==u&&(le(q,t,t),le(j,u,t))},resetHostContainer:function s(){j.current=zf;r.current=zf}}}function Bf(m){__p&&__p();function n(A,B){var C=new Se(5,null,null,0);C.type="DELETED";C.stateNode=B;C["return"]=A;C.effectTag=8;null!==A.lastEffect?(A.lastEffect.nextEffect=C,A.lastEffect=C):A.firstEffect=A.lastEffect=C}function o(A,B){switch(A.tag){case 5:return B=r(B,A.type,A.pendingProps),null!==B?(A.stateNode=B,!0):!1;case 6:return B=s(B,A.pendingProps),null!==B?(A.stateNode=B,!0):!1;default:return!1}}function p(A){for(A=A["return"];null!==A&&5!==A.tag&&3!==A.tag;)A=A["return"];x=A}var q=m.shouldSetTextContent;m=m.hydration;if(!m)return{enterHydrationState:function A(){return!1},resetHydrationState:function A(){},tryToClaimNextHydratableInstance:function A(){},prepareToHydrateHostInstance:function A(){c("fbjs/lib/invariant")(0)},prepareToHydrateHostTextInstance:function A(){c("fbjs/lib/invariant")(0)},popHydrationState:function A(){return!1}};var r=m.canHydrateInstance,s=m.canHydrateTextInstance,t=m.getNextHydratableSibling,u=m.getFirstHydratableChild,v=m.hydrateInstance,w=m.hydrateTextInstance,x=null,y=null,z=!1;return{enterHydrationState:function A(B){y=u(B.stateNode.containerInfo);x=B;return z=!0},resetHydrationState:function A(){y=x=null;z=!1},tryToClaimNextHydratableInstance:function A(B){__p&&__p();if(z){var C=y;if(C){if(!o(B,C)){C=t(C);if(!C||!o(B,C)){B.effectTag|=2;z=!1;x=B;return}n(x,y)}x=B;y=u(C)}else B.effectTag|=2,z=!1,x=B}},prepareToHydrateHostInstance:function A(B,C,D){C=v(B.stateNode,B.type,B.memoizedProps,C,D,B);B.updateQueue=C;return null!==C?!0:!1},prepareToHydrateHostTextInstance:function A(B){return w(B.stateNode,B.memoizedProps,B)},popHydrationState:function A(B){__p&&__p();if(B!==x)return!1;if(!z)return p(B),z=!0,!1;var C=B.type;if(5!==B.tag||"head"!==C&&"body"!==C&&!q(C,B.memoizedProps))for(C=y;C;)n(B,C),C=t(C);p(B);y=x?t(B.stateNode):null;return!0}}}"function"===typeof c("ReactFiberErrorDialog").showErrorDialog||c("fbjs/lib/invariant")(0);function Cf(m){__p&&__p();function n(V){__p&&__p();for(;;){var W=Zg(V.alternate,V,qh),X=V["return"],Y=V.sibling,Z=V;if(1073741823===qh||1073741823!==Z.expirationTime){if(2!==Z.tag&&3!==Z.tag)var $=0;else $=Z.updateQueue,$=null===$?0:$.expirationTime;for(var aa=Z.child;null!==aa;)0!==aa.expirationTime&&(0===$||$>aa.expirationTime)&&($=aa.expirationTime),aa=aa.sibling;Z.expirationTime=$}if(null!==W)return Ge(V),W;null!==X&&(null===X.firstEffect&&(X.firstEffect=V.firstEffect),null!==V.lastEffect&&(null!==X.lastEffect&&(X.lastEffect.nextEffect=V.firstEffect),X.lastEffect=V.lastEffect),1<V.effectTag&&(null!==X.lastEffect?X.lastEffect.nextEffect=V:X.firstEffect=V,X.lastEffect=V));Ge(V);if(null!==Y)return Y;if(null!==X)V=X;else{V.stateNode.isReadyForCommit=!0;break}}return null}function o(V){var W=V.alternate;Ee(V);W=Xg(W,V,qh);null===W&&(W=n(V));ja.current=null;return W}function p(V){var W=V.alternate;Ee(V);W=Yg(W,V,qh);null===W&&(W=n(V));ja.current=null;return W}function q(V){__p&&__p();if(null!==rh)if(V)for(;null!==R&&!b();)R=t(R)?p(R):o(R);else for(;null!==R;)R=t(R)?p(R):o(R);else if(V)for(;null!==R&&!b();)R=o(R);else for(;null!==R;)R=o(R)}function r(V,W,X){__p&&__p();!oh||c("fbjs/lib/invariant")(0);oh=!0;V.isReadyForCommit=!1;if(V!==ph||W!==qh||null===R){for(;-1<je;)ie[je]=null,je--;Je=c("fbjs/lib/emptyObject");j.current=c("fbjs/lib/emptyObject");k.current=!1;for(var Y=tf;-1<Y;Y--){var Z=sf[Y].type.context;Z.currentValue=Z.defaultValue;Z.changedBits=0;sf[Y]=null}tf=-1;Q();ph=V;qh=W;R=Te(ph.current,null,W)}d&&(me=R,i&&(se=0,we("(React Tree Reconciliation)"),null!==me&&De(me)));Y=!1;Z=null;try{q(X)}catch($){Y=!0,Z=$}for(;Y;){if(vh){uh=Z;break}W=R;if(null===W)vh=!0;else{var aa=s(W,Z);null!==aa||c("fbjs/lib/invariant")(0);if(!vh){try{Y=aa;Z=X;for(aa=Y;null!==W;){switch(W.tag){case 2:Ne(W);break;case 5:P(W);break;case 3:O(W);break;case 4:O(W);break;case 13:vf(W)}if(W===aa||W.alternate===aa){d&&i&&!Ce(W)&&(me=W["return"],W._debugIsCurrentlyTiming&&(W._debugIsCurrentlyTiming=!1,Be(W,null,"An error was thrown inside this error boundary")));break}else Ge(W);W=W["return"]}R=p(Y);q(Z)}catch($){Y=!0;Z=$;continue}break}}}X=uh;if(d&&i){W=null;null!==yh?W=3===yh.tag?"A top-level update interrupted the previous render":"An update to "+(wa(yh)||"Unknown")+" interrupted the previous render":1<se&&(W="There were cascading updates");se=0;for(Y=me;Y;)Y._debugIsCurrentlyTiming&&Be(Y,null,null),Y=Y["return"];xe("(React Tree Reconciliation)","(React Tree Reconciliation)",W)}yh=null;vh=oh=!1;uh=null;null!==X&&L(X);return V.isReadyForCommit?V.current.alternate:null}function s(V,W){__p&&__p();var X=ja.current=null,Y=!1,Z=!1,$=null;if(3===V.tag)X=V,u(V)&&(vh=!0);else for(var aa=V["return"];null!==aa&&null===X;){2===aa.tag?"function"===typeof aa.stateNode.componentDidCatch&&(Y=!0,$=wa(aa),X=aa,Z=!0):3===aa.tag&&(X=aa);if(u(aa)){if(xh||null!==th&&(th.has(aa)||null!==aa.alternate&&th.has(aa.alternate)))return null;X=null;Z=!1}aa=aa["return"]}if(null!==X){null===sh&&(sh=new Set());sh.add(X);var Qh="";aa=V;do{a:switch(aa.tag){case 0:case 1:case 2:case 5:var Rh=aa._debugOwner,Sh=aa._debugSource,Th=wa(aa),Uh=null;Rh&&(Uh=wa(Rh));Rh=Sh;Th="\n    in "+(Th||"Unknown")+(Rh?" (at "+Rh.fileName.replace(/^.*[\\\/]/,"")+":"+Rh.lineNumber+")":Uh?" (created by "+Uh+")":"");break a;default:Th=""}Qh+=Th;aa=aa["return"]}while(aa);aa=Qh;V=wa(V);null===rh&&(rh=new Map());W={componentName:V,componentStack:aa,error:W,errorBoundary:Y?X.stateNode:null,errorBoundaryFound:Y,errorBoundaryName:$,willRetry:Z};rh.set(X,W);try{if(!1!==c("ReactFiberErrorDialog").showErrorDialog(W)){var Vh=W.error;Vh&&Vh.suppressReactErrorLogging||false}}catch(Wh){Wh&&Wh.suppressReactErrorLogging||false}wh?(null===th&&(th=new Set()),th.add(X)):A(X);return X}null===uh&&(uh=W);return null}function t(V){return null!==rh&&(rh.has(V)||null!==V.alternate&&rh.has(V.alternate))}function u(V){return null!==sh&&(sh.has(V)||null!==V.alternate&&sh.has(V.alternate))}function v(){return 20*(((B()+100)/20|0)+1)}function w(V){V=0!==nh?nh:oh?wh?1:qh:V.mode&1?Lh?10*(((B()+50)/10|0)+1):v():1;Lh&&(0===Fh||V>Fh)&&(Fh=V);return V}function x(V,W){return z(V,W,!1)}function y(V,W,X){!oh&&V===ph&&X<qh&&(null!==R&&(yh=W),R=ph=null,qh=0)}function z(V,W){__p&&__p();d&&(pe&&(qe=!0),null!==ne&&"componentWillMount"!==ne&&"componentWillReceiveProps"!==ne&&(re=!0));for(var X=V;null!==X;){if(0===X.expirationTime||X.expirationTime>W)X.expirationTime=W;null!==X.alternate&&(0===X.alternate.expirationTime||X.alternate.expirationTime>W)&&(X.alternate.expirationTime=W);if(null===X["return"])if(3===X.tag){var Y=X.stateNode;y(Y,V,W);E(Y,W);y(Y,V,W)}else break;X=X["return"]}}function A(V){z(V,1,!0)}function B(){return lh=((Jf()-kh)/10|0)+2}function C(V,W,X,Y,Z){var $=nh;nh=1;try{return V(W,X,Y,Z)}finally{nh=$}}function D(V){if(0!==Ah){if(V>Ah)return;hh(Bh)}else d&&i&&!ue&&(ue=!0,we("(Waiting for async callback...)"));var W=Jf()-kh;Ah=V;Bh=gh(G,{timeout:10*(V-2)-W})}function E(V,W){Oh>Nh&&c("fbjs/lib/invariant")(!1,"Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");if(null===V.nextScheduledRoot)V.remainingExpirationTime=W,null===T?(zh=T=V,V.nextScheduledRoot=V):(T=T.nextScheduledRoot=V,T.nextScheduledRoot=zh);else{var X=V.remainingExpirationTime;if(0===X||W<X)V.remainingExpirationTime=W}Ch||(U?Kh&&(Dh=V,Eh=1,J(V,1,!1)):1===W?H(1,!1,null):D(W))}function F(){__p&&__p();var V=0,W=null;if(null!==T)for(var X=T,Y=zh;null!==Y;){var Z=Y.remainingExpirationTime;if(0===Z){null!==X&&null!==T||c("fbjs/lib/invariant")(0);if(Y===Y.nextScheduledRoot){zh=T=Y.nextScheduledRoot=null;break}else if(Y===zh)zh=Z=Y.nextScheduledRoot,T.nextScheduledRoot=Z,Y.nextScheduledRoot=null;else if(Y===T){T=X;T.nextScheduledRoot=zh;Y.nextScheduledRoot=null;break}else X.nextScheduledRoot=Y.nextScheduledRoot,Y.nextScheduledRoot=null;Y=X.nextScheduledRoot}else{if(0===V||Z<V)V=Z,W=Y;if(Y===T)break;X=Y;Y=Y.nextScheduledRoot}}X=Dh;null!==X&&X===W?Oh++:Oh=0;Dh=W;Eh=V}function G(V){H(0,!0,V)}function H(V,W,X){__p&&__p();Jh=X;F();d&&null!==Jh&&(X=Eh<B(),d&&i&&(ue=!1,xe("(Waiting for async callback...)","(Waiting for async callback...)",X?"React was blocked by main thread":null)));if(W)for(;null!==Dh&&0!==Eh&&(0===V||V>=Eh)&&(!Gh||B()>=Eh);)J(Dh,Eh,!Gh),F();else for(;null!==Dh&&0!==Eh&&(0===V||V>=Eh);)J(Dh,Eh,!1),F();null!==Jh&&(Ah=0,Bh=-1);0!==Eh&&D(Eh);Jh=null;Gh=!1;Oh=0;I()}function I(){__p&&__p();if(null!==Mh){var V=Mh;Mh=null;for(var W=0;W<V.length;W++){var X=V[W];try{X._onComplete()}catch(Y){Hh||(Hh=!0,Ih=Y)}}}if(Hh)throw V=Ih,Ih=null,Hh=!1,V}function J(V,W,X){!Ch||c("fbjs/lib/invariant")(0);Ch=!0;X?(X=V.finishedWork,null!==X?K(V,X,W):(V.finishedWork=null,X=r(V,W,!0),null!==X&&(b()?V.finishedWork=X:K(V,X,W)))):(X=V.finishedWork,null!==X?K(V,X,W):(V.finishedWork=null,X=r(V,W,!1),null!==X&&K(V,X,W)));Ch=!1}function K(V,W,X){__p&&__p();var Y=V.firstBatch;if(null!==Y&&Y._expirationTime<=X&&(null===Mh?Mh=[Y]:Mh.push(Y),Y._defer)){V.finishedWork=W;V.remainingExpirationTime=0;return}V.finishedWork=null;wh=oh=!0;d&&i&&(pe=!0,qe=!1,ve.clear(),we("(Committing Changes)"));X=W.stateNode;X.current!==W||c("fbjs/lib/invariant")(0);X.isReadyForCommit=!1;ja.current=null;1<W.effectTag?null!==W.lastEffect?(W.lastEffect.nextEffect=W,Y=W.firstEffect):Y=W:Y=W.firstEffect;ih(X.containerInfo);S=Y;d&&i&&(te=0,we("(Committing Host Effects)"));for(;null!==S;){var Z=!1,$=void 0;try{for(;null!==S;){d&&te++;var aa=S.effectTag;aa&16&&$g(S);if(aa&128){var Qh=S.alternate;null!==Qh&&fh(Qh)}switch(aa&-242){case 2:ah(S);S.effectTag&=-3;break;case 6:ah(S);S.effectTag&=-3;ch(S.alternate,S);break;case 4:ch(S.alternate,S);break;case 8:xh=!0,bh(S),xh=!1}S=S.nextEffect}}catch(Rh){Z=!0,$=Rh}Z&&(c("fbjs/lib/invariant")(null!==S,"Should have next effect. This error is likely caused by a bug in React. Please file an issue."),s(S,$),null!==S&&(S=S.nextEffect))}d&&i&&(aa=te,te=0,xe("(Committing Host Effects: "+aa+" Total)","(Committing Host Effects)",null));jh(X.containerInfo);X.current=W;S=Y;d&&i&&(te=0,we("(Calling Lifecycle Methods)"));for(;null!==S;){aa=!1;Qh=void 0;try{for(;null!==S;){var Sh=S.effectTag;Sh&36&&(d&&te++,dh(S.alternate,S));Sh&128&&(d&&te++,eh(S));if(Sh&64)switch(d&&te++,Y=S,Z=void 0,null!==rh&&(Z=rh.get(Y),rh["delete"](Y),null==Z&&null!==Y.alternate&&(Y=Y.alternate,Z=rh.get(Y),rh["delete"](Y))),c("fbjs/lib/invariant")(null!=Z,"No error for given unit of work. This error is likely caused by a bug in React. Please file an issue."),Y.tag){case 2:Y.stateNode.componentDidCatch(Z.error,{componentStack:Z.componentStack});break;case 3:null===uh&&(uh=Z.error);break;default:c("fbjs/lib/invariant")(0)}var Th=S.nextEffect;S.nextEffect=null;S=Th}}catch(Rh){aa=!0,Qh=Rh}aa&&(c("fbjs/lib/invariant")(null!==S,"Should have next effect. This error is likely caused by a bug in React. Please file an issue."),s(S,Qh),null!==S&&(S=S.nextEffect))}oh=wh=!1;d&&i&&(Sh=te,te=0,xe("(Calling Lifecycle Methods: "+Sh+" Total)","(Calling Lifecycle Methods)",null));d&&i&&(Sh=null,qe?Sh="Lifecycle hook scheduled a cascading update":0<se&&(Sh="Caused by a cascading update in earlier commit"),qe=!1,se++,pe=!1,ve.clear(),xe("(Committing Changes)","(Committing Changes)",Sh));"function"===typeof cf&&cf(W.stateNode);th&&(th.forEach(A),th=null);null!==uh&&(W=uh,uh=null,L(W));W=X.current.expirationTime;0===W&&(sh=rh=null);V.remainingExpirationTime=W}function b(){return null===Jh||Jh.timeRemaining()>Ph?!1:Gh=!0}function L(V){null!==Dh||c("fbjs/lib/invariant")(0);Dh.remainingExpirationTime=0;Hh||(Hh=!0,Ih=V)}var M=Af(m),N=Bf(m),O=M.popHostContainer,P=M.popHostContext,Q=M.resetHostContainer,Wg=wf(m,M,N,x,w),Xg=Wg.beginWork,Yg=Wg.beginFailedWork,Zg=xf(m,M,N).completeWork;M=yf(m,s);var $g=M.commitResetTextContent,ah=M.commitPlacement,bh=M.commitDeletion,ch=M.commitWork,dh=M.commitLifeCycles,eh=M.commitAttachRef,fh=M.commitDetachRef,Jf=m.now,gh=m.scheduleDeferredCallback,hh=m.cancelDeferredCallback,ih=m.prepareForCommit,jh=m.resetAfterCommit,kh=Jf(),lh=2,mh=0,nh=0,oh=!1,R=null,ph=null,qh=0,S=null,rh=null,sh=null,th=null,uh=null,vh=!1,wh=!1,xh=!1,yh=null,zh=null,T=null,Ah=0,Bh=-1,Ch=!1,Dh=null,Eh=0,Fh=0,Gh=!1,Hh=!1,Ih=null,Jh=null,U=!1,Kh=!1,Lh=!1,Mh=null,Nh=1e3,Oh=0,Ph=1;return{computeExpirationForFiber:w,scheduleWork:x,requestWork:E,flushRoot:function V(W,X){!Ch||c("fbjs/lib/invariant")(0);J(W,X,!1);I()},batchedUpdates:function qc(V,W){var X=U;U=!0;try{return V(W)}finally{(U=X)||Ch||H(1,!1,null)}},unbatchedUpdates:function V(W,X){if(U&&!Kh){Kh=!0;try{return W(X)}finally{Kh=!1}}return W(X)},flushSync:function V(W,X){!Ch||c("fbjs/lib/invariant")(0);var Y=U;U=!0;try{return C(W,X)}finally{U=Y,H(1,!1,null)}},flushControlled:function V(W){var X=U;U=!0;try{C(W)}finally{(U=X)||Ch||H(1,!1,null)}},deferredUpdates:function V(W){var X=nh;nh=v();try{return W()}finally{nh=X}},syncUpdates:C,interactiveUpdates:function V(W,X,Y){if(Lh)return W(X,Y);U||Ch||0===Fh||(H(Fh,!1,null),Fh=0);var Z=Lh,$=U;U=Lh=!0;try{return W(X,Y)}finally{Lh=Z,(U=$)||Ch||H(1,!1,null)}},flushInteractiveUpdates:function V(){Ch||0===Fh||(H(Fh,!1,null),Fh=0)},computeUniqueAsyncExpiration:function V(){var W=v();W<=mh&&(W=mh+1);return mh=W}}}function Df(m){__p&&__p();function n(s,t,u,v,w){__p&&__p();var x=t.current;if(u){u=u._reactInternalFiber;var y;b:{ya(u)&&2===u.tag||c("fbjs/lib/invariant")(0);for(y=u;3!==y.tag;){if(Me(y)){y=y.stateNode.__reactInternalMemoizedMergedChildContext;break b}y=y["return"];y||c("fbjs/lib/invariant")(0)}y=y.stateNode.context}u=Me(u)?Pe(u,y):y}else u=c("fbjs/lib/emptyObject");null===t.context?t.context=u:t.pendingContext=u;t=w;gf(x,{expirationTime:v,partialState:{element:s},callback:void 0===t?null:t,isReplace:!1,isForced:!1,next:null});r(x,v);return v}function o(s){s=Ca(s);return null===s?null:s.stateNode}var p=m.getPublicInstance;m=Cf(m);var q=m.computeExpirationForFiber,r=m.scheduleWork;return{createContainer:function s(t,u,v){u=new Se(3,null,null,u?3:0);t={current:u,containerInfo:t,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:v,firstBatch:null,nextScheduledRoot:null};return u.stateNode=t},updateContainer:function s(t,u,v,w){var x=q(u.current);return n(t,u,v,x,w)},updateContainerAtExpirationTime:n,flushRoot:m.flushRoot,requestWork:m.requestWork,computeUniqueAsyncExpiration:m.computeUniqueAsyncExpiration,batchedUpdates:m.batchedUpdates,unbatchedUpdates:m.unbatchedUpdates,deferredUpdates:m.deferredUpdates,syncUpdates:m.syncUpdates,interactiveUpdates:m.interactiveUpdates,flushInteractiveUpdates:m.flushInteractiveUpdates,flushControlled:m.flushControlled,flushSync:m.flushSync,getPublicRootInstance:function s(t){t=t.current;if(!t.child)return null;switch(t.child.tag){case 5:return p(t.child.stateNode);default:return t.child.stateNode}},findHostInstance:o,findHostInstanceWithNoPortals:function s(t){t=Da(t);return null===t?null:t.stateNode},injectIntoDevTools:function s(t){var u=t.findFiberByHostInstance;return bf(Object.assign({},t,{findHostInstanceByFiber:function v(w){return o(w)},findFiberByHostInstance:function v(w){return u?u(w):null}}))}}}var Ef=(Object.freeze||Object)({"default":Df}),Ff=Ef&&Df||Ef,Gf=Ff["default"]?Ff["default"]:Ff;function Hf(m,n,o){var p=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:oa,key:null==p?null:""+p,children:m,containerInfo:n,implementation:o}}var If="object"===typeof performance&&"function"===typeof performance.now,Jf=void 0;Jf=If?function(){return performance.now()}:function(){return Date.now()};var Kf=void 0,Lf=void 0;if(c("fbjs/lib/ExecutionEnvironment").canUseDOM)if("function"!==typeof requestIdleCallback||"function"!==typeof cancelIdleCallback){var Mf=null,Nf=!1,Of=-1,Pf=!1,Qf=0,Rf=33,Sf=33,Tf=void 0;Tf=If?{didTimeout:!1,timeRemaining:function m(){var n=Qf-performance.now();return 0<n?n:0}}:{didTimeout:!1,timeRemaining:function m(){var n=Qf-Date.now();return 0<n?n:0}};var Uf="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(event){__p&&__p();if(event.source===window&&event.data===Uf){Nf=!1;event=Jf();if(0>=Qf-event)if(-1!==Of&&Of<=event)Tf.didTimeout=!0;else{Pf||(Pf=!0,requestAnimationFrame(Vf));return}else Tf.didTimeout=!1;Of=-1;event=Mf;Mf=null;null!==event&&event(Tf)}},!1);var Vf=function Vf(m){Pf=!1;var n=m-Qf+Sf;n<Sf&&Rf<Sf?(8>n&&(n=8),Sf=n<Rf?Rf:n):Rf=n;Qf=m+Sf;Nf||(Nf=!0,window.postMessage(Uf,"*"))};Kf=function Kf(m,n){Mf=m;null!=n&&"number"===typeof n.timeout&&(Of=Jf()+n.timeout);Pf||(Pf=!0,requestAnimationFrame(Vf));return 0};Lf=function Lf(){Mf=null;Nf=!1;Of=-1}}else Kf=window.requestIdleCallback,Lf=window.cancelIdleCallback;else Kf=function Kf(m){return setTimeout(function(){m({timeRemaining:function n(){return Infinity}})})},Lf=function Lf(m){clearTimeout(m)};function Wf(m){var n="";c("React").Children.forEach(m,function(o){null==o||"string"!==typeof o&&"number"!==typeof o||(n+=o)});return n}function Xf(m,n){m=Object.assign({children:void 0},n);if(n=Wf(n.children))m.children=n;return m}function Yf(m,n,o,p){__p&&__p();m=m.options;if(n){n={};for(var q=0;q<o.length;q++)n["$"+o[q]]=!0;for(o=0;o<m.length;o++)q=Object.prototype.hasOwnProperty.call(n,"$"+m[o].value),m[o].selected!==q&&(m[o].selected=q),q&&p&&(m[o].defaultSelected=!0)}else{o=""+o;n=null;for(q=0;q<m.length;q++){if(m[q].value===o){m[q].selected=!0;p&&(m[q].defaultSelected=!0);return}null!==n||m[q].disabled||(n=m[q])}null!==n&&(n.selected=!0)}}function Zf(m,n){var o=n.value;m._wrapperState={initialValue:null!=o?o:n.defaultValue,wasMultiple:!!n.multiple}}function $f(m,n){null==n.dangerouslySetInnerHTML||c("fbjs/lib/invariant")(0);return Object.assign({},n,{value:void 0,defaultValue:void 0,children:""+m._wrapperState.initialValue})}function ag(m,n){var o=n.value;null==o&&(o=n.defaultValue,n=n.children,null!=n&&(c("fbjs/lib/invariant")(null==o,"If you supply `defaultValue` on a <textarea>, do not pass children."),Array.isArray(n)&&(c("fbjs/lib/invariant")(1>=n.length,"<textarea> can only have at most one child."),n=n[0]),o=""+n),null==o&&(o=""));m._wrapperState={initialValue:""+o}}function bg(m,n){var o=n.value;null!=o&&(o=""+o,o!==m.value&&(m.value=o),null==n.defaultValue&&(m.defaultValue=o));null!=n.defaultValue&&(m.defaultValue=n.defaultValue)}function cg(m){var n=m.textContent;n===m._wrapperState.initialValue&&(m.value=n)}var dg={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function eg(m){switch(m){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fg(m,n){return null==m||"http://www.w3.org/1999/xhtml"===m?eg(n):"http://www.w3.org/2000/svg"===m&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":m}var gg=void 0,hg=function(m){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(n,o,p,q){MSApp.execUnsafeLocalFunction(function(){return m(n,o,p,q)})}:m}(function(m,n){if(m.namespaceURI!==dg.svg||"innerHTML"in m)m.innerHTML=n;else{gg=gg||document.createElement("div");gg.innerHTML="<svg>"+n+"</svg>";for(n=gg.firstChild;m.firstChild;)m.removeChild(m.firstChild);for(;n.firstChild;)m.appendChild(n.firstChild)}});function ig(m,n){if(n){var o=m.firstChild;if(o&&o===m.lastChild&&3===o.nodeType){o.nodeValue=n;return}}m.textContent=n}var jg={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kg=["Webkit","ms","Moz","O"];Object.keys(jg).forEach(function(m){kg.forEach(function(n){n=n+m.charAt(0).toUpperCase()+m.substring(1);jg[n]=jg[m]})});function lg(m,n){m=m.style;for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var p=0===o.indexOf("--"),q=o,r=n[o];q=null==r||"boolean"===typeof r||""===r?"":p||"number"!==typeof r||0===r||Object.prototype.hasOwnProperty.call(jg,q)&&jg[q]?(""+r).trim():r+"px";"float"===o&&(o="cssFloat");p?m.setProperty(o,q):m[o]=q}}var mg=Object.assign({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ng(m,n,qg){n&&(mg[m]&&c("fbjs/lib/invariant")(null==n.children&&null==n.dangerouslySetInnerHTML,"%s is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.%s",m,qg()),null!=n.dangerouslySetInnerHTML&&(c("fbjs/lib/invariant")(null==n.children,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."),c("fbjs/lib/invariant")("object"===typeof n.dangerouslySetInnerHTML&&"__html"in n.dangerouslySetInnerHTML,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),c("fbjs/lib/invariant")(null==n.style||"object"===typeof n.style,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",qg()))}function og(m,n){if(-1===m.indexOf("-"))return"string"===typeof n.is;switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pg=dg.html,qg=c("fbjs/lib/emptyFunction").thatReturns("");function rg(m,n){Vd(n,9===m.nodeType||11===m.nodeType?m:m.ownerDocument)}function sg(m,n,o,p){o=9===o.nodeType?o:o.ownerDocument;p===pg&&(p=eg(m));p===pg?"script"===m?(m=o.createElement("div"),m.innerHTML="<script></script>",m=m.removeChild(m.firstChild)):m="string"===typeof n.is?o.createElement(m,{is:n.is}):o.createElement(m):m=o.createElementNS(p,m);return m}function tg(m,n){return(9===n.nodeType?n:n.ownerDocument).createTextNode(m)}function ug(m,n,o,p){__p&&__p();var q=og(n,o);switch(n){case"iframe":case"object":h("topLoad","load",m);var r=o;break;case"video":case"audio":for(r in Qd)Object.prototype.hasOwnProperty.call(Qd,r)&&h(r,Qd[r],m);r=o;break;case"source":h("topError","error",m);r=o;break;case"img":case"image":case"link":h("topError","error",m);h("topLoad","load",m);r=o;break;case"form":h("topReset","reset",m);h("topSubmit","submit",m);r=o;break;case"details":h("topToggle","toggle",m);r=o;break;case"input":Kc(m,o);r=Jc(m,o);h("topInvalid","invalid",m);rg(p,"onChange");break;case"option":r=Xf(m,o);break;case"select":Zf(m,o);r=Object.assign({},o,{value:void 0});h("topInvalid","invalid",m);rg(p,"onChange");break;case"textarea":ag(m,o);r=$f(m,o);h("topInvalid","invalid",m);rg(p,"onChange");break;default:r=o}ng(n,r,qg);var s=r,t;for(t in s)if(Object.prototype.hasOwnProperty.call(s,t)){var u=s[t];"style"===t?lg(m,u,qg):"dangerouslySetInnerHTML"===t?(u=u?u.__html:void 0,null!=u&&hg(m,u)):"children"===t?"string"===typeof u?("textarea"!==n||""!==u)&&ig(m,u):"number"===typeof u&&ig(m,""+u):"suppressContentEditableWarning"!==t&&"suppressHydrationWarning"!==t&&"autoFocus"!==t&&(Object.prototype.hasOwnProperty.call(Sa,t)?null!=u&&rg(p,t):null!=u&&Ic(m,t,u,q))}switch(n){case"input":xc(m);Nc(m,o);break;case"textarea":xc(m);cg(m,o);break;case"option":null!=o.value&&m.setAttribute("value",o.value);break;case"select":m.multiple=!!o.multiple;n=o.value;null!=n?Yf(m,!!o.multiple,n,!1):null!=o.defaultValue&&Yf(m,!!o.multiple,o.defaultValue,!0);break;default:"function"===typeof r.onClick&&(m.onclick=c("fbjs/lib/emptyFunction"))}}function vg(m,n,o,p,q){__p&&__p();var r=null;switch(n){case"input":o=Jc(m,o);p=Jc(m,p);r=[];break;case"option":o=Xf(m,o);p=Xf(m,p);r=[];break;case"select":o=Object.assign({},o,{value:void 0});p=Object.assign({},p,{value:void 0});r=[];break;case"textarea":o=$f(m,o);p=$f(m,p);r=[];break;default:"function"!==typeof o.onClick&&"function"===typeof p.onClick&&(m.onclick=c("fbjs/lib/emptyFunction"))}ng(n,p,qg);n=m=void 0;var s=null;for(m in o)if(!Object.prototype.hasOwnProperty.call(p,m)&&Object.prototype.hasOwnProperty.call(o,m)&&null!=o[m])if("style"===m){var t=o[m];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s||(s={}),s[n]="")}else"dangerouslySetInnerHTML"!==m&&"children"!==m&&"suppressContentEditableWarning"!==m&&"suppressHydrationWarning"!==m&&"autoFocus"!==m&&(Object.prototype.hasOwnProperty.call(Sa,m)?r||(r=[]):(r=r||[]).push(m,null));for(m in p){var u=p[m];t=null!=o?o[m]:void 0;if(Object.prototype.hasOwnProperty.call(p,m)&&u!==t&&(null!=u||null!=t))if("style"===m)if(t){for(n in t)!Object.prototype.hasOwnProperty.call(t,n)||u&&Object.prototype.hasOwnProperty.call(u,n)||(s||(s={}),s[n]="");for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&t[n]!==u[n]&&(s||(s={}),s[n]=u[n])}else s||(r||(r=[]),r.push(m,s)),s=u;else"dangerouslySetInnerHTML"===m?(u=u?u.__html:void 0,t=t?t.__html:void 0,null!=u&&t!==u&&(r=r||[]).push(m,""+u)):"children"===m?t===u||"string"!==typeof u&&"number"!==typeof u||(r=r||[]).push(m,""+u):"suppressContentEditableWarning"!==m&&"suppressHydrationWarning"!==m&&(Object.prototype.hasOwnProperty.call(Sa,m)?(null!=u&&rg(q,m),r||t===u||(r=[])):(r=r||[]).push(m,u))}s&&(r=r||[]).push("style",s);return r}function wg(m,n,o,p,q){__p&&__p();"input"===o&&"radio"===q.type&&null!=q.name&&Lc(m,q);og(o,p);p=og(o,q);for(var r=0;r<n.length;r+=2){var s=n[r],t=n[r+1];"style"===s?lg(m,t,qg):"dangerouslySetInnerHTML"===s?hg(m,t):"children"===s?ig(m,t):Ic(m,s,t,p)}switch(o){case"input":Mc(m,q);break;case"textarea":bg(m,q);break;case"select":m._wrapperState.initialValue=void 0,n=m._wrapperState.wasMultiple,m._wrapperState.wasMultiple=!!q.multiple,o=q.value,null!=o?Yf(m,!!q.multiple,o,!1):n!==!!q.multiple&&(null!=q.defaultValue?Yf(m,!!q.multiple,q.defaultValue,!0):Yf(m,!!q.multiple,q.multiple?[]:"",!1))}}function xg(m,n,o,p,q){__p&&__p();switch(n){case"iframe":case"object":h("topLoad","load",m);break;case"video":case"audio":for(var event in Qd)Object.prototype.hasOwnProperty.call(Qd,event)&&h(event,Qd[event],m);break;case"source":h("topError","error",m);break;case"img":case"image":case"link":h("topError","error",m);h("topLoad","load",m);break;case"form":h("topReset","reset",m);h("topSubmit","submit",m);break;case"details":h("topToggle","toggle",m);break;case"input":Kc(m,o);h("topInvalid","invalid",m);rg(q,"onChange");break;case"select":Zf(m,o);h("topInvalid","invalid",m);rg(q,"onChange");break;case"textarea":ag(m,o),h("topInvalid","invalid",m),rg(q,"onChange")}ng(n,o,qg);p=null;for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(event=o[r],"children"===r?"string"===typeof event?m.textContent!==event&&(p=["children",event]):"number"===typeof event&&m.textContent!==""+event&&(p=["children",""+event]):Object.prototype.hasOwnProperty.call(Sa,r)&&null!=event&&rg(q,r));switch(n){case"input":xc(m);Nc(m,o);break;case"textarea":xc(m);cg(m,o);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(m.onclick=c("fbjs/lib/emptyFunction"))}return p}function yg(m,n){return m.nodeValue!==n}var zg=(Object.freeze||Object)({createElement:sg,createTextNode:tg,setInitialProperties:ug,diffProperties:vg,updateProperties:wg,diffHydratedProperties:xg,diffHydratedText:yg,warnForUnmatchedText:function m(){},warnForDeletedHydratableElement:function m(){},warnForDeletedHydratableText:function m(){},warnForInsertedHydratedElement:function m(){},warnForInsertedHydratedText:function m(){},restoreControlledState:function m(n,o,p){__p&&__p();switch(o){case"input":Mc(n,p);o=p.name;if("radio"===p.type&&null!=o){for(p=n;p.parentNode;)p=p.parentNode;p=p.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]');for(o=0;o<p.length;o++){var q=p[o];if(q!==n&&q.form===n.form){var r=sb(q);r||c("fbjs/lib/invariant")(0);yc(q);Mc(q,r)}}}break;case"textarea":bg(n,p);break;case"select":o=p.value,null!=o&&Yf(n,!!p.multiple,o,!1)}}}),Ag=!1;hc.injectFiberControlledHostComponent(zg);var Bg=null,Cg=null;function Dg(m){this._expirationTime=l.computeUniqueAsyncExpiration();this._root=m;this._callbacks=this._next=null;this._hasChildren=this._didComplete=!1;this._children=null;this._defer=!0}Dg.prototype.render=function(m){this._defer||c("fbjs/lib/invariant")(0);this._hasChildren=!0;this._children=m;var n=this._root._internalRoot,o=this._expirationTime,p=new Eg();l.updateContainerAtExpirationTime(m,n,null,o,p._onCommit);return p};Dg.prototype.then=function(m){if(this._didComplete)m();else{var n=this._callbacks;null===n&&(n=this._callbacks=[]);n.push(m)}};Dg.prototype.commit=function(){__p&&__p();var m=this._root._internalRoot,n=m.firstBatch;this._defer&&null!==n||c("fbjs/lib/invariant")(0);if(this._hasChildren){var o=this._expirationTime;if(n!==this){this._hasChildren&&(o=this._expirationTime=n._expirationTime,this.render(this._children));for(var p=null,q=n;q!==this;)p=q,q=q._next;null!==p||c("fbjs/lib/invariant")(0);p._next=q._next;this._next=n;m.firstBatch=this}this._defer=!1;l.flushRoot(m,o);n=this._next;this._next=null;n=m.firstBatch=n;null!==n&&n._hasChildren&&n.render(n._children)}else this._next=null,this._defer=!1};Dg.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var m=this._callbacks;if(null!==m)for(var n=0;n<m.length;n++)m[n]()}};function Eg(){this._callbacks=null;this._didCommit=!1;this._onCommit=this._onCommit.bind(this)}Eg.prototype.then=function(m){if(this._didCommit)m();else{var n=this._callbacks;null===n&&(n=this._callbacks=[]);n.push(m)}};Eg.prototype._onCommit=function(){__p&&__p();if(!this._didCommit){this._didCommit=!0;var m=this._callbacks;if(null!==m)for(var n=0;n<m.length;n++){var o=m[n];"function"===typeof o||c("fbjs/lib/invariant")(0);o()}}};function Fg(m,n,o){this._internalRoot=l.createContainer(m,n,o)}Fg.prototype.render=function(m,n){var o=this._internalRoot,p=new Eg();n=void 0===n?null:n;null!==n&&p.then(n);l.updateContainer(m,o,null,p._onCommit);return p};Fg.prototype.unmount=function(m){var n=this._internalRoot,o=new Eg();m=void 0===m?null:m;null!==m&&o.then(m);l.updateContainer(null,n,null,o._onCommit);return o};Fg.prototype.legacy_renderSubtreeIntoContainer=function(m,n,o){var p=this._internalRoot,q=new Eg();o=void 0===o?null:o;null!==o&&q.then(o);l.updateContainer(n,p,m,q._onCommit);return q};Fg.prototype.createBatch=function(){var m=new Dg(this),n=m._expirationTime,o=this._internalRoot,p=o.firstBatch;if(null===p)o.firstBatch=m,m._next=null;else{for(o=null;null!==p&&p._expirationTime<=n;)o=p,p=p._next;m._next=p;null!==o&&(o._next=m)}return m};function Gg(m){return!(!m||1!==m.nodeType&&9!==m.nodeType&&11!==m.nodeType&&(8!==m.nodeType||" react-mount-point-unstable "!==m.nodeValue))}function Hg(m,n){switch(m){case"button":case"input":case"select":case"textarea":return!!n.autoFocus}return!1}var l=Gf({getRootHostContext:function m(n){var o=n.nodeType;switch(o){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:fg(null,"");break;default:o=8===o?n.parentNode:n,n=o.namespaceURI||null,o=o.tagName,n=fg(n,o)}return n},getChildHostContext:function m(n,o){return fg(n,o)},getPublicInstance:function m(n){return n},prepareForCommit:function m(){__p&&__p();Bg=Dd;var n=c("fbjs/lib/getActiveElement")();if($d(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else a:{var p=window.getSelection&&window.getSelection();if(p&&0!==p.rangeCount){o=p.anchorNode;var q=p.anchorOffset,r=p.focusNode;p=p.focusOffset;try{o.nodeType,r.nodeType}catch(s){o=null;break a}var t=0,u=-1,v=-1,w=0,x=0,y=n,z=null;b:for(;;){for(var A;;){y!==o||0!==q&&3!==y.nodeType||(u=t+q);y!==r||0!==p&&3!==y.nodeType||(v=t+p);3===y.nodeType&&(t+=y.nodeValue.length);if(null===(A=y.firstChild))break;z=y;y=A}for(;;){if(y===n)break b;z===o&&++w===q&&(u=t);z===r&&++x===p&&(v=t);if(null!==(A=y.nextSibling))break;y=z;z=y.parentNode}y=A}o=-1===u||-1===v?null:{start:u,end:v}}else o=null}o=o||{start:0,end:0}}else o=null;Cg={focusedElem:n,selectionRange:o};Ed(!1)},resetAfterCommit:function m(){__p&&__p();var n=Cg,o=c("fbjs/lib/getActiveElement")(),p=n.focusedElem,q=n.selectionRange;if(o!==p&&c("fbjs/lib/containsNode")(document.documentElement,p)){if($d(p))if(o=q.start,n=q.end,void 0===n&&(n=o),"selectionStart"in p)p.selectionStart=o,p.selectionEnd=Math.min(n,p.value.length);else if(window.getSelection){o=window.getSelection();var r=p[Fb()].length;n=Math.min(q.start,r);q=void 0===q.end?n:Math.min(q.end,r);!o.extend&&n>q&&(r=q,q=n,n=r);r=Zd(p,n);var s=Zd(p,q);if(r&&s&&(1!==o.rangeCount||o.anchorNode!==r.node||o.anchorOffset!==r.offset||o.focusNode!==s.node||o.focusOffset!==s.offset)){var t=document.createRange();t.setStart(r.node,r.offset);o.removeAllRanges();n>q?(o.addRange(t),o.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),o.addRange(t))}}o=[];for(n=p;n=n.parentNode;)1===n.nodeType&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});p.focus();for(p=0;p<o.length;p++)n=o[p],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}Cg=null;Ed(Bg);Bg=null},createInstance:function m(n,o,p,q,r){n=sg(n,o,p,q);n[ob]=r;n[pb]=o;return n},appendInitialChild:function m(n,o){n.appendChild(o)},finalizeInitialChildren:function m(n,o,p,q){ug(n,o,p,q);return Hg(o,p)},prepareUpdate:function m(n,o,p,q,r){return vg(n,o,p,q,r)},shouldSetTextContent:function m(n,o){return"textarea"===n||"string"===typeof o.children||"number"===typeof o.children||"object"===typeof o.dangerouslySetInnerHTML&&null!==o.dangerouslySetInnerHTML&&"string"===typeof o.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function m(n,o){return!!o.hidden},createTextInstance:function m(n,o,p,q){n=tg(n,o);n[ob]=q;return n},now:Jf,mutation:{commitMount:function m(n,o,p){Hg(o,p)&&n.focus()},commitUpdate:function m(n,o,p,q,r){n[pb]=r;wg(n,o,p,q,r)},resetTextContent:function m(n){ig(n,"")},commitTextUpdate:function m(n,o,p){n.nodeValue=p},appendChild:function m(n,o){n.appendChild(o)},appendChildToContainer:function m(n,o){8===n.nodeType?n.parentNode.insertBefore(o,n):n.appendChild(o)},insertBefore:function m(n,o,p){n.insertBefore(o,p)},insertInContainerBefore:function m(n,o,p){8===n.nodeType?n.parentNode.insertBefore(o,p):n.insertBefore(o,p)},removeChild:function m(n,o){n.removeChild(o)},removeChildFromContainer:function m(n,o){8===n.nodeType?n.parentNode.removeChild(o):n.removeChild(o)}},hydration:{canHydrateInstance:function m(n,o){return 1!==n.nodeType||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n},canHydrateTextInstance:function m(n,o){return""===o||3!==n.nodeType?null:n},getNextHydratableSibling:function m(n){for(n=n.nextSibling;n&&1!==n.nodeType&&3!==n.nodeType;)n=n.nextSibling;return n},getFirstHydratableChild:function m(n){for(n=n.firstChild;n&&1!==n.nodeType&&3!==n.nodeType;)n=n.nextSibling;return n},hydrateInstance:function m(n,o,p,q,r,s){n[ob]=s;n[pb]=p;return xg(n,o,p,r,q)},hydrateTextInstance:function m(n,o,p){n[ob]=p;return yg(n,o)},didNotMatchHydratedContainerTextInstance:function m(){},didNotMatchHydratedTextInstance:function m(){},didNotHydrateContainerInstance:function m(){},didNotHydrateInstance:function m(){},didNotFindHydratableContainerInstance:function m(){},didNotFindHydratableContainerTextInstance:function m(){},didNotFindHydratableInstance:function m(){},didNotFindHydratableTextInstance:function m(){}},scheduleDeferredCallback:Kf,cancelDeferredCallback:Lf}),Ig=l;mc=Ig.batchedUpdates;nc=Ig.interactiveUpdates;oc=Ig.flushInteractiveUpdates;function Jg(m,n){n||(n=m?9===m.nodeType?m.documentElement:m.firstChild:null,n=!(!n||1!==n.nodeType||!n.hasAttribute("data-reactroot")));if(!n)for(var o;o=m.lastChild;)m.removeChild(o);return new Fg(m,!1,n)}function Kg(m,n,o,p,q){__p&&__p();Gg(o)||c("fbjs/lib/invariant")(0);var r=o._reactRootContainer;if(r){if("function"===typeof q){var s=q;q=function q(){var u=l.getPublicRootInstance(r._internalRoot);s.call(u)}}null!=m?r.legacy_renderSubtreeIntoContainer(m,n,q):r.render(n,q)}else{r=o._reactRootContainer=Jg(o,p);if("function"===typeof q){var t=q;q=function q(){var u=l.getPublicRootInstance(r._internalRoot);t.call(u)}}l.unbatchedUpdates(function(){null!=m?r.legacy_renderSubtreeIntoContainer(m,n,q):r.render(n,q)})}return l.getPublicRootInstance(r._internalRoot)}function Lg(m,n){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;Gg(n)||c("fbjs/lib/invariant")(0);return Hf(m,n,null,o)}var Mg={createPortal:Lg,findDOMNode:function m(n){if(null==n)return null;if(1===n.nodeType)return n;var o=n._reactInternalFiber;if(o)return l.findHostInstance(o);"function"===typeof n.render?c("fbjs/lib/invariant")(!1,"Unable to find node on an unmounted component."):c("fbjs/lib/invariant")(!1,"Element appears to be neither ReactComponent nor DOMNode. Keys: %s",Object.keys(n))},hydrate:function m(n,o,p){return Kg(null,n,o,!0,p)},render:function m(n,o,p){return Kg(null,n,o,!1,p)},unstable_renderSubtreeIntoContainer:function m(n,o,p,q){null!=n&&ha(n)||c("fbjs/lib/invariant")(0);return Kg(n,o,p,!1,q)},unmountComponentAtNode:function m(n){Gg(n)||c("fbjs/lib/invariant")(0);return n._reactRootContainer?(l.unbatchedUpdates(function(){Kg(null,null,n,!1,function(){n._reactRootContainer=null})}),!0):!1},unstable_createPortal:function m(){Ag||(Ag=!0,c("lowPriorityWarning")(!1,'The ReactDOM.unstable_createPortal() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactDOM.createPortal() instead. It has the exact same API, but without the "unstable_" prefix.'));return Lg.apply(void 0,arguments)},unstable_batchedUpdates:l.batchedUpdates,unstable_deferredUpdates:l.deferredUpdates,flushSync:l.flushSync,unstable_flushControlled:l.flushControlled,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:mb,EventPluginRegistry:Wa,EventPropagators:Db,ReactControlledComponent:lc,ReactDOMComponentTree:tb,ReactDOMEventListener:Jd},createRoot:function m(n,o){return new Fg(n,!0,null!=o&&!0===o.hydrate)}};l.injectIntoDevTools({findFiberByHostInstance:qb,bundleType:0,version:"16.2.0",rendererPackageName:"react-dom"});var Ng={x:0,y:0},Og={x:{page:"pageX",client:"clientX",envScroll:"currentPageScrollLeft"},y:{page:"pageY",client:"clientY",envScroll:"currentPageScrollTop"}};function Pg(m,n){var o=c("fbjs/lib/TouchEventUtils").extractSingleTouch(n);return o?o[m.page]:n[m.page]}var Qg=["topTouchStart","topTouchCancel","topTouchEnd","topTouchMove"],Rg={touchTap:{phasedRegistrationNames:{bubbled:"onTouchTap",captured:"onTouchTapCapture"},dependencies:["topMouseDown","topMouseMove","topMouseUp"].concat(Qg)}},Sg=!1,Tg=0;Object.assign(Mg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,{ReactBrowserEventEmitter:Xd,ReactFiberTreeReflection:Ea,ReactDOMComponentTree:tb,ReactInstanceMap:ia,TapEventPlugin:{tapMoveThreshold:10,eventTypes:Rg,extractEvents:function m(n,o,p,q){__p&&__p();if(!ab(n)&&!$a(n))return null;if(-1!==Qg.indexOf(n))Sg=!0,Tg=Date.now();else if(Sg&&1e3>Date.now()-Tg)return null;var event=null,r=Pg(Og.x,p),s=Pg(Og.y,p);r=Math.pow(Math.pow(r-Ng.x,2)+Math.pow(s-Ng.y,2),.5);$a(n)&&10>r&&(event=ed.getPooled(Rg.touchTap,o,p,q));ab(n)?(Ng.x=Pg(Og.x,p),Ng.y=Pg(Og.y,p)):$a(n)&&(Ng.x=0,Ng.y=0);Bb(event);return event}},addUserTimingListener:function m(){Ha++;Ja();return function(){Ha--;Ja()}}});var Ug=(Object.freeze||Object)({"default":Mg}),Vg=Ug&&Mg||Ug;fa.exports=Vg["default"]?Vg["default"]:Vg}),18);
__d("ReactDOM-fb",["ReactDOM-dev","ReactDOM-prod","ReactExperimentalProdProfiling"],(function a(b,c,d,e,f,g){var h=void 0;h=c("ReactDOM-prod");c("ReactExperimentalProdProfiling").onReactDomLoad(h);f.exports=h}),18);
__d("registerForHotReload",["HotReloadConfig"],(function a(b,c,d,e,f,g){"use strict";function h(i){return i}f.exports=h}),null);
__d("unregisterForHotReload",["HotReloadConfig"],(function a(b,c,d,e,f,g){"use strict";function h(i){return i}f.exports=h}),null);
__d("ReactDOMInstrumentationFB",["invariant","Env","LogBuffer","ProfilingCounters","React","gkx","performanceAbsoluteNow","registerForHotReload","unregisterForHotReload"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=false,j=[],k=false,l=false;function m(r){var s=r.type;if(typeof s==="string")return"<dom-node>";var t="<compressed-name>";return s.displayName||t||"<unknown>"}function n(){if(!i){i=true;j.forEach(function(r){o(r)})}}function o(r){__p&&__p();var s=r.render;function t(x,y,z){__p&&__p();var A=null,B=null;if(k)A=c("performanceAbsoluteNow")();if(l)B=c("ProfilingCounters").startTiming("REACT_RENDER_TIME");var C=s.call(this,x,y,z);if(B!=null)c("ProfilingCounters").stopTiming(B);if(k){var D=c("performanceAbsoluteNow")(),E=m(x);c("LogBuffer").write("react_speed",{name:E,begin:A,end:D})}return C}Object.assign(r,{render:t,enableRenderMeasurements:function x(){k=true;n()}});var u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;u.addUserTimingListener!=null||h(0);var v=b.PerformanceObserver;if(v!==undefined)if(c("gkx")("AT6DanO60hgFT7juQEF_b5acv5amdrLzodvaFbz5tWF8DGQCmmf0_a7wsRZnn4yNp9kI3S6KXc87dzKSPpUSy11k")){u.addUserTimingListener();var w=new v(function(x){x.getEntries().forEach(function(y){return[y.name,y.entryType,y.startTime,y.duration]})});w.observe({entryTypes:["measure"]})}}function p(r){__p&&__p();var s=r.render;function t(u,v,w){__p&&__p();var x,y=u.ref;if(typeof y!=="string"&&typeof u.type==="function"&&u.type.prototype&&u.type.prototype.isReactComponent)(function(){var z=void 0;u=c("React").cloneElement(u,{ref:function A(B){if(z)c("unregisterForHotReload")(z);if(B)c("registerForHotReload")(B);z=B;if(typeof y==="function")y(B)}})})();return s.call(this,u,v,w)}Object.assign(r,{render:t})}if(c("Env").timeslice_categories&&c("Env").timeslice_categories.react_render){l=true;n()}var q={patchedReactDOM:function r(s){if(j.indexOf(s)===-1){j.push(s);if(i)o(s)}return s}};f.exports=q}),18);
__d("ReactDOM",["ReactDOM-fb","ReactDOMInstrumentationFB"],(function a(b,c,d,e,f,g){f.exports=c("ReactDOMInstrumentationFB").patchedReactDOM(c("ReactDOM-fb"))}),18);
__d("UFIStoryActionType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHANGE_ACCEPTED_ANSWER:"story_change_accepted_answer",COMMENTS_ARRIVED:"story_comments_arrived",PAGE_IN_COMMENTS:"story_page_in_comments",SHOW_REPLIES:"story_show_replies",SHOW_COMMENTS:"story_show_comments",SPAM_FETCHED:"story_spam_fetched",CHANGE_REACTION:"story_change_reaction",CHANGE_REACTION_FAILURE:"story_change_reaction_failure",CHANGE_REACTION_SUCCESS:"story_change_reaction_success",TOGGLE_REPLIES:"story_toggle_replies",FRIEND_TYPING:"story_friend_typing",SOMEONE_TYPING:"story_someone_typing",TYPING_STOPPED:"story_typing_stopped",LIVE_PIN_COMMENT:"story_live_pin_comment",LIVE_UNPIN_COMMENT:"story_live_unpin_comment"})}),null);
__d("UFIAcceptedAnswerStore",["FluxReduceStore","UFIDispatcherBase","UFIStoryActionType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{}};j.prototype.reduce=function(k,l){var m;switch(l.type){case c("UFIStoryActionType").CHANGE_ACCEPTED_ANSWER:return babelHelpers["extends"]({},k,(m={},m[l.comment.ftentidentifier]=l.doAccept?{type:"Accepted",id:l.comment.id}:{type:"NoneAccepted"},m));default:return k}};j.prototype.get=function(k,l){var m=this.getState()[k];if(m)return m;return l?{type:"Accepted",id:l}:{type:"NoneAccepted"}};function j(){h.apply(this,arguments)}f.exports=new j(c("UFIDispatcherBase"))}),null);
__d("JSLogger",["lowerFacebookDomain"],(function a(b,c,d,e,f,g){__p&&__p();var h={MAX_HISTORY:500,counts:{},categories:{},seq:0,pageId:(Math.random()*2147483648|0).toString(36),forwarding:false};function i(n){if(n=="/"||n.indexOf("/",1)<0)return false;var o=/^\/(v\d+\.\d\d?|head)\//.test(n);if(o)return/^\/(dialog|plugins)\//.test(n.substring(n.indexOf("/",1)));return/^\/(dialog|plugins)\//.test(n)}function j(n){if(n instanceof Error&&b.ErrorUtils)n=b.ErrorUtils.normalizeError(n);try{return JSON.stringify(n)}catch(o){return"{}"}}function k(n,event,o){if(!h.counts[n])h.counts[n]={};if(!h.counts[n][event])h.counts[n][event]=0;o=o==null?1:Number(o);h.counts[n][event]+=isFinite(o)?o:0}h.logAction=function(event,n,o){__p&&__p();if(this.type=="bump")k(this.cat,event,n);else if(this.type=="rate"){n&&k(this.cat,event+"_n",o);k(this.cat,event+"_d",o)}else{var p={cat:this.cat,type:this.type,event:event,data:n!=null?j(n):null,date:Date.now(),seq:h.seq++};h.head=h.head?h.head.next=p:h.tail=p;while(h.head.seq-h.tail.seq>h.MAX_HISTORY)h.tail=h.tail.next;return p}};function l(n){__p&&__p();if(!h.categories[n]){h.categories[n]={};var o=function o(p){__p&&__p();var q={cat:n,type:p};h.categories[n][p]=function(){__p&&__p();h.forwarding=false;var r=null;if(c("lowerFacebookDomain").isValidDocumentDomain())return;r=h.logAction;if(i(location.pathname))h.forwarding=false;else try{r=b.top.require("JSLogger")._.logAction;h.forwarding=r!==h.logAction}catch(s){}r&&r.apply(q,arguments)}};o("debug");o("log");o("warn");o("error");o("bump");o("rate")}return h.categories[n]}function m(n,o){var p=[];for(var q=o||h.tail;q;q=q.next)if(!n||n(q)){var r={type:q.type,cat:q.cat,date:q.date,event:q.event,seq:q.seq};if(q.data)r.data=JSON.parse(q.data);p.push(r)}return p}f.exports={_:h,DUMP_EVENT:"jslogger/dump",create:l,getEntries:m}}),18);
__d("UFICommentEditIDStore",["FluxReduceStore","UFIAddCommentActionType","UFICentralUpdates","UFICommentActionType","UFIDispatcherBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);c("UFICentralUpdates").subscribe("actor-changed",function(l,m){c("UFIDispatcherBase").dispatch({type:"PRIVATE_ACTOR_CHANGED",instanceID:true,ftentidentifier:true})})}j.prototype.getInitialState=function(){return{}};j.prototype.getForInstance=function(k){return this.getState()[k]||null};j.prototype.reduce=function(k,l){var m;switch(l.type){case"PRIVATE_ACTOR_CHANGED":return{};case c("UFIAddCommentActionType").CANCEL:case c("UFIAddCommentActionType").SUBMIT_EDIT:var n=k[l.instanceID],o=babelHelpers.objectWithoutProperties(k,[l.instanceID]);return o;case c("UFICommentActionType").EDIT:return babelHelpers["extends"]({},k,(m={},m[l.instanceID]=l.comment.id,m))}return k};f.exports=new j(c("UFIDispatcherBase"))}),null);
__d("randomInt",["invariant"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j,k){__p&&__p();var l=arguments.length;l>0&&l<=2||h(0);if(l===1){k=j;j=0}k=k;k>j||h(0);var m=this.random||Math.random;return Math.floor(j+m()*(k-j))}f.exports=i}),null);
__d("CommentApprovalsResponsibleUserAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({APPEALED:"APPEALED",SECURED_ACCOUNT:"SECURED_ACCOUNT"})}),null);
__d("ImmutableValue",["invariant","isNode"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="_DONT_EVER_TYPE_THIS_SECRET_KEY";function j(k){k===j[i]||h(0)}j.mergeAllPropertiesInto=function(k,l){var m=l.length;for(var n=0;n<m;n++)Object.assign(k,l[n])};j.deepFreezeRootNode=function(k){if(c("isNode")(k))return;Object.freeze(k);for(var l in k)if(Object.prototype.hasOwnProperty.call(k,l))j.recurseDeepFreeze(k[l]);Object.seal(k)};j.recurseDeepFreeze=function(k){if(c("isNode")(k)||!j.shouldRecurseFreeze(k))return;Object.freeze(k);for(var l in k)if(Object.prototype.hasOwnProperty.call(k,l))j.recurseDeepFreeze(k[l]);Object.seal(k)};j.shouldRecurseFreeze=function(k){return typeof k==="object"&&!(k instanceof j)&&k!==null};j._DONT_EVER_TYPE_THIS_SECRET_KEY=Math.random();f.exports=j}),null);
__d("mergeHelpers",["invariant","FbtResultBase"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=36,j=function j(l){return typeof l!=="object"||l instanceof Date||l===null||l instanceof c("FbtResultBase")},k={MAX_MERGE_DEPTH:i,isTerminal:j,normalizeMergeArg:function l(m){return m===undefined||m===null?{}:m},checkMergeArrayArgs:function l(m,n){Array.isArray(m)&&Array.isArray(n)||h(0)},checkMergeObjectArgs:function l(m,n){k.checkMergeObjectArg(m);k.checkMergeObjectArg(n)},checkMergeObjectArg:function l(m){!j(m)&&!Array.isArray(m)||h(0)},checkMergeIntoObjectArg:function l(m){(!j(m)||typeof m==="function")&&!Array.isArray(m)||h(0)},checkMergeLevel:function l(m){m<i||h(0)},checkArrayStrategy:function l(m){m===undefined||m in k.ArrayStrategies||h(0)},ArrayStrategies:{Clobber:"Clobber",Concat:"Concat",IndexByIndex:"IndexByIndex"}};f.exports=k}),null);
__d("ImmutableObject",["invariant","ImmutableValue","mergeHelpers"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("mergeHelpers").checkMergeObjectArgs,l=c("mergeHelpers").isTerminal,m="_DONT_EVER_TYPE_THIS_SECRET_KEY";function n(q){q instanceof c("ImmutableValue")||h(0)}i=babelHelpers.inherits(o,c("ImmutableValue"));j=i&&i.prototype;function o(){j.constructor.call(this,c("ImmutableValue")[m]);c("ImmutableValue").mergeAllPropertiesInto(this,arguments)}o.create=function(){var q=Object.create(o.prototype);o.apply(q,arguments);return q};o.set=function(q,r){n(q);typeof r==="object"&&r!==undefined&&!Array.isArray(r)||h(0);return new o(q,r)};o.setProperty=function(q,r,s){var t={};t[r]=s;return o.set(q,t)};o.deleteProperty=function(q,r){var s={};for(var t in q)if(t!==r&&Object.prototype.hasOwnProperty.call(q,t))s[t]=q[t];return new o(s)};o.setDeep=function(q,r){n(q);return p(q,r)};o.values=function(q){return Object.keys(q).map(function(r){return q[r]})};function p(q,r){__p&&__p();k(q,r);var s={},t=Object.keys(q);for(var u=0;u<t.length;u++){var v=t[u];if(!Object.prototype.hasOwnProperty.call(r,v))s[v]=q[v];else if(l(q[v])||l(r[v]))s[v]=r[v];else s[v]=p(q[v],r[v])}var w=Object.keys(r);for(u=0;u<w.length;u++){var x=w[u];if(Object.prototype.hasOwnProperty.call(q,x))continue;s[x]=r[x]}return q instanceof c("ImmutableValue")?new o(s):r instanceof c("ImmutableValue")?new o(s):s}f.exports=o}),null);
__d("UFIComments",["invariant","ClientIDs","CommentApprovalsResponsibleUserAction","ImmutableObject","LiveWWWFeedbackTypedLogger","UFICentralUpdates","UFIConstants","randomInt"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={},j={},k={},l={};function m(I){return I in j?j[I]:I}function n(I,J){__p&&__p();I.forEach(function(K){__p&&__p();var L=K.ftentidentifier,M=c("UFIConstants").UFIPayloadSourceType,N=K.clientid,O=false,P=babelHelpers["extends"]({},K);if(N){delete P.clientid;O=c("ClientIDs").isExistingClientID(N);if(O&&j[N]){new(c("LiveWWWFeedbackTypedLogger"))().setEvent("update_view").setUpdateType("comment").setOriginatedLocally(true).setCommentID(K.id).log();return}}if(J===M.LIVE_SEND||J===c("UFIConstants").UFIPayloadSourceType.STREAMING||J===M.USER_ACTION||J===M.ENDPOINT_ADD_COMMENT||J===M.ENDPOINT_EDIT_COMMENT){P.isunseen=true;var Q=H.getCacheVariable("lastCommentTimeStamp");if(K&&K.timestamp&&K.timestamp.time&&(!Q||Q<=K.timestamp.time)&&(J===M.USER_ACTION||J===M.ENDPOINT_ADD_COMMENT)){H.setCacheVariable("lastComment",K.id);K!=null&&K.timestamp!=null||h(0);H.setCacheVariable("lastCommentTimeStamp",K.timestamp.time)}}if(J===c("UFIConstants").UFIPayloadSourceType.LIVE_SEND||J===c("UFIConstants").UFIPayloadSourceType.STREAMING)P.islive=true;if(J===M.ENDPOINT_COMMENT_FETCH||J===M.ENDPOINT_ID_COMMENT_FETCH)P.fromfetch=true;if(O&&i[N]){P.ufiinstanceid=i[N].ufiinstanceid;j[N]=K.id;k[K.id]=N;i[K.id]=i[N];delete i[N];c("UFICentralUpdates").didUpdateComment(N)}H.setComment(K.id,new(c("ImmutableObject"))(P));c("UFICentralUpdates").didUpdateComment(K.id);c("UFICentralUpdates").didUpdateFeedback(L)})}function o(I,J){__p&&__p();for(var K=0;K<I.length;K++){var L=I[K];switch(L.actiontype){case c("UFIConstants").UFIActionType.LIKE_ACTION:if(H.getComment(L.entidentifier))p(L.clientid,L.entidentifier,L.hasviewerliked,L.likecount,L.reactiondata,J);break;case c("UFIConstants").UFIActionType.COMMENT_LIKE:p(L.clientid,L.commentid,L.viewerliked,L.likecount,L.reactiondata,J);break;case c("UFIConstants").UFIActionType.MUTE_MEMBER:q(L);break;case c("UFIConstants").UFIActionType.REACTION:if(H.getComment(L.entidentifier))r(L.entidentifier,L);break;case c("UFIConstants").UFIActionType.COMMENT_REACTION:r(L.commentid,L);break;case c("UFIConstants").UFIActionType.DELETE_COMMENT:v(L);break;case c("UFIConstants").UFIActionType.LIVE_DELETE_COMMENT:w(L);break;case c("UFIConstants").UFIActionType.CHANGE_ACCEPTED_ANSWER:x(L);break;case c("UFIConstants").UFIActionType.REMOVE_PREVIEW:y(L);break;case c("UFIConstants").UFIActionType.COMMENT_SET_SPAM:z(L);break;case c("UFIConstants").UFIActionType.COMMENT_KEEP_SPAM:A(L);break;case c("UFIConstants").UFIActionType.COMMENT_APPEAL_SPAM:B(L);break;case c("UFIConstants").UFIActionType.COMMENT_SECURE_ACCOUNT:C(L);break;case c("UFIConstants").UFIActionType.CONFIRM_COMMENT_REMOVAL:D(L);break;case c("UFIConstants").UFIActionType.TRANSLATE_COMMENT:t(L);break;case c("UFIConstants").UFIActionType.COMMENT_LIKECOUNT_UPDATE:s(L);break;case c("UFIConstants").UFIActionType.UPDATE_CONSTITUENT_TITLE:F(L);break}}}function p(I,J,K,L,M,N){__p&&__p();var O=H.getComment(J);if(O){var P={},Q=I&&c("ClientIDs").isExistingClientID(I);if(!Q){P.hasviewerliked=K;P.likecount=L;if(M){P.reactioncount=M.reactioncount;P.reactioncountmap=M.reactioncountmap;P.reactioncountreduced=M.reactioncountreduced;P.viewerreaction=M.viewerreaction}}if(N===c("UFIConstants").UFIPayloadSourceType.LIVE_SEND||N===c("UFIConstants").UFIPayloadSourceType.STREAMING)new(c("LiveWWWFeedbackTypedLogger"))().setEvent("update_view").setUpdateType("comment_like").setOriginatedLocally(Boolean(Q)).setCommentID(J).log();P.likeconfirmhash=c("randomInt")(0,1024);G(J,P)}}function q(I){for(var J in i){var K=i[J];if(K.author===I.authorid){var L={};L.ismuted=I.shouldmute;G(J,L)}}}function r(I,J){__p&&__p();var K=H.getComment(I);if(K){var L={};if(J.clientid&&c("ClientIDs").isExistingClientID(J.clientid)&&J.viewerreaction!==K.viewerreaction)return;L.hasviewerliked=J.hasviewerliked;L.likecount=J.likecount;L.reactioncount=J.reactioncount;L.reactioncountmap=J.reactioncountmap;L.reactioncountreduced=J.reactioncountreduced;L.viewerreaction=J.viewerreaction;G(I,L)}}function s(I){var J=H.getComment(I.commentid);if(J&&I.hasviewerliked===J.hasviewerliked){var K={likecount:I.likecount,likeconfirmhash:c("randomInt")(0,1024)};G(I.commentid,K)}}function t(I){var J=I.commentid,K=H.getComment(J);if(K){var L={translationdata:I.translationdata};G(J,L)}}function u(I){var J={reportLink:I.reportLink,commenterIsFOF:I.commenterIsFOF,userIsMinor:I.userIsMinor,giveFeedbackLink:I.giveFeedbackLink,reportOptionsLink:I.reportOptionsLink,isBroadcast:I.isBroadcast,showStreamBanControls:I.showStreamBanControls};return J}function v(I){var J=H.getComment(I.commentid);if(J)E(J,c("UFIConstants").UFIStatus.DELETED)}function w(I){var J=H.getComment(I.commentid);if(J&&J.status!==c("UFIConstants").UFIStatus.DELETED)E(J,c("UFIConstants").UFIStatus.LIVE_DELETED)}function x(I){G(I.commentid,{postacceptedanswer:I.isaccepted?I.commentid:null})}function y(I){G(I.commentid,{attachment:null})}function z(I){var J=H.getComment(I.commentid),K=I.shouldHideAsSpam?c("UFIConstants").UFIStatus.SPAM_DISPLAY:null;if(J)E(J,K)}function A(I){var J=H.getComment(I.commentid);if(J)G(J.id,{needsApproval:false,isApproved:true})}function B(I){var J=H.getComment(I.commentid);if(J)G(J.id,{appealStatus:c("CommentApprovalsResponsibleUserAction").APPEALED,canAppeal:false,canSecure:false})}function C(I){var J=H.getComment(I.commentid);if(J)G(J.id,{appealStatus:c("CommentApprovalsResponsibleUserAction").SECURED_ACCOUNT,canAppeal:false,canSecure:false})}function D(I){G(I.commentid,u(I))}function E(I,J){G(I.id,{priorstatus:I.status,status:J})}function F(I){var J=H.getComment(I.commentid);if(J){var K={constituentTitle:I.constituentTitle,hasConstituentBadge:I.hasConstituentBadge};G(I.commentid,K)}}function G(I,J){var K=H.getComment(I)||new(c("ImmutableObject"))({});H.setComment(I,c("ImmutableObject").set(K,J));c("UFICentralUpdates").didUpdateComment(K.id);c("UFICentralUpdates").didUpdateFeedback(K.ftentidentifier)}var H={getRenderKey:function I(J){return"comment"+(J in k?k[J]:J)},getComment:function I(J){if(J===c("UFIConstants").unavailableCommentKey)return null;return i[m(J)]},setComment:function I(J,K){K instanceof c("ImmutableObject")||h(0);i[m(J)]=K},setCacheVariable:function I(J,K){J.length!==0||h(0);l[J]=K},getCacheVariable:function I(J){return l[J]},resetComments:function I(J){for(var K in J)delete i[m(K)]},getCommentsForFTEntIdentifier:function I(J){var K=[];for(var L in i){var M=i[L];if(M.ftentidentifier==J)K.push(M)}return K}};c("UFICentralUpdates").subscribe("update-comments",function(I,J){if(J.comments&&J.comments.length)n(J.comments,J.payloadsource);if(J.privatecomments&&J.privatecomments.length)n(J.privatecomments,J.payloadsource);if(J.pinnedcomments&&J.pinnedcomments.length)n(J.pinnedcomments,J.payloadsource)});c("UFICentralUpdates").subscribe("update-actions",function(I,J){if(J.actions&&J.actions.length)o(J.actions,J.payloadsource)});f.exports=H}),22);
__d("areEqual",[],(function a(b,c,d,e,f,g){__p&&__p();var h=[],i=[];function j(l,m){var n=h.length?h.pop():[],o=i.length?i.pop():[],p=k(l,m,n,o);n.length=0;o.length=0;h.push(n);i.push(o);return p}function k(l,m,n,o){__p&&__p();if(l===m)return l!==0||1/l==1/m;if(l==null||m==null)return false;if(typeof l!="object"||typeof m!="object")return false;var p=Object.prototype.toString,q=p.call(l);if(q!=p.call(m))return false;switch(q){case"[object String]":return l==String(m);case"[object Number]":return isNaN(l)||isNaN(m)?false:l==Number(m);case"[object Date]":case"[object Boolean]":return+l==+m;case"[object RegExp]":return l.source==m.source&&l.global==m.global&&l.multiline==m.multiline&&l.ignoreCase==m.ignoreCase}var r=n.length;while(r--)if(n[r]==l)return o[r]==m;n.push(l);o.push(m);var s=0;if(q==="[object Array]"){s=l.length;if(s!==m.length)return false;while(s--)if(!k(l[s],m[s],n,o))return false}else{if(l.constructor!==m.constructor)return false;if(Object.prototype.hasOwnProperty.call(l,"valueOf")&&Object.prototype.hasOwnProperty.call(m,"valueOf"))return l.valueOf()==m.valueOf();var t=Object.keys(l);if(t.length!=Object.keys(m).length)return false;for(var u=0;u<t.length;u++){if(t[u]==="_owner")continue;if(!Object.prototype.hasOwnProperty.call(m,t[u])||!k(l[t[u]],m[t[u]],n,o))return false}}n.pop();o.pop();return true}f.exports=j}),null);
__d("UFILivePinnedCommentStore",["FluxReduceStore","UFIComments","UFIDispatcherBase","UFIFeedbackTargets","UFIStoryActionType","areEqual"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{}};j.prototype.reduce=function(k,l){var m;switch(l.type){case c("UFIStoryActionType").LIVE_PIN_COMMENT:case c("UFIStoryActionType").LIVE_UNPIN_COMMENT:var n=l.commentID,o=l.pinEventID;return babelHelpers["extends"]({},k,(m={},m[l.ftentidentifier]={commentID:n,pinEventID:o},m));default:return k}};j.prototype.areEqual=function(k,l){return c("areEqual")(k,l)};j.prototype.getPinnedCommentID=function(k){var l=this.getState()[k];if(!l){var m=c("UFIFeedbackTargets").getFeedbackTargetIfExists(k);if(!m)return null;return m.livepinnedcommentid||null}return l.commentID||null};j.prototype.getPinEventID=function(k){var l=this.getState()[k];if(!l)return null;return l.pinEventID||null};j.prototype.getPinnedCommentAuthorID=function(k){var l=this.getPinnedCommentID(k);if(!l)return null;var m=c("UFIComments").getComment(l);return m?m.author||null:null};function j(){h.apply(this,arguments)}f.exports=new j(c("UFIDispatcherBase"))}),null);
__d("UFIVisibility",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({VISIBLE:"visible",HIDDEN:"hidden"});f.exports=h}),null);
__d("UFICommentVisibilityStore",["invariant","FluxReduceStore","UFICommentActionType","UFIComments","UFIDispatcherBase","UFIInstanceActionType","UFILivePinnedCommentStore","UFIRootRegistry","UFIVisibility","filterObject"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;function k(p){var q=arguments.length<=1||arguments[1]===undefined?null:arguments[1],r=arguments.length<=2||arguments[2]===undefined?null:arguments[2];q===null&&r===null||q!==null&&r!==null||h(0);if(q)return p+"-"+q+(r?"-P":"");return p}function l(p,q){return p===q||p.startsWith(q+"-")}function m(p){var q=c("UFIRootRegistry").getInstanceIDFromFTEntIdentifier(p);return q?q:[]}function n(p){return{instanceid:p}}i=babelHelpers.inherits(o,c("FluxReduceStore"));j=i&&i.prototype;o.prototype.getInitialState=function(){return{}};o.prototype.getVisibility=function(p,q){var r=arguments.length<=2||arguments[2]===undefined?null:arguments[2],s=r?k(q.instanceid,r.comment.fbid,r.isLivePinnedComment):k(q.instanceid);if(Object.prototype.hasOwnProperty.call(p,s))return p[s];return c("UFIVisibility").HIDDEN};o.prototype.$UFICommentVisibilityStore1=function(p){var q=n(p);return this.getVisibility(this.getState(),q)===c("UFIVisibility").VISIBLE};o.prototype.isFeedbackTargetVisible=function(p){var q=m(p);return q.some(function(r){return this.$UFICommentVisibilityStore1(r)}.bind(this))};o.prototype.reduce=function(p,q){__p&&__p();var r;switch(q.type){case c("UFICommentActionType").UNMOUNTED:var s=babelHelpers["extends"]({},p);delete s[k(q.instanceID,q.renderedComment.comment.fbid,q.renderedComment.isLivePinnedComment)];return s;case c("UFICommentActionType").CHANGE_VISIBILITY:return babelHelpers["extends"]({},p,(r={},r[k(q.instanceID,q.renderedComment.comment.fbid,q.renderedComment.isLivePinnedComment)]=q.visibility,r));case c("UFIInstanceActionType").CHANGE_VISIBILITY:var t=c("UFIRootRegistry").getFTEntIdentifierFromInstanceID(q.instanceID),u=c("UFIComments").getCommentsForFTEntIdentifier(t);q.type===c("UFIInstanceActionType").CHANGE_VISIBILITY||h(0);var v=q.visibility;if(u){var w,x=u.reduce(function(C,D){C[k(q.instanceID,D.fbid,D.fbid?false:null)]=v;return C},{});if(t){var y=c("UFILivePinnedCommentStore").getPinnedCommentID(t);if(y){var z=c("UFIComments").getComment(y);if(z)x[k(q.instanceID,z.fbid,true)]=v}}return babelHelpers["extends"]({},p,(w={},w[k(q.instanceID)]=q.visibility,w),x)}case c("UFIInstanceActionType").REMOVE:var A=q.instanceID,B=k(A);return c("filterObject")(p,function(C,D){return D!==B&&!l(D,A)})}return p};function o(){i.apply(this,arguments)}f.exports=new o(c("UFIDispatcherBase"))}),null);
__d("UFICommercialBreakStore",["UFIDispatcherBase","UFIInstanceActionType","UFIKeyValueStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("UFIKeyValueStore"));i=h&&h.prototype;j.prototype.getValueFor=function(k){return!!i.getValueFor.call(this,k)};j.prototype.getStateValue=function(k){switch(k.type){case c("UFIInstanceActionType").TOGGLE_COMMERCIAL_BREAK:return k.inCommercial}return null};function j(){h.apply(this,arguments)}f.exports=new j(c("UFIDispatcherBase"))}),null);
__d("UFIInteractionStore",["UFIAddCommentActionType","UFICommentActionType","UFIDispatcherBase","UFIInstanceActionType","UFIKeyValueStore","UFIStoryActionType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("UFIKeyValueStore"));i=h&&h.prototype;j.prototype.getValueFor=function(k){return!!i.getValueFor.call(this,k)};j.prototype.getStateValue=function(k){switch(k.type){case c("UFIAddCommentActionType").CHANGE_CONTENT:case c("UFIAddCommentActionType").SUBMIT_EDIT:case c("UFIAddCommentActionType").SUBMIT_NEW:case c("UFICommentActionType").CHANGE_REACTION:case c("UFICommentActionType").EDIT:case c("UFICommentActionType").REMOVE:case c("UFICommentActionType").TOGGLE_LIKE:case c("UFICommentActionType").TOGGLE_MARK_AS_SPAM:case c("UFICommentActionType").TRANSLATE:case c("UFIInstanceActionType").CHANGE_ORDER_MODE:case c("UFIInstanceActionType").TOGGLE_COMMENTS:case c("UFIStoryActionType").PAGE_IN_COMMENTS:case c("UFIStoryActionType").SHOW_REPLIES:case c("UFIStoryActionType").TOGGLE_REPLIES:return true}return null};function j(){h.apply(this,arguments)}f.exports=new j(c("UFIDispatcherBase"))}),null);
__d("UFILiveTypingStore",["FluxReduceStore","UFIDispatcherBase","UFIStoryActionType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.getNewFeedbackState=function(k){switch(k){case c("UFIStoryActionType").FRIEND_TYPING:return"friend";case c("UFIStoryActionType").SOMEONE_TYPING:return"someone";case c("UFIStoryActionType").TYPING_STOPPED:return false;default:return null}};j.prototype.getInitialState=function(){return{}};j.prototype.reduce=function(k,l){var m=j.getNewFeedbackState(l.type);if(m!==null){var n;k=babelHelpers["extends"]({},k,(n={},n[l.ftentidentifier]=m,n))}return k};j.prototype.isFriendTyping=function(k){return this.getState()[k]==="friend"};function j(){h.apply(this,arguments)}f.exports=new j(c("UFIDispatcherBase"))}),null);
__d("UFICentralUpdatesLocalCommentAdapter",["ClientIDs","FeedbackPayloadSourceType","UFICentralUpdates","UFIDispatcherBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i={},j=(h={},h[c("FeedbackPayloadSourceType").USER_ACTION]=l,h[c("FeedbackPayloadSourceType").ENDPOINT_ADD_COMMENT]=m,h);function k(){return c("UFICentralUpdates").subscribe("update-comments",function(p,q){if(q.comments){var r=j[q.payloadsource];if(r)q.comments.forEach(r)}})}function l(p){if(!c("ClientIDs").isExistingClientID(p.id))return;i[p.id]=p.ufiinstanceid;c("UFIDispatcherBase").dispatch({type:"CENTRALUPDATES_ADDED_COMMENT",instanceID:p.ufiinstanceid,ftentidentifier:p.ftentidentifier,clientID:p.id})}function m(p){if(!c("ClientIDs").isExistingClientID(p.clientid))return;var q=i[p.clientid];delete i[p.clientid];if(!q)return;c("UFIDispatcherBase").dispatch({type:"CENTRALUPDATES_SAVED_COMMENT",instanceID:q,ftentidentifier:p.ftentidentifier,clientID:p.clientid,commentID:p.id})}var n=void 0,o={subscribeOnce:function p(){if(!n){n=k();return n}return null}};f.exports=o}),null);
__d("UFILocallyComposedCommentStore",["invariant","ClientIDs","FluxReduceStore","UFIAddCommentActionType","UFICentralUpdatesLocalCommentAdapter","UFIDispatcherBase","setByPath"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;function k(m){return babelHelpers["extends"]({},m)}i=babelHelpers.inherits(l,c("FluxReduceStore"));j=i&&i.prototype;function l(m){j.constructor.call(this,m);var n=c("UFICentralUpdatesLocalCommentAdapter").subscribeOnce()}l.prototype.getInitialState=function(){return{}};l.prototype.getStateForInstance=function(m){return m?this.getState()[m]||{}:{}};l.prototype.reduce=function(m,n){__p&&__p();switch(n.type){case"CENTRALUPDATES_ADDED_COMMENT":c("ClientIDs").isExistingClientID(n.clientID)||h(0);m=k(m);c("setByPath")(m,[n.instanceID,n.clientID],true);return m;case"CENTRALUPDATES_SAVED_COMMENT":c("ClientIDs").isExistingClientID(n.clientID)||h(0);m=k(m);c("setByPath")(m,[n.instanceID,n.commentID],true);delete m[n.instanceID][n.clientID];return m;case c("UFIAddCommentActionType").SUBMIT_EDIT:m=k(m);c("setByPath")(m,[n.instanceID,n.comment.id],true);return m}return m};f.exports=new l(c("UFIDispatcherBase"))}),null);
__d("UFIPlayLiveVODHighlightsStore",["UFIDispatcherBase","UFIInstanceActionType","UFIKeyValueStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("UFIKeyValueStore"));i=h&&h.prototype;j.prototype.getValueFor=function(k){return!!i.getValueFor.call(this,k)};j.prototype.getStateValue=function(k){switch(k.type){case c("UFIInstanceActionType").PLAY_LIVE_VOD_HIGHLIGHTS:return k.playingLiveVODHighlights}return null};function j(){h.apply(this,arguments)}f.exports=new j(c("UFIDispatcherBase"))}),null);
__d("UFIActionTypes",["UFIInstanceActionType","UFIStoryActionType","UFIAddCommentActionType","UFICommentActionType"],(function a(b,c,d,e,f,g){"use strict";var h={INSTANCE:c("UFIInstanceActionType"),STORY:c("UFIStoryActionType"),ADD_COMMENT:c("UFIAddCommentActionType"),COMMENT:c("UFICommentActionType")};f.exports=h}),null);
__d("UFIReactionPendingRequestsStore",["FluxReduceStore","UFIActionTypes","UFIDispatcherBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;function j(o){return o+"-comment"}function k(o){return o+"-story"}function l(o,p){var q;return babelHelpers["extends"]({},o,(q={},q[p]=(o[p]||0)+1,q))}function m(o,p){var q;return babelHelpers["extends"]({},o,(q={},q[p]=(o[p]||0)-1,q))}h=babelHelpers.inherits(n,c("FluxReduceStore"));i=h&&h.prototype;n.prototype.getInitialState=function(){return{}};n.prototype.reduce=function(o,p){switch(p.type){case c("UFIActionTypes").STORY.CHANGE_REACTION:return l(o,k(p.ftentidentifier));case c("UFIActionTypes").COMMENT.CHANGE_REACTION:return l(o,j(p.fbid));case c("UFIActionTypes").STORY.CHANGE_REACTION_SUCCESS:case c("UFIActionTypes").STORY.CHANGE_REACTION_FAILURE:return m(o,k(p.ftentidentifier));case c("UFIActionTypes").COMMENT.CHANGE_REACTION_FAILURE:case c("UFIActionTypes").COMMENT.CHANGE_REACTION_SUCCESS:return m(o,j(p.fbid))}return o};n.prototype.getPendingRequestsForComment=function(o){return this.getState()[j(o)]||0};n.prototype.getPendingRequests=function(o){return this.getState()[k(o)]||0};function n(){h.apply(this,arguments)}f.exports=new n(c("UFIDispatcherBase"))}),null);
__d("UFIReactionSyncStore",["FluxReduceStore","UFIActionTypes","UFIDispatcherBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;function j(m){return m+"-comment"}function k(m){return m+"-story"}h=babelHelpers.inherits(l,c("FluxReduceStore"));i=h&&h.prototype;l.prototype.getInitialState=function(){return{}};l.prototype.reduce=function(m,n){__p&&__p();var o,p,q;switch(n.type){case c("UFIActionTypes").INSTANCE.INIT:var r=n.payload,s=r.feedbacktarget?r.feedbacktarget:r.feedbacktargets&&r.feedbacktargets[0];if(!s)return m;var t=n.payload.comments.reduce(function(u,v){u[j(v.fbid)]=v.viewerreaction;return u},{});return babelHelpers["extends"]({},m,t,(o={},o[k(n.ftentidentifier)]=s.viewerreaction,o));case c("UFIActionTypes").STORY.CHANGE_REACTION_SUCCESS:return babelHelpers["extends"]({},m,(p={},p[k(n.ftentidentifier)]=n.reactionType,p));case c("UFIActionTypes").COMMENT.CHANGE_REACTION_SUCCESS:return babelHelpers["extends"]({},m,(q={},q[j(n.fbid)]=n.reactionType,q));default:return m}};l.prototype.getLastKnownCommentReaction=function(m){return this.getState()[j(m)]};l.prototype.getLastKnownReaction=function(m){return this.getState()[k(m)]};function l(){h.apply(this,arguments)}f.exports=new l(c("UFIDispatcherBase"))}),null);
__d("UFISharedDispatcher",["UFIDispatcherBase","UFIFeedbackStore","UFIAcceptedAnswerStore","UFICommentEditIDStore","UFICommentVisibilityStore","UFICommercialBreakStore","UFIComposerIsTypingStore","UFIInteractionStore","UFILivePinnedCommentStore","UFILiveTypingStore","UFILocallyComposedCommentStore","UFIOrderingModeStore","UFIReactionPendingRequestsStore","UFIReactionSyncStore","UFISpamStore","UFIPlayLiveVODHighlightsStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();c("UFIFeedbackStore");c("UFIAcceptedAnswerStore");c("UFICommentEditIDStore");c("UFICommentVisibilityStore");c("UFICommercialBreakStore");c("UFIComposerIsTypingStore");c("UFIFeedbackStore");c("UFIInteractionStore");c("UFILivePinnedCommentStore");c("UFILiveTypingStore");c("UFILocallyComposedCommentStore");c("UFIOrderingModeStore");c("UFIReactionPendingRequestsStore");c("UFIReactionSyncStore");c("UFISpamStore");c("UFIPlayLiveVODHighlightsStore");f.exports=c("UFIDispatcherBase")}),null);
__d("ActorURI",["ActorURIConfig","URI"],(function a(b,c,d,e,f,g){var h={create:function i(j,k){return new(c("URI"))(j).addQueryData(c("ActorURIConfig").PARAMETER_ACTOR,k)},PARAMETER_ACTOR:c("ActorURIConfig").PARAMETER_ACTOR};f.exports=h}),null);
__d("BanzaiLogger",["Banzai"],(function a(b,c,d,e,f,g){var h="logger";function i(k){return{log:function l(m,n){c("Banzai").post(j._getRoute(m),n,k)},registerToSendWithBeacon:function l(m,n,o,p){c("Banzai").registerToSendWithBeacon(j._getRoute(m),n,o,p)},_getRoute:function l(m){return h+":"+m}}}var j=i();j.create=i;f.exports=j}),null);
__d("areJSONRepresentationsEqual",[],(function a(b,c,d,e,f,g){function h(i,j){return JSON.stringify(i)==JSON.stringify(j)}f.exports=h}),null);
__d("debounceAcrossTransitions",["debounce"],(function a(b,c,d,e,f,g){function h(i,j,k){return c("debounce")(i,j,k,true)}f.exports=h}),18);
__d("setImmediate",["TimerStorage","TimeSlice","setImmediateAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){__p&&__p();var j=void 0,k=function k(){c("TimerStorage").unset(c("TimerStorage").IMMEDIATE,j);for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];Function.prototype.apply.call(i,this,p)};c("TimeSlice").copyGuardForWrapper(i,k);for(var l=arguments.length,m=Array(l>1?l-1:0),n=1;n<l;n++)m[n-1]=arguments[n];j=c("setImmediateAcrossTransitions").apply(undefined,[k].concat(m));c("TimerStorage").set(c("TimerStorage").IMMEDIATE,j);return j}f.exports=h}),null);
__d("NumberFormat",["intlNumUtils","NumberFormatConfig"],(function a(b,c,d,e,f,g){__p&&__p();var h=/(\d{3})(?=\d)/g;function i(l){return(""+l).split("").reverse().join("")}function j(l,m){if(Math.abs(l).toString().length<c("NumberFormatConfig").minDigitsForThousandsSeparator)return l.toString();var n=i(""+l);return i(n.replace(h,"$1"+m))}var k={formatIntegerWithDelimiter:j,formatInteger:function l(m){return c("intlNumUtils").formatNumberWithThousandDelimiters(m)}};f.exports=k}),null);
__d("QE2Logger",["Banzai"],(function a(b,c,d,e,f,g){__p&&__p();var h="qe2_log_exposure",i={},j={logExposureForUser:function k(l,m){m=m?m:"";j.__logExposure(l,m,9)},logExposureForEmail:function k(l,m){j.__logExposure(l,m,3)},logExposureForDatr:function k(l){j.__logExposure(l,"",5)},logExposureForOculusLoggedOutSB:function k(l){j.__logExposure(l,"",31)},logExposureForPage:function k(l,m){j.__logExposure(l,m,7)},logExposureForPhoneNumber:function k(l,m){j.__logExposure(l,m,8)},logExposureForScimCompanyID:function k(l,m){j.__logExposure(l,m,22)},logExposureForAnalyticsEntityID:function k(l,m){j.__logExposure(l,m,27)},logExposureForAdAccountID:function k(l,m){j.__logExposure(l,m,0)},logExposure:function k(l,m,n){j.__logExposure(l,m,n)},__logExposure:function k(l,m,n){var o=l+"|"+m;if(i[o])return;var p={universeName:l,unitID:m,unitType:n};c("Banzai").post(h,p,{signal:true});i[o]=true}};f.exports=j}),null);
__d("UFICommentAction",["UFICommentActionType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={changeReaction:function i(j,k,l,m){return{type:c("UFICommentActionType").CHANGE_REACTION,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,reactionType:l,target:m}},changeReactionSuccess:function i(j,k,l){return{type:c("UFICommentActionType").CHANGE_REACTION_SUCCESS,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,reactionType:l}},changeReactionFailure:function i(j,k,l){return{type:c("UFICommentActionType").CHANGE_REACTION_FAILURE,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,reactionType:l}},mounted:function i(j,k){return{type:c("UFICommentActionType").MOUNTED,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.comment.fbid,renderedComment:k,contextArgs:j}},unmounted:function i(j,k){return{type:c("UFICommentActionType").UNMOUNTED,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.comment.fbid,renderedComment:k,contextArgs:j}},changeVisibility:function i(j,k,l){return{type:c("UFICommentActionType").CHANGE_VISIBILITY,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.comment.fbid,renderedComment:k,contextArgs:j,visibility:l}},edit:function i(j,k){return{type:c("UFICommentActionType").EDIT,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k}},remove:function i(j,k,l,m){return{type:c("UFICommentActionType").REMOVE,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,target:l,onConfirm:m}},delete_comment_and_remove_commenter:function i(j,k,l,m){return{type:c("UFICommentActionType").DELETE_COMMENT_AND_REMOVE_COMMENTER,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,target:l,onConfirm:m}},mute_member:function i(j,k,l,m){return{type:c("UFICommentActionType").MUTE_MEMBER,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,target:l,onConfirm:m}},toggle_text_delights:function i(j,k,l){return{type:c("UFICommentActionType").TOGGLE_TEXT_DELIGHTS,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,target:l}},removePreview:function i(j,k,l){return{type:c("UFICommentActionType").REMOVE_PREVIEW,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,target:l}},toggleLike:function i(j,k,l){return{type:c("UFICommentActionType").TOGGLE_LIKE,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,like:!k.hasviewerliked,target:l}},translate:function i(j,k,l){return{type:c("UFICommentActionType").TRANSLATE,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,trigger:l}},markAsSpam:function i(j,k,l){return{type:c("UFICommentActionType").TOGGLE_MARK_AS_SPAM,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,is_spam:true,target:l}},markAsNotSpam:function i(j,k,l){return{type:c("UFICommentActionType").TOGGLE_MARK_AS_SPAM,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,is_spam:false,target:l}},inlineBan:function i(j,k,l,m){return{type:c("UFICommentActionType").TOGGLE_INLINE_BAN,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,is_banned:true,ownerid:m,target:l}},undoInlineBan:function i(j,k,l,m){return{type:c("UFICommentActionType").TOGGLE_INLINE_BAN,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,is_banned:false,ownerid:m,target:l}},inlineStreamBan:function i(j,k,l,m){return{type:c("UFICommentActionType").TOGGLE_INLINE_STREAM_BAN,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,is_banned:true,ownerid:m,target:l}},undoInlineStreamBan:function i(j,k,l,m){return{type:c("UFICommentActionType").TOGGLE_INLINE_STREAM_BAN,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,is_banned:false,ownerid:m,target:l}},embed:function i(j,k){return{type:c("UFICommentActionType").EMBED,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k}},manageConstituentBadge:function i(j,k){return{type:c("UFICommentActionType").MANAGE_CONSTITUENT_BADGE,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k}},keepSpam:function i(j,k,l){return{type:c("UFICommentActionType").TOGGLE_KEEP_SPAM,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,target:l}},appealSpam:function i(j,k,l,m){return{type:c("UFICommentActionType").TOGGLE_APPEAL_SPAM,instanceID:j.instanceid,ftentidentifier:k.fbid,fbid:k.fbid,comment:k,target:l,feedback:m}},secureAccount:function i(j,k,l,m){return{type:c("UFICommentActionType").TOGGLE_SECURE_ACCOUNT,instanceID:j.instanceid,ftentidentifier:k.fbid,fbid:k.fbid,comment:k,target:l,feedback:m}}};f.exports=h}),null);
__d("UFIReactionsUtils",[],(function a(b,c,d,e,f,g){__p&&__p();var h={getReactionData:function i(j,k,l,m){__p&&__p();k=parseInt(k,10);var n=!!k,o=j.reactorids?j.reactorids.slice(0):[],p=o.indexOf(l),q=0;if(n){if(p<0){l&&o.unshift(l);q=1}}else if(p>-1){o.splice(p,1);q=-1}var r=Math.max(j.reactioncount+q,0),s=j.reactioncountreduced;if(s&&!isNaN(s))if(m)s=m(r);else s=r.toString();var t=j.reactioncountmap||{},u=void 0,v=j.viewerreaction;if(v&&t[v]){t[v]["default"]=Math.max((t[v]["default"]||0)-1,0);u=t[v].reduced;if(u&&!isNaN(u))t[v].reduced=t[v]["default"].toString()}if(n&&t[k]){t[k]["default"]=(t[k]["default"]||0)+1;u=t[k].reduced;if(u&&!isNaN(u))t[k].reduced=t[k]["default"].toString()}var w=j.userreactions;if(!w||Array.isArray(w))w={};if(l)if(n)w[l]=k;else delete w[l];var x=null;if(j.reactionsentences){var y=!(v&&k);x={current:j.reactionsentences[y?"alternate":"current"],alternate:j.reactionsentences[y?"current":"alternate"]}}return{reactioncount:r,reactioncountmap:t,reactioncountreduced:s,reactionsentences:x,reactorids:o,userreactions:w,viewerreaction:k}},getReactionCountMapFromSummary:function i(j){var k={};if(!j)return k;for(var l=0;l<j.length;l++){var m=j[l],n=m.feedback_reaction.key;k[n]={"default":m.reactors&&m.reactors.count,reduced:m.reactors&&m.reactors.display_count}}return k}};f.exports=h}),null);
__d("UFIStoryAction",["UFIStoryActionType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={changeAcceptedAnswer:function i(j,k,l){return{type:c("UFIStoryActionType").CHANGE_ACCEPTED_ANSWER,instanceID:j.instanceid,ftentidentifier:k.ftentidentifier,comment:k,doAccept:l}},commentsArrived:function i(j,k,l,m,n){return{type:c("UFIStoryActionType").COMMENTS_ARRIVED,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,section:n,newOffset:k,newLength:l,source:m}},pageInComments:function i(j,k,l,m,n){return{type:c("UFIStoryActionType").PAGE_IN_COMMENTS,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,commentID:k,direction:l,nextRange:m,section:n}},showComments:function i(j){return{type:c("UFIStoryActionType").SHOW_COMMENTS,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier}},showReplies:function i(j,k,l){return{type:c("UFIStoryActionType").SHOW_REPLIES,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,commentID:k,initiatorComment:l}},spamFetched:function i(j,k,l,m){return{type:c("UFIStoryActionType").SPAM_FETCHED,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,viewas:k,commentIDs:l,parentCommentID:m}},changeReaction:function i(j,k,l){var m=arguments.length<=3||arguments[3]===undefined?null:arguments[3],n=arguments.length<=4||arguments[4]===undefined?null:arguments[4];return{type:c("UFIStoryActionType").CHANGE_REACTION,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,contextArgs:j,reactionType:k,target:l,sphericalYaw:m,sphericalPitch:n}},changeReactionSuccess:function i(j,k){return{type:c("UFIStoryActionType").CHANGE_REACTION_SUCCESS,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,reactionType:k}},changeReactionFailure:function i(j,k){return{type:c("UFIStoryActionType").CHANGE_REACTION_FAILURE,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,reactionType:k}},toggleReplies:function i(j,k){return{type:c("UFIStoryActionType").TOGGLE_REPLIES,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,commentID:k}},friendTyping:function i(j){return{type:c("UFIStoryActionType").FRIEND_TYPING,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier}},someoneTyping:function i(j){return{type:c("UFIStoryActionType").SOMEONE_TYPING,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier}},typingStopped:function i(j){return{type:c("UFIStoryActionType").TYPING_STOPPED,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier}},pinComment:function i(j,k){var l=arguments.length<=2||arguments[2]===undefined?null:arguments[2];return{type:c("UFIStoryActionType").LIVE_PIN_COMMENT,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,commentID:k,pinEventID:l}},unpinComment:function i(j){var k=arguments.length<=1||arguments[1]===undefined?null:arguments[1];return{type:c("UFIStoryActionType").LIVE_UNPIN_COMMENT,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,commentID:null,pinEventID:k}}};f.exports=h}),null);
__d("Nectar",["Env","getContextualParent"],(function a(b,c,d,e,f,g){__p&&__p();function h(k){if(!k.nctr)k.nctr={}}function i(k){__p&&__p();if(c("Env").module||!k)return c("Env").module;var l={fbpage_fan_confirm:true,photos_snowlift:true},m;while(k&&k.getAttribute){var n=k.getAttribute("id");if(n!=null&&n.startsWith("pagelet_"))return n;if(!m&&l[n])m=n;k=c("getContextualParent")(k)}return m}var j={addModuleData:function k(l,m){var n=i(m);if(n){h(l);l.nctr._mod=n}},addImpressionID:function k(l){if(c("Env").impid){h(l);l.nctr._impid=c("Env").impid}}};f.exports=j}),null);
__d("UFIUserActionUtils",["Nectar","TrackingNodes","collectDataAttributes","gkx"],(function a(b,c,d,e,f,g){__p&&__p();var h={trackingData:function j(k){if(!k)return{ft:{}};var j={ft:c("collectDataAttributes")(k,["ft"]).ft};c("Nectar").addModuleData(j,k);if(c("gkx")("AT7CIllQs5vUP4A0v4SO9HVcFFh0Ii9VCv9l4cQX-5tVrl409OQPBI9KeKPxfSR6LwVFoWp0EUZ1__ITSQvSE6WAivJJgTZl90GSJyfeP6-0FA")&&i(j.ft.tn))return{};return j}};function i(j){if(j){var k=c("TrackingNodes").parseTrackingNodeString(j);for(var l=0;l<k.length;l++){var m=k[l][0];switch(m){case c("TrackingNodes").types.COMMENT:return true}}}return false}f.exports=h}),null);
__d("ViewportBounds",["Arbiter","ArbiterMixin","BlueBar","PageEvents","Vector","emptyFunction","removeFromArray"],(function a(b,c,d,e,f,g){__p&&__p();var h={top:[],right:[],bottom:[],left:[]};function i(m){return function(){return h[m].reduce(function(n,o){return Math.max(n,o.getSize())},0)}}function j(m,n){return function(o){return new k(m,o,n)}}function k(m,n){var o=arguments.length<=2||arguments[2]===undefined?false:arguments[2];"use strict";this.getSide=c("emptyFunction").thatReturns(m);this.getSize=function(){return typeof n==="function"?n():n};this.isPersistent=c("emptyFunction").thatReturns(o);h[m].push(this);l.inform("change")}k.prototype.remove=function(){"use strict";c("removeFromArray")(h[this.getSide()],this);l.inform("change")};c("Arbiter").subscribe(c("PageEvents").AJAXPIPE_ONUNLOAD,function(){["top","right","bottom","left"].forEach(function(m){var n=h[m];for(var o=n.length-1;o>=0;o--){var p=n[o];if(!p.isPersistent())p.remove()}})});var l=babelHelpers["extends"]({},c("ArbiterMixin"),{getTop:i("top"),getRight:i("right"),getBottom:i("bottom"),getLeft:i("left"),getElementPosition:function m(n){var o=c("Vector").getElementPosition(n);o.y-=l.getTop();return o},addTop:j("top"),addRight:j("right"),addBottom:j("bottom"),addLeft:j("left"),addPersistentTop:j("top",true),addPersistentRight:j("right",true),addPersistentBottom:j("bottom",true),addPersistentLeft:j("left",true)});l.addPersistentTop(function(){if(c("BlueBar").hasFixedBlueBar()){var m=c("BlueBar").getMaybeFixedRoot();return m?m.offsetHeight:0}return 0});f.exports=l}),null);
__d("getOrCreateDOMID",["uniqueID"],(function a(b,c,d,e,f,g){function h(i){if(!i.id)i.id=c("uniqueID")();return i.id}f.exports=h}),null);
__d("XUFICommentReactionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/comment/reaction/",{reaction_type:{type:"Enum",enumType:0}})}),null);
__d("XUFIReactionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/reaction/",{client_id:{type:"String"},ft_ent_identifier:{type:"String"},reaction_type:{type:"Enum",enumType:0},story_render_location:{type:"Enum",enumType:1},is_inline:{type:"Bool",defaultValue:false},is_comment:{type:"Bool",defaultValue:false},is_permalink:{type:"Bool",defaultValue:false},action_source:{type:"String"},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},is_sponsored:{type:"Bool",defaultValue:false},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:false},on_demand_content_time_offset:{type:"Int"},live_content_time_offset:{type:"Int"},aftercursor:{type:"String"},tab:{type:"String"},av:{type:"Int"},_ft_:{type:"String"}})}),null);
__d("UFIReactionUserActions",["ActorURI","AsyncResponse","ChannelClientID","ClientIDs","MercuryServerDispatcher","NumberFormat","QE2Logger","UFICentralUpdates","UFICommentAction","UFIComments","UFIConfig","UFIConstants","UFIFeedbackTargets","UFIReactionPendingRequestsStore","UFIReactionsUtils","UFIReactionSyncStore","UFIReactionTypes","UFISharedDispatcher","UFIStoryAction","UFIUserActionUtils","UFIVideoPlayerRegistry","XUFICommentReactionController","XUFIReactionController","emptyFunction","ifRequired","setImmediate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={changeReaction:function z(A,B,C,D){__p&&__p();var E=arguments.length<=4||arguments[4]===undefined?null:arguments[4],F=arguments.length<=5||arguments[5]===undefined?null:arguments[5];c("UFIFeedbackTargets").getFeedbackTarget(A,function(G){__p&&__p();var H,I=w(G,B);c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:I});var J=c("UFIUserActionUtils").trackingData(D),K={};K[c("ActorURI").PARAMETER_ACTOR]=G.actorforpost;var L=babelHelpers["extends"]({client_id:c("ClientIDs").getNewClientID(),ft_ent_identifier:A,reaction_type:B,root_id:C.rootid,session_id:c("ChannelClientID").getID(),source:C.source,feedback_referrer:C.feedbackReferrer,instance_id:C.instanceid},K,J);if(C.fluentContentToken)(function(){__p&&__p();var M=C.fluentContentToken,N=c("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerForElement(D,M);if(N&&N.isSpherical())L.video_playback_timestamp=c("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(D,M);if(C.isLiveVOD)L.on_demand_content_time_offset=c("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(D,M);else if(C.islivestreaming)L.live_content_time_offset=c("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(D,M);if(N&&N.isSpherical())c("ifRequired")("SphericalViewportControlStore",function(O){var P=O.getOrientation(N.getVideoPlayerID());if(P)if(E!==null&&F!==null){L.spherical_yaw=E;L.spherical_pitch=F}else{L.spherical_pitch=Math.round(P.pitch);L.spherical_yaw=Math.round(P.yaw)}},c("emptyFunction")())})();c("MercuryServerDispatcher").trySend(c("XUFIReactionController").getURIBuilder().getURI(),L)})},changeCommentReaction:function z(A,B,C,D){var E=c("UFIComments").getComment(A);if(E&&E.__typename==="saved"&&E.viewerreaction!=B)c("UFIFeedbackTargets").getFeedbackTarget(E.ftentidentifier,function(F){var G=c("UFIUserActionUtils").trackingData(D),H=v(E,F,B);c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:H});var I={};I[c("ActorURI").PARAMETER_ACTOR]=F.actorforpost;c("MercuryServerDispatcher").trySend(c("XUFICommentReactionController").getURIBuilder().getURI(),babelHelpers["extends"]({comment_id:A,legacy_id:E.legacyid,reaction_type:B,ft_ent_identifier:E.ftentidentifier,source:C.source,instance_id:C.instanceid,client_id:c("ClientIDs").getNewClientID(),session_id:c("ChannelClientID").getID()},G,I))})}},i={},j=c("XUFIReactionController").getURIBuilder().getURI();i[j]={mode:c("MercuryServerDispatcher").IMMEDIATE,error_handler:r,handler:q};var k=c("XUFICommentReactionController").getURIBuilder().getURI();i[k]={mode:c("MercuryServerDispatcher").BATCH_CONDITIONAL,batch_if:l,batch_function:m,error_handler:u,handler:t};c("MercuryServerDispatcher").registerEndpoints(i);function l(z,A){return z&&z.ft_ent_identifier==A.ft_ent_identifier&&z.comment_id==A.comment_id}function m(z,A){return A}var n="feedback_reactions_www_rollback_universe";function o(){c("QE2Logger").logExposureForUser(n)}function p(z,A){var B=c("UFIReactionPendingRequestsStore").getPendingRequests(z);if(B>0)return;var C=c("UFIReactionSyncStore").getLastKnownReaction(z);if(A===C)return;c("UFIFeedbackTargets").getFeedbackTarget(z,function(D){var E=w(D,C);c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:E})})}function q(z,A){var B=A.data,C=B.ft_ent_identifier,D=B.reaction_type;c("UFISharedDispatcher").dispatch(c("UFIStoryAction").changeReactionSuccess({instanceid:B.instance_id,ftentidentifier:C},D));c("setImmediate")(function(){return p(C,D)})}function r(z){__p&&__p();var A=z.request.data,B=A.ft_ent_identifier,C=A.reaction_type;o();var D=c("UFIConfig").reactionsHasReactionsRollback,E=c("UFIConfig").reactionsHasReactionsRetry;if(E&&!A.retry_attempt){c("MercuryServerDispatcher").trySend(c("XUFIReactionController").getURIBuilder().getURI(),babelHelpers["extends"]({},A,{retry_attempt:1}));return}c("UFISharedDispatcher").dispatch(c("UFIStoryAction").changeReactionFailure({instanceid:A.instance_id,ftentidentifier:B},C));if(D)c("setImmediate")(function(){return p(B,C)});c("AsyncResponse").defaultErrorHandler(z)}function s(z,A,B){var C=c("UFIReactionPendingRequestsStore").getPendingRequestsForComment(A.fbid);if(C>0)return;var D=c("UFIReactionSyncStore").getLastKnownCommentReaction(A.fbid);if(B===D)return;c("UFIFeedbackTargets").getFeedbackTarget(z,function(E){var F=v(A,E,D);c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:F})})}function t(z,A){var B=A.data,C=B.ft_ent_identifier,D=B.reaction_type,E=c("UFIComments").getComment(B.comment_id);if(!E||E.__typename!=="saved")return;c("UFISharedDispatcher").dispatch(c("UFICommentAction").changeReactionSuccess({instanceid:B.instance_id,ftentidentifier:C},E,D));c("setImmediate")(function(){return s(C,E,D)})}function u(z){__p&&__p();var A=z.request.data,B=A.ft_ent_identifier,C=A.reaction_type,D=c("UFIComments").getComment(A.comment_id);if(!D)return;o();var E=c("UFIConfig").reactionsHasCommentReactionsRollback,F=c("UFIConfig").reactionsHasCommentReactionsRetry;if(F&&!A.retry_attempt){c("MercuryServerDispatcher").trySend(c("XUFICommentReactionController").getURIBuilder().getURI(),babelHelpers["extends"]({},A,{retry_attempt:1}));return}if(D&&D.__typename==="saved"){c("UFISharedDispatcher").dispatch(c("UFICommentAction").changeReactionFailure({instanceid:A.instance_id,ftentidentifier:B},D,C));if(E)c("setImmediate")(function(){return s(B,D,C)})}c("AsyncResponse").defaultErrorHandler(z)}function v(z,A,B){var C=z.id,D=[y(z,B,C,A.supportedreactions||[],A.actorforpost)],E=B===c("UFIReactionTypes").LIKE;if(A.hasviewerliked!==E){var F=E?1:-1;D.push({commentid:C,actiontype:c("UFIConstants").UFIActionType.COMMENT_LIKE,viewerliked:E,likecount:(z.likecount||0)+F})}return D}function w(z,A){var B=[x(z,A)],C=A!==c("UFIReactionTypes").NONE;if(z.hasviewerliked!==C){var D=C?1:-1;B.push({actiontype:c("UFIConstants").UFIActionType.LIKE_ACTION,actorid:z.actorforpost,hasviewerliked:C,likecount:(z.likecount||0)+D,entidentifier:z.entidentifier,likesentences:{current:z.likesentences.alternate,alternate:z.likesentences.current}})}return B}function x(z,A){return Object.assign({actiontype:c("UFIConstants").UFIActionType.REACTION,actorid:z.actorforpost,entidentifier:z.entidentifier},c("UFIReactionsUtils").getReactionData(z,A,z.actorforpost,c("NumberFormat").formatInteger))}function y(z,A,B,C,D){var E={};for(var F=0;F<C.length;F++){var G=C[F],H=z.reactioncountmap?z.reactioncountmap[G]:null;E[G]={"default":H?H["default"]:0,reduced:H?H.reduced:"0"}}var I=c("UFIReactionsUtils").getReactionData({viewerreaction:z.viewerreaction,reactioncount:z.reactioncount,reactioncountreduced:z.reactioncountreduced,reactioncountmap:E,reactorids:z.viewerreaction?[D]:[]},A,D);return{actiontype:c("UFIConstants").UFIActionType.COMMENT_REACTION,commentid:B,hasviewerliked:!!A,likecount:I.reactioncountmap[1]["default"],reactioncount:I.reactioncount,reactioncountmap:I.reactioncountmap,reactioncountreduced:I.reactioncountreduced,viewerreaction:A}}f.exports=h}),null);
__d("CommentPostedLiveState",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIVE:"Live",ON_DEMAND:"OnDemand"})}),null);
__d("CommentSection",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DEFAULT:"default",FRIENDS:"friends"})}),null);
__d("UFIPagedCommentListImpl",["ClientIDs","KeyedCallbackManager","UFICentralUpdates","UFICommentLogger","UFIConfig","UFIConstants","UFIFeedbackTargets"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();this.actorID=null;this.basePermalink=null;this.commentPermalinks=Object.create(null);this.count=0;this.dataSource=new(c("KeyedCallbackManager"))();this.deletedComments=Object.create(null);this.deletedCount=0;this.lastRequestedLength=0;this.lastRequestedOffset=0;this.feedbackTargetID=i;c("UFIFeedbackTargets").getFeedbackTarget(this.feedbackTargetID,function(j){this.actorID=j.actorforpost;this.basePermalink=j.permalink}.bind(this))}h.prototype.setClientHasAll=function(i){};h.prototype.addOrUpdateComment=function(i){if(!i)return;if(i.__typename==="local")this.$UFIPagedCommentListImpl1(i.id);else this.$UFIPagedCommentListImpl2(i.id,i.clientid,i.legacyid);c("UFICentralUpdates").didUpdateFeedback(this.feedbackTargetID)};h.prototype.$UFIPagedCommentListImpl1=function(i){this.dataSource.setResource(this.count,i);this.count++};h.prototype.$UFIPagedCommentListImpl2=function(i,j,k){__p&&__p();var l=j&&c("ClientIDs").isExistingClientID(j),m=this.dataSource.getAllResources(),n={};for(var o in m){var p=m[o];n[p]=o}if(l&&j&&j in n){n[i]=n[j];var q=n[j];this.dataSource.setResource(q,i);if(c("UFIConfig").logCommentPost)c("UFICommentLogger").logNewCommentReceived(j,Date.now())}else if(!n[i]&&j)this.$UFIPagedCommentListImpl1(i);if(k&&i in n)this.commentPermalinks[i]=this.buildCommentPermalink(i,k,n[i])};h.prototype.addCommentIDs=function(i,j,k){var l={};for(var m=0;m<j;m++)l[i+m]=k[m]||c("UFIConstants").unavailableCommentKey;this.dataSource.addResourcesAndExecute(l);c("UFICentralUpdates").didUpdateFeedback(this.feedbackTargetID)};h.prototype.getComments=function(i,j,k,l){__p&&__p();var m=new Array(j).fill().map(function(s,t){return t+i}),n=this.dataSource.getUnavailableResourcesFromRequest(m);if(n.length){var o=Math.min.apply(Math,n),p=Math.max.apply(Math,n),q=o,r=p-o+1;if(q<this.lastRequestedOffset||q+r>this.lastRequestedOffset+this.lastRequestedLength){this.lastRequestedOffset=q;this.lastRequestedLength=r;this.fetchComments(q,r,k)}}else this.dataSource.executeOrEnqueue(m,function(s){return l(this.commentsFromCommentIDs(s,i,j))}.bind(this))};h.prototype.getCommentsOrThrow=function(i){var j=i.getLength(),k=i.getOffset(),l={};new Array(j).fill().forEach(function(m,n){var o=n+k,p=this.dataSource.getResource(o);if(!p)throw new Error("Tried to get nonexistent comment");l[o]=p}.bind(this));return this.commentsFromCommentIDs(l,k,j)};h.prototype.fetchComments=function(i,j,k){};h.prototype.commentsFromCommentIDs=function(i,j,k){return{}};h.prototype.reset=function(){var i=this.dataSource.getAllResources();this.dataSource.reset();this.count=0;this.deletedCount=0;this.deletedComments={};this.lastRequestedOffset=0;this.lastRequestedLength=0;return i};h.prototype.deleteComment=function(i){if(!(i in this.deletedComments)){this.deletedComments[i]=true;this.deletedCount++}};h.prototype.updateCommentCount=function(i){this.count=i;this.deletedCount=0};h.prototype.getFeedbackTargetID=function(){return this.feedbackTargetID};h.prototype.getCommentCount=function(){return this.count};h.prototype.getDeletedCount=function(){return this.deletedCount};h.prototype.getDisplayedCommentCount=function(){return this.count-this.deletedCount};h.prototype.getBasePermalink=function(){return this.basePermalink};h.prototype.buildCommentPermalink=function(i,j,k){return null};h.prototype.getPermalinkForComment=function(i){return this.commentPermalinks[i]};f.exports=h}),null);
__d("UFIReplyCommentListImpl",["ActorURI","JSLogger","MercuryServerDispatcher","UFICommentLogger","UFIComments","UFIConfig","UFIPagedCommentListImpl","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("JSLogger").create("ufi_reply_comment_list");h=babelHelpers.inherits(k,c("UFIPagedCommentListImpl"));i=h&&h.prototype;function k(l,m,n){i.constructor.call(this,l);this.parentCommentID=m;this.containerOrderingMode=n}k.prototype.fetchComments=function(l,m,n){if(c("UFIConfig").logCommentLoad)c("UFICommentLogger").logCommentFetch(this.feedbackTargetID,Date.now(),{request_length:m,is_reply:true});var o={ft_ent_identifier:this.feedbackTargetID,parent_comment_ids:[this.parentCommentID],source:null,offsets:[l],lengths:[m],feed_context:n?n.feedContext:null,numpagerclicks:n?n.numPagerClicks:null,containerorderingmode:this.containerOrderingMode,translate_all:n?n.translateAll:null};if(!n||!n.viewAs)o[c("ActorURI").PARAMETER_ACTOR]=this.actorID;c("MercuryServerDispatcher").trySend("/ajax/ufi/reply_fetch.php",o)};k.prototype.commentsFromCommentIDs=function(l,m,n){var o={};for(var p=0;p<n;p++){var q=c("UFIComments").getComment(l[m+p]);if(q)o[m+p]=q}return o};k.prototype.reset=function(){var l=i.reset.call(this),m={};for(var n in l){var o=l[n];m[o]=true}c("UFIComments").resetComments(m);return l};k.prototype.getParentCommentID=function(){return this.parentCommentID};k.prototype.buildCommentPermalink=function(l,m,n){if(!this.basePermalink)return null;var o=this.getParentCommentID().split("_"),p=m;if(o.length===2)p=o[1];else j.error("Bad reply comment ID: "+this.getParentCommentID());return new(c("URI"))(this.basePermalink).addQueryData({comment_id:p,reply_comment_id:m}).toString()};c("MercuryServerDispatcher").registerEndpoints({"/ajax/ufi/reply_fetch.php":{mode:c("MercuryServerDispatcher").IMMEDIATE}});f.exports=k}),null);
__d("UFIReplyCommentList",["UFICentralUpdates","UFIComments","UFIConstants","UFIReplyCommentListImpl","getObjectValues"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={},i={getCommentList:function k(l,m,n){if(!h[m])h[m]={};if(!h[m][n]){var o=new(c("UFIReplyCommentListImpl"))(l,m,n),p=i.getReplyListsForParentCommentID(String(m));if(p.length)o.updateCommentCount(p[0].getCommentCount());h[m][n]=o}return h[m][n]},getReplyListsForParentCommentID:function k(l){return c("getObjectValues")(h[l]||{})},resetWithContext:function k(l,m,n,o){var p=h[m][o];if(!p)return;p.reset();p.actorID=n}};function j(k){var l=c("UFIComments").getComment(k.commentid);if(!l)return;var m=l.id,n=l.parentcommentid;if(!n)return;if(l.status!==c("UFIConstants").UFIStatus.DELETED&&l.status!==c("UFIConstants").UFIStatus.FAILED_ADD)i.getReplyListsForParentCommentID(n).forEach(function(o){o.deleteComment(m)})}c("UFICentralUpdates").subscribe("update-actions",function(k,l){if(l.actions&&l.actions.length)for(var m=0;m<l.actions.length;m++){var n=l.actions[m];switch(n.actiontype){case c("UFIConstants").UFIActionType.DELETE_COMMENT:j(n);break}}});c("UFICentralUpdates").subscribe("update-comment-lists",function(k,l){var m=l.commentlists;if(m&&m.replies&&Object.keys(m).length)for(var n in m.replies){var o=m.replies[n],p=o.ftentidentifier,q=o.containerorderingmode,r=i.getCommentList(String(p),String(n),q);r.addCommentIDs(o.range.offset,o.range.length,o.values);r.updateCommentCount(o.count)}});c("UFICentralUpdates").subscribe("update-comments",function(k,l){if(l.comments&&l.comments.length)l.comments.forEach(function(m){var n=m.parentcommentid;if(!n)return;i.getReplyListsForParentCommentID(String(n)).forEach(function(o){o.addOrUpdateComment(m)})})});f.exports=i}),22);
__d("UFIToplevelPagedCommentListImpl",["ActorURI","CommentSection","MercuryServerDispatcher","UFICommentLogger","UFIComments","UFIConfig","UFIOrderingModeStore","UFIPagedCommentListImpl","URI","WebCommentViewOption"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("UFIPagedCommentListImpl"));i=h&&h.prototype;function j(k,l,m){i.constructor.call(this,k);this.clientHasAll=false;this.orderingMode=l;this.section=m||c("CommentSection").DEFAULT;this.clientHasAll=false}j.prototype.fetchComments=function(k,l,m){if(c("UFIConfig").logCommentLoad)c("UFICommentLogger").logCommentFetch(this.feedbackTargetID,Date.now(),{request_length:l,is_reply:false});var n={ft_ent_identifier:this.feedbackTargetID,viewas:m&&m.viewAs?m.viewAs+"":null,source:m&&m.feedbackSource,offset:k,length:l,orderingmode:this.orderingMode,section:this.section,feed_context:m?m.feedContext:null,numpagerclicks:m?m.numPagerClicks:null,translate_all:m?m.translateAll:null,clientcommentcount:this.count};if(this.orderingMode!==c("WebCommentViewOption").RECENT_ACTIVITY||this.orderingMode!==c("WebCommentViewOption").RANKED_THREADED||this.orderingMode!==c("WebCommentViewOption").FILTERED)delete n.clientcommentcount;if(!m||!m.viewAs)n[c("ActorURI").PARAMETER_ACTOR]=this.actorID;c("MercuryServerDispatcher").trySend("/ajax/ufi/comment_fetch.php",n)};j.prototype.commentsFromCommentIDs=function(k,l,m){var n={},o=l,p=l+m-1,q=c("UFIOrderingModeStore").isInverted(this.orderingMode,this.feedbackTargetID);for(var r=0;r<m;r++){var s=q?p-r:o+r,t=c("UFIComments").getComment(k[s]);if(t)n[l+r]=t}return n};j.prototype.getOrderingMode=function(){return this.orderingMode};j.prototype.getCommentSection=function(){return this.section};j.prototype.setClientHasAll=function(k){this.clientHasAll=k};j.prototype.getClientHasAll=function(){return this.clientHasAll};j.prototype.buildCommentPermalink=function(k,l,m){if(!this.basePermalink)return null;return new(c("URI"))(this.basePermalink).addQueryData({comment_id:l}).toString()};c("MercuryServerDispatcher").registerEndpoints({"/ajax/ufi/comment_fetch.php":{mode:c("MercuryServerDispatcher").IMMEDIATE}});f.exports=j}),null);
__d("UFIStreamingStateType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIVE:"live",ON_DEMAND:"on_demand"})}),null);
__d("UFIToplevelStreamedCommentList",["invariant","ClientIDs","Map","UFICentralUpdates","UFICommentLogger","UFIComments","UFIConfig","UFIConstants","UFIRange","UFIStreamingStateType"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){this.feedbackTargetID=j;this.commentIDs=[];this.deletedCount=0;this.totalCommentCount=0}i.prototype.getFeedbackTargetID=function(){return this.feedbackTargetID};i.prototype.getClientHasAll=function(){return false};i.prototype.getActualCommentCount=function(){return this.commentIDs.length};i.prototype.getCommentCount=function(){return this.totalCommentCount};i.prototype.getDisplayedCommentCount=function(){return this.getCommentCount()-this.getDeletedCount()};i.prototype.getDeletedCount=function(){return this.deletedCount};i.prototype.getPermalinkForComment=function(j){return""};i.prototype.getComments=function(j,k,l,m){m(this.getCommentsOrThrow(new(c("UFIRange"))(j,k),l))};i.prototype.getCommentsOrThrow=function(j,k){var l=j.getLength(),m=j.getOffset();m===0||h(0);var n=k.streamingOrderReversed,o={};for(var p=0;p<Math.min(l,this.commentIDs.length);++p){var q=n?this.commentIDs.length-1-p:p,r=c("UFIComments").getComment(this.commentIDs[q]);if(r)o[p]=r}return o};i.prototype.$UFIToplevelStreamedCommentList3=function(){var j=this.commentIDs;this.commentIDs=[];return j};i.prototype.hasComment=function(j){for(var k=0;k<this.commentIDs.length;++k)if(this.commentIDs[k]===j.id)return true;return false};i.prototype.addCommentIDs=function(j,k,l){};i.prototype.setClientHasAll=function(j){};i.prototype.addOrUpdateComment=function(j){__p&&__p();var k=arguments.length<=1||arguments[1]===undefined?null:arguments[1],l=j.clientid;if(l&&c("ClientIDs").isExistingClientID(l)){for(var m=0;m<this.commentIDs.length;++m)if(this.commentIDs[m]===l){this.commentIDs[m]=j.id;if(c("UFIConfig").logCommentPost)c("UFICommentLogger").logNewCommentReceived(l,Date.now())}}else if(k||j.__typename==="local"){if(this.hasComment(j))return;this.commentIDs.push(j.id);if(k!==c("UFIStreamingStateType").ON_DEMAND&&!j.isAnnouncement&&!j.tipOptionIndex)this.totalCommentCount+=1}if(this.commentIDs.length>50)this.commentIDs.shift();c("UFICentralUpdates").didUpdateFeedback(this.feedbackTargetID)};i.prototype.deleteComment=function(j){this.deletedCount+=1;var k=[];for(var l=0;l<this.commentIDs.length;++l){var m=this.commentIDs[l];if(m!==j)k.push(m)}this.commentIDs=k};i.prototype.updateCommentCount=function(j){this.totalCommentCount=j;this.deletedCount=0};i.getCommentList=function(j){__p&&__p();var k=arguments.length<=1||arguments[1]===undefined?i.GLOBAL_ID:arguments[1],l=i.$UFIToplevelStreamedCommentList1.get(j);if(!l){l=new(c("Map"))();i.$UFIToplevelStreamedCommentList1.set(j,l)}var m=l.get(k);if(!m){m=new i(j);l.set(k,m)}return m};i.getExistingCommentList=function(j){var k=arguments.length<=1||arguments[1]===undefined?i.GLOBAL_ID:arguments[1],l=i.$UFIToplevelStreamedCommentList1.get(j);if(!l)return null;return l.get(k)};i.getAllExistingCommentLists=function(j){var k=i.$UFIToplevelStreamedCommentList1.get(j);if(!k)return[];return Array.from(k.values())};i.$UFIToplevelStreamedCommentList4=function(j,k){__p&&__p();var l=i.$UFIToplevelStreamedCommentList2.get(j);if(l){k.forEach(function(n){l[n]=true});return}var m={};k.forEach(function(n){m[n]=true});i.$UFIToplevelStreamedCommentList2.set(j,m)};i.resetCommentList=function(j){var k=arguments.length<=1||arguments[1]===undefined?i.GLOBAL_ID:arguments[1],l=i.getExistingCommentList(j,k);if(!l)return;i.$UFIToplevelStreamedCommentList4(j,l.$UFIToplevelStreamedCommentList3())};i.resetAllCommentLists=function(j){__p&&__p();var k=i.getAllExistingCommentLists(j);if(k.length===0)return;k.forEach(function(m){i.$UFIToplevelStreamedCommentList4(j,m.$UFIToplevelStreamedCommentList3())});var l=i.$UFIToplevelStreamedCommentList2.get(j);if(l){i.$UFIToplevelStreamedCommentList2["delete"](j);c("UFIComments").resetComments(l)}};i.GLOBAL_ID="GLOBAL_ID";i.$UFIToplevelStreamedCommentList1=new(c("Map"))();i.$UFIToplevelStreamedCommentList2=new(c("Map"))();c("UFICentralUpdates").subscribe("update-actions",function(j,k){__p&&__p();if(!k.actions)return;k.actions.forEach(function(l){__p&&__p();if(l.actiontype!==c("UFIConstants").UFIActionType.DELETE_COMMENT)return;var m=c("UFIComments").getComment(l.commentid);if(!m)return;var n=m.id,o=m.ftentidentifier,p=m.parentcommentid;if(p)return;if(l.islocal||m.status!==c("UFIConstants").UFIStatus.DELETED&&m.status!==c("UFIConstants").UFIStatus.FAILED_ADD)i.getAllExistingCommentLists(o).forEach(function(q){return q.deleteComment(n)})})});c("UFICentralUpdates").subscribe("update-comments",function(j,k){__p&&__p();if(!k.comments)return;var l=k.targetufiinstanceid;k.comments.forEach(function(m){if(m.parentcommentid)return;if(l)i.getCommentList(m.ftentidentifier,l).addOrUpdateComment(m,k.streamingstate);else i.getAllExistingCommentLists(m.ftentidentifier).forEach(function(n){n.addOrUpdateComment(m,k.streamingstate)})})});c("UFICentralUpdates").subscribe("update-feedback",function(j,k){var l=k.feedbacktarget?k.feedbacktarget:k.feedbacktargets&&k.feedbacktargets[0];if(!l)return;i.getAllExistingCommentLists(l.entidentifier).forEach(function(m){return m.updateCommentCount(l.commentcount)})});f.exports=i}),22);
__d("UFIToplevelPagedCommentList",["CommentSection","UFICentralUpdates","UFIComments","UFIConstants","UFIReplyCommentList","UFIToplevelPagedCommentListImpl","UFIToplevelStreamedCommentList","WebCommentViewOption","forEachObject"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={},i={getCommentList:function m(n,o,p){__p&&__p();p=p||c("CommentSection").DEFAULT;if(!h[n])h[n]={};if(!h[n][p])h[n][p]={};if(!h[n][p][o]){var q=new(c("UFIToplevelPagedCommentListImpl"))(n,o,p),r=i.getSectionedCommentListsForFeedbackTargetID(n,p);if(r.length)q.updateCommentCount(r[0].getCommentCount());h[n][p][o]=q}return h[n][p][o]},getAllCommentListsForFeedbackTargetID:function m(n){var o=[];c("forEachObject")(h[n]||{},function(p){c("forEachObject")(p,function(q){o.push(q)})});return o},getSectionedCommentListsForFeedbackTargetID:function m(n,o){var p=[],q=(h[n]||{})[o]||{};for(var r in q)p.push(q[r]);return p},getPagedCommentCountForFeedbackTargetID:function m(n,o){var p=i.getSectionedCommentListsForFeedbackTargetID(n,o);return p.length?p[0].getCommentCount():null},getDisplayedCommentCountForFeedbackTargetID_UNSAFE:function m(n){var o=i.getSectionedCommentListsForFeedbackTargetID(n,c("CommentSection").DEFAULT),p=o.length?o[0].getDisplayedCommentCount():null,q=c("UFIToplevelStreamedCommentList").getAllExistingCommentLists(n),r=q.length?q[0].getDisplayedCommentCount():null;if(p===null&&r===null)return null;return Math.max(p||0,r||0)},resetCommentListsForFeedbackTargetID:function m(n){__p&&__p();var o=h[n];if(!o)return;var p={};for(var q in o){var r=o[q];for(var s in r){var t=r[s],u=t.reset();for(var v in u){var w=u[v];p[w]=true}}}c("UFIComments").resetComments(p)},resetCommentListsWithContext:function m(n,o){__p&&__p();var p=h[n];if(!p)return;var q={};for(var r in p){var s=p[r];for(var t in s){var u=s[t];u.actorID=o;var v=u.reset();for(var w in v){var x=v[w];q[x]=true;c("UFIReplyCommentList").resetWithContext(n,x,o,t)}}}c("UFIComments").resetComments(q)}};function j(m){var n=c("UFIComments").getComment(m.commentid);if(!n)return;var o=n.id,p=n.ftentidentifier,q=n.parentcommentid;if(q)return;if(m.islocal||n.status!==c("UFIConstants").UFIStatus.DELETED&&n.status!==c("UFIConstants").UFIStatus.FAILED_ADD)i.getAllCommentListsForFeedbackTargetID(p).forEach(function(r){r.deleteComment(o)})}function k(m,n){c("forEachObject")(m,function(o,p){c("forEachObject")(o,function(q,r){var s=i.getCommentList(p,r,n);s.addCommentIDs(q.range.offset,q.range.length,q.values);s.setClientHasAll(!!q.clienthasall)})})}function l(m,n){m.forEach(function(o){if(o.parentcommentid)return;var p=o.ftentidentifier;i.getSectionedCommentListsForFeedbackTargetID(p,n).forEach(function(q){q.addOrUpdateComment(o)})})}c("UFICentralUpdates").subscribe("update-actions",function(m,n){if(n.actions&&n.actions.length)for(var o=0;o<n.actions.length;o++){var p=n.actions[o];switch(p.actiontype){case c("UFIConstants").UFIActionType.DELETE_COMMENT:j(p);break}}});c("UFICentralUpdates").subscribe("update-comment-lists",function(m,n){var o=n.commentlists,p=n.privatecommentlists;if(o&&o.comments)k(o.comments,c("CommentSection").DEFAULT);if(p&&p.comments)k(p.comments,c("CommentSection").FRIENDS)});c("UFICentralUpdates").subscribe("update-comments",function(m,n){var o=n.comments,p=n.privatecomments;if(o&&o.length)l(o,c("CommentSection").DEFAULT);if(p&&p.length)l(p,c("CommentSection").FRIENDS)});c("UFICentralUpdates").subscribe("update-feedback",function(m,n){__p&&__p();var o,p=n.feedbacktarget?n.feedbacktarget:n.feedbacktargets&&n.feedbacktargets[0];if(p)(function(){__p&&__p();var q=p.entidentifier,r=p.defaultcommentorderingmode,s=new Set();if(r)s.add(r);if(p.orderingmodes)p.orderingmodes.forEach(function(u){if(u.value===c("WebCommentViewOption").LIVE_STREAMING)return;s.add(u.value)});var t=p.privatecommentcount;s.forEach(function(u){i.getCommentList(q,u,c("CommentSection").DEFAULT).updateCommentCount(p.commentcount)});if(typeof t==="number")i.getCommentList(q,c("WebCommentViewOption").CHRONOLOGICAL,c("CommentSection").FRIENDS).updateCommentCount(t)})()});f.exports=i}),22);
__d("Locale",["ExecutionEnvironment","SiteData"],(function a(b,c,d,e,f,g){function h(){if(!c("ExecutionEnvironment").canUseDOM)return false;else return c("SiteData").is_rtl}f.exports={isRTL:h}}),null);
__d("XGroupsMuteMembersController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/groups/mutemember/",{group_id:{type:"FBID"},user_id:{type:"FBID"},mute_duration:{type:"Enum",enumType:1},source:{type:"Enum",enumType:1},should_reload:{type:"Bool",defaultValue:false},mute_reason:{type:"FBID"},custom_expiration:{type:"Int"}})}),null);
__d("XTownHallController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/townhall/",{address:{type:"String"},nux_shown:{type:"Bool",defaultValue:false},ref:{type:"Enum",enumType:1},term:{type:"String"},override_address:{type:"Bool",defaultValue:false},campaign:{type:"String"},setting_nux:{type:"Bool",defaultValue:false},notif_id:{type:"Int"},new_reps:{type:"Int"},tab:{type:"Enum",defaultValue:"representatives",enumType:1}})}),null);
__d("XUFIActorChangeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/actor/change/",{})}),null);
__d("XUFIAddCommentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/add/comment/",{})}),null);
__d("XUFICommentAcceptAnswerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/comment/answer/accept/",{})}),null);
__d("XUFICommentAppealSpamController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/comment/appeal_spam/",{})}),null);
__d("XUFICommentKeepSpamController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/comment/keep_spam/",{})}),null);
__d("XUFICommentLikeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/comment/like/",{})}),null);
__d("XUFICommentSecureAccountController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/comment/secure_account/",{})}),null);
__d("XUFIDeleteCommentAndRemoveCommenterController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/deletecommentandremovecommenter/",{})}),null);
__d("XUFIDeleteCommentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/delete/comment/",{})}),null);
__d("XUFIEditCommentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/edit/comment/",{})}),null);
__d("XUFIHideCommentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/hide/comment/",{})}),null);
__d("XUFILikeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/like/",{})}),null);
__d("XUFISendMessageController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/message/send/",{})}),null);
__d("XUFIToggleTextDelightsAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/textdelights/hide_comment_text_delights/",{comment_id:{type:"String"},should_hide:{type:"Bool",defaultValue:false}})}),null);
__d("XUFITranslateCommentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/translate/comment/",{})}),null);
__d("UFIUserActions",["errorCode","fbt","invariant","ActorURI","AsyncResponse","Bootloader","ChannelClientID","ClientIDs","CommentPostedLiveState","CommentSection","ImmutableObject","MercuryServerDispatcher","UFICentralUpdates","UFICommentLogger","UFIComments","UFIConfig","UFIConstants","UFIFeedbackTargets","UFIReactionUserActions","UFIToplevelPagedCommentList","UFIToplevelStreamedCommentList","UFIUserActionUtils","UFIVideoPlayerRegistry","UnicodeBidi","XGroupsMuteMembersController","XTownHallController","XUFIActorChangeController","XUFIAddCommentController","XUFICommentAcceptAnswerController","XUFICommentAppealSpamController","XUFICommentKeepSpamController","XUFICommentLikeController","XUFICommentSecureAccountController","XUFIDeleteCommentAndRemoveCommenterController","XUFIDeleteCommentController","XUFIEditCommentController","XUFIHideCommentController","XUFILikeController","XUFISendMessageController","XUFIToggleTextDelightsAsyncController","XUFITranslateCommentController","goURI","ifRequired"],(function a(b,c,d,aa,e,ba,ca,f,g){"use strict";__p&&__p();var h=Object.freeze({BAN:"ban",UNDO_BAN:"undo_ban"}),i={changeActor:function N(O,P){c("UFIFeedbackTargets").getFeedbackTarget(O,function(Q){var R;c("UFIToplevelPagedCommentList").resetCommentListsWithContext(O,P);c("UFIToplevelStreamedCommentList").resetAllCommentLists(O);c("UFICentralUpdates").inform("actor-changed",{actorID:P});var S=(R={from_actor_id:Q.actorforpost,ft_ent_identifier:O},R[c("ActorURI").PARAMETER_ACTOR]=P,R),T=c("XUFIActorChangeController").getURIBuilder().getURI();c("MercuryServerDispatcher").trySend(T,S)})},changeCommentLike:function N(O,P,Q){__p&&__p();var R,S=c("UFIComments").getComment(O);if(S&&S.__typename==="saved"&&S.hasviewerliked!=P)(function(){var T=Q.target?c("UFIUserActionUtils").trackingData(Q.target):{},U=P?1:-1,V={commentid:O,actiontype:c("UFIConstants").UFIActionType.COMMENT_LIKE,viewerliked:P,likecount:(S.likecount||0)+U};c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[V]});c("UFIFeedbackTargets").getFeedbackTarget(S.ftentidentifier,function(W){var X={};X[c("ActorURI").PARAMETER_ACTOR]=W.actorforpost;var Y=c("XUFICommentLikeController").getURIBuilder().getURI();c("MercuryServerDispatcher").trySend(Y,babelHelpers["extends"]({comment_id:O,legacy_id:S.legacyid,like_action:P,ft_ent_identifier:S.ftentidentifier,source:Q.source,client_id:c("ClientIDs").getNewClientID(),session_id:c("ChannelClientID").getID()},T,X))})})()},_getAttachment:function N(O){return O},_getLocalComment:function N(O,P,Q,R,S,T){var U=c("ClientIDs").getNewClientID(),V=c("UnicodeBidi").isDirectionLTR(Q)?"ltr":"rtl",W=this._getAttachment(S.attachedsticker);return{__typename:"local",ftentidentifier:P,body:{text:Q,dir:V},author:O.actorforpost,cancomment:false,clientid:null,fbid:null,id:U,ufiinstanceid:S.ufiinstanceid,likecount:0,hasviewerliked:false,parentcommentid:S.replyid,replycommentparentid:S.replycommentparentid,attachment:W,photo_comment:S.attachedphoto,video_comment:S.attachedvideo,file_comment:S.attachedfile,timestamp:{time:Math.floor(Date.now()/1e3),text:f._("A few seconds ago")},photoTextTagID:S.photoTextTagID,isPhotoTag:S.isPhotoTag,photoTagX:S.photoTagX,photoTagY:S.photoTagY,privacy_value:S.privacyValue,section:S.section,videoTimeOffset:T,postedLiveState:S.islivestreaming?c("CommentPostedLiveState").LIVE:c("CommentPostedLiveState").ON_DEMAND}},addMessage:function N(O,P,Q,R,S){c("UFIFeedbackTargets").getFeedbackTarget(O,function(T){this.sendMessage(O,P,Q,R,S)}.bind(this))},sendMessage:function N(O,P,Q,R,S){var T=c("UFIFeedbackTargets").getFeedbackTargetIfExists(O);if(!(T&&T.actorforpost))return;var U=this._getLocalComment(T,O,P,Q,R,null);this._sendMessageToServer(O,T.actorforpost,P,Q,R,U.id,S)},addComment:function N(O,P,Q,R){c("UFIFeedbackTargets").getFeedbackTarget(O,function(S){var T=this.createComment(O,P,Q,R);if(!T)return;var U={actiontype:c("UFIConstants").UFIActionType.SUBSCRIBE_ACTION,actorid:S.actorforpost,hasviewersubscribed:true,entidentifier:S.entidentifier},V={actiontype:c("UFIConstants").UFIActionType.ADD_COMMENT_ACTION,feedbackfbid:S.targetfbid},W=[],X=[];(T.section===c("CommentSection").FRIENDS?X:W).push(T);c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:W,privatecomments:X,actions:[U,V]})}.bind(this))},createComment:function N(O,P,Q,R){__p&&__p();var S=c("UFIFeedbackTargets").getFeedbackTargetIfExists(O);if(!(S&&S.actorforpost))return null;var T=null;if(R.isBroadcasterUFI)T=c("ifRequired")("LiveVideoBroadcastBroadcastStore",function(X){return X.getCurrentBroadcastTime()});else if(R.fluentContentToken&&(R.isLiveVOD||R.islivestreaming||R.enableVODCommentTimestamps)){var U=c("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(R.target,R.fluentContentToken)||0;if(R.isLiveVOD||R.islivestreaming)T=U;else{var V=c("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerForElement(R.target,R.fluentContentToken);if(V!=null&&U>0&&U<Math.floor(V.getPlaybackDuration()))T=U}}var W=this._getLocalComment(S,O,P,Q,R,T);this._sendCommentToServer(O,S.actorforpost,P,Q,R,W.id,T);return W},_sendMessageToServer:function N(O,P,Q,R,S,T,U){var V=c("XUFISendMessageController").getURIBuilder().getURI();c("MercuryServerDispatcher").trySend(V,{ft_ent_identifier:O,comment_text:R,client_id:T,attached_sticker_fbid:S.attachedsticker?S.attachedsticker.fbid:0,attached_photo_fbid:S.attachedphoto?S.attachedphoto.fbid:0,attached_video_fbid:S.attachedvideo?S.attachedvideo.fbid:0,attached_file_fbid:S.attachedfile?S.attachedfile.fbid:0,attached_share_url:S.attachedshareurl,messenger_recipient:U})},_sendCommentToServer:function N(O,P,Q,R,S,T,U){__p&&__p();var V=null;if(S.reply_fbid)V=S.reply_fbid;else if(S.replyid){var W=c("UFIComments").getComment(S.replyid);W||g(0);V=W.fbid}var X=void 0;if(c("UFIConfig").logCommentPost)c("UFICommentLogger").logNewCommentPost(T,S.timestamp||0,{has_photo:!!S.attachedphoto,has_video:!!S.attachedvideo,has_file:!!S.attachedfile,has_sticker:!!S.attachedsticker,is_reply:!!S.replyid});var Y={};Y[c("ActorURI").PARAMETER_ACTOR]=P;var Z=c("XUFIAddCommentController").getURIBuilder().getURI();c("MercuryServerDispatcher").trySend(Z,babelHelpers["extends"]({ft_ent_identifier:O,comment_text:R,source:S.source,client_id:T,session_id:c("ChannelClientID").getID(),reply_fbid:V,parent_comment_id:S.parent_comment_id||S.replyid,reply_comment_parent_id:S.replycommentparentid,rootid:S.rootid,clp:X,attached_sticker_fbid:S.attachedsticker?S.attachedsticker.fbid:0,attached_photo_fbid:S.attachedphoto?S.attachedphoto.fbid:0,attached_video_fbid:S.attachedvideo?S.attachedvideo.fbid:0,attached_file_fbid:S.attachedfile?S.attachedfile.fbid:0,attached_share_url:S.attachedshareurl,feedback_referrer:S.feedbackReferrer,feed_context:S.feedcontext,video_time_offset:U,is_live_streaming:S.islivestreaming,is_markdown:S.isMarkdown},c("UFIUserActionUtils").trackingData(S.target),Y,{photo_text_tag_id:S.photoTextTagID,is_photo_tag:S.isPhotoTag,photo_fbid:S.photoFBID,photo_tag_x:S.photoTagX,photo_tag_y:S.photoTagY,privacy_value:S.privacyValue,section:S.section}))},_hasCommentTextChanged:function N(O,P){return!!O.body&&O.body.text!=P},_hasCommentPhotoChanged:function N(O,P){return!!((O||P)&&!(O&&P)||O&&P&&O.fbid!=P.fbid)},_hasCommentVideoChanged:function N(O,P){return!!((O||P)&&!(O&&P)||O&&P&&O.fbid!=P.fbid)},_hasCommentFileChanged:function N(O,P){return!!((O||P)&&!(O&&P)||O&&P&&O.fbid!=P.fbid)},_hasCommentStickerChanged:function N(O,P){return!!((O||P)&&!(O&&P)||O&&O.type=="sticker"&&P&&O.fbid!=P.fbid)},_hasCommentShareURLChanged:function N(O,P){if(P)return true;else return Boolean(O&&O.type=="share")},editComment:function N(O,P,Q,R){__p&&__p();var S=c("UFIUserActionUtils").trackingData(R.target),T=c("UFIComments").getComment(O);if(!T)return;var U=this._hasCommentTextChanged(T,P)||this._hasCommentPhotoChanged(T.photo_comment,R.attachedPhoto)||this._hasCommentStickerChanged(T.attachment,R.attachedSticker)||this._hasCommentVideoChanged(T.video_comment,R.attachedVideo)||this._hasCommentFileChanged(T.file_comment,R.attachedFile)||this._hasCommentShareURLChanged(T.attachment,R.attachedShareURL);T=c("ImmutableObject").set(T,{status:c("UFIConstants").UFIStatus.PENDING_EDIT,body:{text:P},editnux:null,attachment:R.attachedSticker,photo_comment:R.attachedPhoto,video_comment:R.attachedVideo,file_comment:R.attachedFile});if(U)T=c("ImmutableObject").set(T,{originalTimestamp:T.timestamp.time,timestamp:{time:Math.floor(Date.now()/1e3),text:f._("A few seconds ago")}});c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[T]});c("UFIFeedbackTargets").getFeedbackTarget(T.ftentidentifier,function(V){var W={};W[c("ActorURI").PARAMETER_ACTOR]=V.actorforpost;var X=c("XUFIEditCommentController").getURIBuilder().getURI();if(T)c("MercuryServerDispatcher").trySend(X,babelHelpers["extends"]({ft_ent_identifier:T.ftentidentifier,comment_text:Q,source:R.source,comment_id:T.id,parent_comment_id:T.parentcommentid,attached_sticker_fbid:R.attachedSticker?R.attachedSticker.fbid:0,attached_photo_fbid:R.attachedPhoto?R.attachedPhoto.fbid:0,attached_video_fbid:R.attachedVideo?R.attachedVideo.fbid:0,attached_file_fbid:R.attachedFile?R.attachedFile.fbid:0,attached_share_url:R.attachedShareURL,is_markdown:R.isMarkdown},S,W))})},translateComments:function N(O,P,Q,R){var S=c("XUFITranslateCommentController").getURIBuilder().getURI();c("MercuryServerDispatcher").trySend(S,{ft_ent_identifier:O,comment_ids:P,source:R.source,trigger:Q})},setHideAsSpam:function N(O,P,Q){var R=c("UFIUserActionUtils").trackingData(Q.target),S=c("UFIComments").getComment(O),T={commentid:O,actiontype:c("UFIConstants").UFIActionType.COMMENT_SET_SPAM,shouldHideAsSpam:P};c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[T]});if(S)c("UFIFeedbackTargets").getFeedbackTarget(S.ftentidentifier,function(U){var V={};V[c("ActorURI").PARAMETER_ACTOR]=U.actorforpost;var W=c("XUFIHideCommentController").getURIBuilder().getURI();c("MercuryServerDispatcher").trySend(W,babelHelpers["extends"]({comment_id:O,spam_action:P,ft_ent_identifier:S.ftentidentifier,source:Q.source},R,V))})},keepSpam:function N(O,P){__p&&__p();var Q=c("UFIUserActionUtils").trackingData(P.target),R=c("UFIComments").getComment(O),S={commentid:O,actiontype:c("UFIConstants").UFIActionType.COMMENT_KEEP_SPAM};c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[S]});if(R)c("UFIFeedbackTargets").getFeedbackTarget(R.ftentidentifier,function(T){var U={};U[c("ActorURI").PARAMETER_ACTOR]=T.actorforpost;var V=c("XUFICommentKeepSpamController").getURIBuilder().getURI();c("MercuryServerDispatcher").trySend(V,babelHelpers["extends"]({comment_id:O,ft_ent_identifier:R.ftentidentifier,source:P.source},Q,U));c("Bootloader").loadModules(["SimpleXUIDialog"],function(W){W.show(f._("This comment is now visible on your post."),f._("Comment restored"))},"UFIUserActions")})},appealSpam:function N(O,P,Q){__p&&__p();var R=c("UFIUserActionUtils").trackingData(Q.target),S=c("UFIComments").getComment(O),T={commentid:O,actiontype:c("UFIConstants").UFIActionType.COMMENT_APPEAL_SPAM};c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[T]});if(S)c("UFIFeedbackTargets").getFeedbackTarget(S.ftentidentifier,function(U){var V={};V[c("ActorURI").PARAMETER_ACTOR]=U.actorforpost;var W=c("XUFICommentAppealSpamController").getURIBuilder().getURI();c("MercuryServerDispatcher").trySend(W,babelHelpers["extends"]({comment_id:O,ft_ent_identifier:S.ftentidentifier,source:Q.source},R,V));c("Bootloader").loadModules(["SimpleXUIDialog"],function(X){X.show(f._("Your feedback helps us do better."),f._("Thanks for letting us know"))},"UFIUserActions")})},secureAccount:function N(O,P){var Q=c("UFIUserActionUtils").trackingData(P.target),R=c("UFIComments").getComment(O),S={actiontype:c("UFIConstants").UFIActionType.COMMENT_SECURE_ACCOUNT,commentid:O,islocal:true,oneclick:P.oneclick};c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[S]});if(R)c("UFIFeedbackTargets").getFeedbackTarget(R.ftentidentifier,function(T){var U={};U[c("ActorURI").PARAMETER_ACTOR]=T.actorforpost;var V=c("XUFICommentSecureAccountController").getURIBuilder().getURI();c("MercuryServerDispatcher").trySend(V,babelHelpers["extends"]({comment_id:R.id,ft_ent_identifier:R.ftentidentifier,source:P.source},Q,U))})},removeComment:function N(O,P,Q){var R=c("UFIUserActionUtils").trackingData(P.target),S=c("UFIComments").getComment(O),T={actiontype:c("UFIConstants").UFIActionType.DELETE_COMMENT,commentid:O,islocal:true,oneclick:P.oneclick};c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[T]});if(S&&S.__typename==="saved")c("UFIFeedbackTargets").getFeedbackTarget(S.ftentidentifier,function(U){var V={};V[c("ActorURI").PARAMETER_ACTOR]=U.actorforpost;var W=c("XUFIDeleteCommentController").getURIBuilder().getURI();c("MercuryServerDispatcher").trySend(W,babelHelpers["extends"]({comment_id:S.id,comment_legacyid:S.legacyid,ft_ent_identifier:S.ftentidentifier,one_click:P.oneclick,source:P.source,block_author:Q,client_id:c("ClientIDs").getNewClientID()},R,V))})},removeCommentWithRule:function N(O,P,Q){var R=c("UFIUserActionUtils").trackingData(P.target),S=c("UFIComments").getComment(O),T={actiontype:c("UFIConstants").UFIActionType.DELETE_COMMENT,commentid:O,islocal:true,oneclick:P.oneclick};c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[T]});if(S&&S.__typename==="saved")c("UFIFeedbackTargets").getFeedbackTarget(S.ftentidentifier,function(U){var V={};V[c("ActorURI").PARAMETER_ACTOR]=U.actorforpost;var W=c("XUFIDeleteCommentController").getURIBuilder().getURI();c("MercuryServerDispatcher").trySend(W,babelHelpers["extends"]({comment_id:S.id,comment_legacyid:S.legacyid,ft_ent_identifier:S.ftentidentifier,one_click:P.oneclick,source:P.source,client_id:c("ClientIDs").getNewClientID()},R,V))})},deleteCommentAndRemoveCommenter:function N(O,P,Q,R,S,T,U){var V=c("UFIUserActionUtils").trackingData(P.target),W=c("UFIComments").getComment(O),X={actiontype:c("UFIConstants").UFIActionType.DELETE_COMMENT_REMOVE_COMMENTER,commentid:O,islocal:true,oneclick:P.oneclick};c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[X]});if(W&&W.__typename==="saved")c("UFIFeedbackTargets").getFeedbackTarget(W.ftentidentifier,function(Y){var Z={};Z[c("ActorURI").PARAMETER_ACTOR]=Y.actorforpost;var $=c("XUFIDeleteCommentAndRemoveCommenterController").getURIBuilder().getURI();c("MercuryServerDispatcher").trySend($,babelHelpers["extends"]({comment_id:W.id,comment_legacyid:W.legacyid,ft_ent_identifier:W.ftentidentifier,one_click:P.oneclick,source:P.source,delete_posts:Q,delete_comments:R,decline_pending_members:S,block_permanently:T,apply_to_other_groups:U,client_id:c("ClientIDs").getNewClientID()},V,Z))})},muteMember:function N(O,P,Q,R){__p&&__p();var S=c("UFIComments").getComment(O),T=Q!==null;if(S&&S.__typename==="saved"){var U={authorid:S.author,actiontype:c("UFIConstants").UFIActionType.MUTE_MEMBER,shouldmute:T};c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[U]});var V;c("Bootloader").loadModules(["GroupMemberActionSource"],function(X){V=X.GROUP_COMMENT},"UFIUserActions");var W=c("XGroupsMuteMembersController").getURIBuilder().getURI();c("MercuryServerDispatcher").trySend(W,{group_id:S.group_id,user_id:S.author,mute_duration:Q,custom_expiration:R,should_reload:false,source:V})}},toggleTextDelights:function N(O,P,Q){var R=c("XUFIToggleTextDelightsAsyncController").getURIBuilder().getURI();c("MercuryServerDispatcher").trySend(R,{comment_id:O.id,ft_ent_identifier:O.ftentidentifier,should_hide:Q,parent_comment_id:O.parentcommentid,source:P.source})},changeAcceptedAnswer:function N(O,P){c("MercuryServerDispatcher").trySend(x,{ft_ent_identifier:O.id,do_accept:P})},banUser:function N(O,P,Q,R){var S=Q?h.BAN:h.UNDO_BAN;c("MercuryServerDispatcher").trySend("/ajax/ufi/ban_user.php",{page_id:P,commenter_id:O.author,action:S,comment_id:O.id,client_side:true,post_only:false})},streamBanUser:function N(O,P,Q,R){var S=Q?h.BAN:h.UNDO_BAN;c("MercuryServerDispatcher").trySend("/ajax/ufi/ban_user.php",{page_id:P,commenter_id:O.author,action:S,comment_id:O.id,client_side:true,stream_only:true})},changeSubscribe:function N(O,P,Q){c("UFIFeedbackTargets").getFeedbackTarget(O,function(R){var S=c("UFIUserActionUtils").trackingData(Q.target);if(R.hasviewersubscribed!==P){var T={actiontype:c("UFIConstants").UFIActionType.SUBSCRIBE_ACTION,actorid:R.actorforpost,hasviewersubscribed:P,entidentifier:O};c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[T]});var U={};U[c("ActorURI").PARAMETER_ACTOR]=R.actorforpost;c("MercuryServerDispatcher").trySend("/ajax/ufi/subscribe.php",babelHelpers["extends"]({subscribe_action:P,ft_ent_identifier:O,source:Q.source,client_id:c("ClientIDs").getNewClientID(),rootid:Q.rootid,comment_expand_mode:Q.commentexpandmode},S,U))}})},fetchSpamComments:function N(O,P,Q,R){c("MercuryServerDispatcher").trySend("/ajax/ufi/id_comment_fetch.php",{ft_ent_identifier:O,viewas:R,comment_ids:P,parent_comment_id:Q,source:null})},manageConstituentBadge:function N(O){c("goURI")(c("XTownHallController").getURIBuilder().setBool("setting_nux",true).getURI())},removePreview:function N(O,P){var Q=c("UFIUserActionUtils").trackingData(P.target),R={commentid:O.id,actiontype:c("UFIConstants").UFIActionType.REMOVE_PREVIEW};c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[R]});c("MercuryServerDispatcher").trySend("/ajax/ufi/remove_preview.php",babelHelpers["extends"]({comment_id:O.id,ft_ent_identifier:O.ftentidentifier,source:P.source},Q))}};function j(N){c("AsyncResponse").defaultErrorHandler(N)}function k(N){var O=N.request.data;c("AsyncResponse").defaultErrorHandler(N);var P=O.client_id||O.comment_id,Q=c("UFIComments").getComment(P);if(!Q)return;var R=Q.status===c("UFIConstants").UFIStatus.PENDING_EDIT?c("UFIConstants").UFIStatus.FAILED_EDIT:c("UFIConstants").UFIStatus.FAILED_ADD;Q=c("ImmutableObject").setDeep(Q,{status:R,allowRetry:l(N),body:{mentionstext:O.comment_text,mentionsphoto:Q.photo_comment,mentionsvideo:Q.video_comment,mentionsfile:Q.file_comment}});c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[Q]})}function l(N){var O=N.getError();if(N.isBlockedAction())return false;if(N.silentError)return true;if(O===1357012||O===1357006)return false;return true}function m(N){var O=N.request.data,P=O.comment_id,Q=c("UFIComments").getComment(P);if(!Q)return;Q=c("ImmutableObject").set(Q,{status:Q.priorstatus||null,priorstatus:undefined});c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[Q]})}function n(N){var O=N.request.data,P=O.comment_id,Q=c("UFIComments").getComment(P);if(!Q)return;Q=c("ImmutableObject").set(Q,{commentid:P,needsApproval:!Q.needsApproval,isApproved:!Q.isApproved});c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[Q]})}function o(N){var O=N.request.data,P=O.comment_id,Q=c("UFIComments").getComment(P);if(Q){Q=c("ImmutableObject").set(Q,{commentid:P,appealStatus:null,canAppeal:!Q.canAppeal,canSecure:!Q.canSecure});c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[Q]})}}function p(N){var O=N.request.data,P=O.comment_id,Q=c("UFIComments").getComment(P);if(Q&&O.like_action===Q.hasviewerliked){var R=Q.hasviewerliked?-1:1,S={commentid:P,actiontype:c("UFIConstants").UFIActionType.COMMENT_LIKE,viewerliked:!Q.hasviewerliked,likecount:(Q.likecount||0)+R};c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[S]})}c("AsyncResponse").defaultErrorHandler(N)}function q(N){var O=N.request.data,P=O.ft_ent_identifier;c("UFIFeedbackTargets").getFeedbackTarget(P,function(Q){if(Q.hasviewerliked===O.like_action){var R=Q.hasviewerliked?-1:1,S={actiontype:c("UFIConstants").UFIActionType.LIKE_ACTION,actorid:Q.actorforpost,hasviewerliked:!Q.hasviewerliked,likecount:(Q.likecount||0)+R,entidentifier:P,likesentences:{current:Q.likesentences.alternate,alternate:Q.likesentences.current}};c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[S]})}});c("AsyncResponse").defaultErrorHandler(N)}function r(N){var O=N.request.data,P=O.ft_ent_identifier;c("UFIFeedbackTargets").getFeedbackTarget(P,function(Q){if(Q.hasviewersubscribed===O.subscribe_action){var R={actiontype:c("UFIConstants").UFIActionType.SUBSCRIBE_ACTION,actorid:Q.actorforpost,hasviewersubscribed:!Q.hasviewersubscribed,entidentifier:P};c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[R]})}});c("AsyncResponse").defaultErrorHandler(N)}var s={"/ajax/ufi/ban_user.php":{mode:c("MercuryServerDispatcher").IMMEDIATE,error_handler:j},"/ajax/ufi/subscribe.php":{mode:c("MercuryServerDispatcher").BATCH_CONDITIONAL,error_handler:r,batch_if:L,batch_function:M},"/ajax/ufi/id_comment_fetch.php":{mode:c("MercuryServerDispatcher").IMMEDIATE},"/ajax/ufi/remove_preview.php":{mode:c("MercuryServerDispatcher").IMMEDIATE},"/profile/broadcast_request/async/add_composer_token/":{mode:c("MercuryServerDispatcher").IMMEDIATE}},t=c("XUFIAddCommentController").getURIBuilder().getURI();s[t]={mode:c("MercuryServerDispatcher").IMMEDIATE,error_handler:k};var u=c("XUFIDeleteCommentController").getURIBuilder().getURI();s[u]={mode:c("MercuryServerDispatcher").IMMEDIATE,error_handler:m};var v=c("XUFIDeleteCommentAndRemoveCommenterController").getURIBuilder().getURI();s[v]={mode:c("MercuryServerDispatcher").IMMEDIATE,error_handler:m};var w=c("XUFICommentLikeController").getURIBuilder().getURI();s[w]={mode:c("MercuryServerDispatcher").BATCH_CONDITIONAL,error_handler:p,batch_if:J,batch_function:M};var x=c("XUFICommentAcceptAnswerController").getURIBuilder().getURI();s[x]={mode:c("MercuryServerDispatcher").IMMEDIATE};var y=c("XGroupsMuteMembersController").getURIBuilder().getURI();s[y]={mode:c("MercuryServerDispatcher").IMMEDIATE};var z=c("XUFIToggleTextDelightsAsyncController").getURIBuilder().getURI();s[z]={mode:c("MercuryServerDispatcher").IMMEDIATE};var A=c("XUFIHideCommentController").getURIBuilder().getURI();s[A]={mode:c("MercuryServerDispatcher").IMMEDIATE,error_handler:m};var B=c("XUFICommentKeepSpamController").getURIBuilder().getURI();s[B]={mode:c("MercuryServerDispatcher").IMMEDIATE,error_handler:n};var C=c("XUFICommentAppealSpamController").getURIBuilder().getURI();s[C]={mode:c("MercuryServerDispatcher").IMMEDIATE,error_handler:o};var D=c("XUFICommentSecureAccountController").getURIBuilder().getURI();s[D]={mode:c("MercuryServerDispatcher").IMMEDIATE,error_handler:o};var E=c("XUFILikeController").getURIBuilder().getURI();s[E]={mode:c("MercuryServerDispatcher").BATCH_CONDITIONAL,error_handler:q,batch_if:K,batch_function:M};var F=c("XUFIEditCommentController").getURIBuilder().getURI();s[F]={mode:c("MercuryServerDispatcher").IMMEDIATE,error_handler:k};var G=c("XUFITranslateCommentController").getURIBuilder().getURI();s[G]={mode:c("MercuryServerDispatcher").IMMEDIATE};var H=c("XUFIActorChangeController").getURIBuilder().getURI();s[H]={mode:c("MercuryServerDispatcher").IMMEDIATE};var I=c("XUFISendMessageController").getURIBuilder().getURI();s[I]={mode:c("MercuryServerDispatcher").IMMEDIATE};c("MercuryServerDispatcher").registerEndpoints(s);function J(N,O){return N&&N.ft_ent_identifier==O.ft_ent_identifier&&N.comment_id==O.comment_id}function K(N,O){return N&&N.ft_ent_identifier==O.ft_ent_identifier}function L(N,O){return N&&N.ft_ent_identifier==O.ft_ent_identifier}function M(N,O){return O}e.exports=babelHelpers["extends"]({},i,c("UFIReactionUserActions"))}),null);
__d("UFISpamStore",["FluxReduceStore","UFIDispatcherBase","UFIStoryActionType","UFIUserActions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{}};j.prototype.areEqual=function(k,l){return Object.keys(k).length===Object.keys(l).length};j.prototype.reduce=function(k,l){switch(l.type){case c("UFIStoryActionType").SPAM_FETCHED:k=babelHelpers["extends"]({},k);l.commentIDs.forEach(function(m){return k[m]=true});c("UFIUserActions").fetchSpamComments(l.ftentidentifier,l.commentIDs,l.parentCommentID,l.viewas);break}return k};function j(){h.apply(this,arguments)}f.exports=new j(c("UFIDispatcherBase"))}),null);
__d("UFIDispatcher",["ReactDispatcher_DEPRECATED","UFISharedDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactDispatcher_DEPRECATED"));i=h&&h.prototype;j.prototype.dispatch=function(k){i.dispatch.call(this,k);c("UFISharedDispatcher").dispatch(k)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("UFIStopWatch",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="COUNTING",i="PAUSED";function j(){this.$UFIStopWatch1=i;this.$UFIStopWatch2=0;this.$UFIStopWatch3=0}j.prototype.start=function(){if(this.$UFIStopWatch1===h)return this;this.$UFIStopWatch1=h;this.$UFIStopWatch3=Date.now();return this};j.prototype.pause=function(){if(this.$UFIStopWatch1===i)return this;this.$UFIStopWatch1=i;this.$UFIStopWatch2+=Date.now()-this.$UFIStopWatch3;return this};j.prototype.reset=function(){this.$UFIStopWatch2=0;this.$UFIStopWatch3=0;if(this.$UFIStopWatch1==h)this.$UFIStopWatch3=Date.now();return this};j.prototype.state=function(){return this.$UFIStopWatch1};j.prototype.milliseconds=function(){var k=0;if(this.$UFIStopWatch1===h)k=Date.now()-this.$UFIStopWatch3;return this.$UFIStopWatch2+k};j.COUNTING=h;j.PAUSED=i;f.exports=j}),null);
__d("UFIAddCommentAction",["UFIAddCommentActionType"],(function a(b,c,d,e,f,g){"use strict";var h={cancel:function i(j){return{type:c("UFIAddCommentActionType").CANCEL,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier}},changeContent:function i(j,k,l){return{type:c("UFIAddCommentActionType").CHANGE_CONTENT,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,text:k,replyFBID:l}},retrySubmit:function i(j,k){return{type:c("UFIAddCommentActionType").RETRY_SUBMIT,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,comment:k}},submitEdit:function i(j,k,l,m){return{type:c("UFIAddCommentActionType").SUBMIT_EDIT,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,comment:k,commentData:l,target:m}},submitNew:function i(j,k,l,m){return{type:c("UFIAddCommentActionType").SUBMIT_NEW,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,comment:k,target:l,replyCommentID:m,timestamp:Date.now()}},submitCommentPivot:function i(j,k,l,m){return{type:c("UFIAddCommentActionType").PIVOT_SEND_MESSAGE,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,recipientID:m,comment:k,target:l,timestamp:Date.now()}}};f.exports=h}),null);
__d("UFINewCommentNotifier",["Arbiter","UFIFeedbackTargets","UFIUIEvents","UFIUserActions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={onNewComment:function i(j,k,l,m,n,o){c("UFIUserActions").addComment(k.ftentidentifier,l.visibleValue,l.encodedValue,{source:k.source,ufiinstanceid:k.instanceid,target:m,replyid:n,rootid:k.rootid,attachedphoto:l.attachedPhoto,attachedvideo:l.attachedVideo,attachedfile:l.attachedFile,attachedsticker:l.attachedSticker,feedcontext:k.feedcontext,timestamp:o,feedbackReferrer:k.feedbackReferrer,isMarkdown:l.isMarkdown,fluentContentToken:k.fluentContentToken,isLiveVOD:k.isLiveVOD,islivestreaming:k.islivestreaming,photoTextTagID:k.photoTextTagID,isPhotoTag:k.isPhotoTag,photoFBID:k.photoFBID,photoTagX:k.photoTagX,photoTagY:k.photoTagY,privacyValue:l.privacy_value,section:l.section,attachedshareurl:l.attachedShareURL,isBroadcasterUFI:k.isBroadcasterUFI,enableVODCommentTimestamps:k.enableVODCommentTimestamps});c("UFIFeedbackTargets").getFeedbackTarget(k.ftentidentifier,function(p){if(j)c("Arbiter").inform(c("UFIUIEvents").Comment,{ft_id:p.entidentifier,target:m,form:j,isinverted:p.isranked||k.islivestreaming||k.isLivingRoom,isPhotoTag:k.isPhotoTag,photoTextTagID:k.photoTextTagID,photoTagX:k.photoTagX,photoTagY:k.photoTagY,commentString:l.visibleValue})})},onNewCommentPivot:function i(j,k,l,m,n,o){c("UFIUserActions").addMessage(k.ftentidentifier,l.visibleValue,l.encodedValue,{source:k.source,ufiinstanceid:k.instanceid,target:m,attachedphoto:l.attachedPhoto,attachedvideo:l.attachedVideo,attachedfile:l.attachedFile,attachedsticker:l.attachedSticker,timestamp:o,attachedshareurl:l.attachedShareURL},n);c("UFIFeedbackTargets").getFeedbackTarget(k.ftentidentifier,function(p){if(j)c("Arbiter").inform(c("UFIUIEvents").CommentPivot,{ft_id:p.entidentifier,target:m,form:j})})}};f.exports=h}),null);
__d("UFICommercialBreakAdapter",["Map","SubscriptionsHandler","UFIInstanceAction","UFISharedDispatcher","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,k){var l=k.getOption("VideoWithCommercialBreak","controller"),m=new(c("SubscriptionsHandler"))();if(c("gkx")("AT40M32z8lGGJCQ8BdpTKBKW7c04XyOQ5frn2-EF3H5yLFnMqCUjJXNKrWFmzea4OX3v4yubJZaoRWQAybsxXQJO"))return m;if(l&&l.getIsCommercialBreakOngoing())c("UFISharedDispatcher").dispatch(c("UFIInstanceAction").toggleCommercialBreak(j,true));m.addSubscriptions(k.addListener("commercialBreak/hideUFI",function(){return c("UFISharedDispatcher").dispatch(c("UFIInstanceAction").toggleCommercialBreak(j,true))}),k.addListener("commercialBreak/showUFI",function(){return c("UFISharedDispatcher").dispatch(c("UFIInstanceAction").toggleCommercialBreak(j,false))}));return m}var i=new(c("Map"))();f.exports={start:function j(k,l){var m=k.instanceid;if(i.get(m))return;i.set(m,h(k,l))},stop:function j(k){var l=i.get(k);if(!l)return;l.release();i["delete"](k)}}}),null);
__d("UFIDomRootAdapter",["csx","DOMQuery","FeedbackSourceType","Parent","UFIRootRegistry"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j,k){"use strict";this.$UFIDomRootAdapter2=null;this.$UFIDomRootAdapter3=null;this.$UFIDomRootAdapter5=null;this.$UFIDomRootAdapter4=j;this.$UFIDomRootAdapter1=k}i.prototype.getParentForm=function(){"use strict";if(!this.$UFIDomRootAdapter2){var j=c("Parent").byTag(this.$UFIDomRootAdapter4,"form");this.$UFIDomRootAdapter2=j instanceof HTMLElement?j:null}return this.$UFIDomRootAdapter2};i.prototype.getHeadRoot=function(){"use strict";if(!this.$UFIDomRootAdapter3){var j=c("UFIRootRegistry").isSnowliftNode(this.$UFIDomRootAdapter1.rootid),k=j&&this.$UFIDomRootAdapter1.source!==c("FeedbackSourceType").LIVE_VIDEO_STORIES?"^.fbPhotosSnowliftFeedback ._37uu":"^form ._37uu",l=c("DOMQuery").scry(this.$UFIDomRootAdapter4,k);this.$UFIDomRootAdapter3=l&&l[0]||null}return this.$UFIDomRootAdapter3};i.prototype.getSnowliftActionRoot=function(){"use strict";if(!this.$UFIDomRootAdapter5){var j=c("DOMQuery").scry(this.$UFIDomRootAdapter4,"^.snowliftPayloadRoot ._29qf ._37uu");this.$UFIDomRootAdapter5=j&&j[0]||null}return this.$UFIDomRootAdapter5};f.exports=i}),null);
__d("UFIPlayLiveVODHighlightsAdapter",["Map","SubscriptionsHandler","UFIInstanceAction","UFISharedDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,k){if(k&&k.isPlayingVODHighlights())c("UFISharedDispatcher").dispatch(c("UFIInstanceAction").playLiveVODHighlights(j,true));var l=new(c("SubscriptionsHandler"))();l.addSubscriptions(k.addListener("playLiveVODHighlights/hideUFI",function(){return c("UFISharedDispatcher").dispatch(c("UFIInstanceAction").playLiveVODHighlights(j,true))}),k.addListener("playLiveVODHighlights/showUFI",function(){return c("UFISharedDispatcher").dispatch(c("UFIInstanceAction").playLiveVODHighlights(j,false))}));return l}var i=new(c("Map"))();f.exports={start:function j(k,l){var m=k.instanceid;if(i.get(m))return;i.set(m,h(k,l))},stop:function j(k){var l=i.get(k);if(!l)return;l.release();i["delete"](k)}}}),null);
__d("PrivateConversationsTreatment",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:"none",FRIEND_CONVERSATIONS:"friend_conversations",SIDE_CONVERSATIONS:"side_conversations"})}),null);
__d("CommentPrivacyUtils",["PrivateConversationsTreatment"],(function a(b,c,d,e,f,g){"use strict";function h(i){return i.friendConversationsParams?c("PrivateConversationsTreatment").FRIEND_CONVERSATIONS:c("PrivateConversationsTreatment").NONE}f.exports={getTreatment:h}}),null);
__d("onCommentIsVisible",["onViewportChanged"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){var k=void 0;function l(n){return i(n)}function m(n){if(k!==n){k=n;j(n)}}return c("onViewportChanged")(m,l)}f.exports=h}),null);
__d("JSResourceReference",["Promise","Bootloader"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$JSResourceReference1=i}h.prototype.getModuleId=function(){"use strict";return this.$JSResourceReference1};h.prototype.load=function(){"use strict";return new(c("Promise"))(function(i){c("Bootloader").loadModules.call(c("Bootloader"),[this.$JSResourceReference1],i,this.$JSResourceReference2||"JSResource: unknown caller")}.bind(this))};h.prototype.equals=function(i){"use strict";return this===i||this.$JSResourceReference1==i.$JSResourceReference1};h.prototype.__setRef=function(i){"use strict";this.$JSResourceReference2=i;return this};h.loadAll=function(i,j){"use strict";__p&&__p();var k={},l=false;for(var m=i,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p,r=q.$JSResourceReference2;if(r){l=true;k[r]=true}}c("Bootloader").loadModules.call(c("Bootloader"),i.map(function(q){return q.getModuleId()}),j,l?Object.keys(k).join(":"):"JSResource: unknown caller")};f.exports=h}),18);
__d("JSResource",["JSResourceReference"],(function a(b,c,d,e,f,g){var h=function h(i){return new(c("JSResourceReference"))(i)};h.Reference=c("JSResourceReference");h.loadAll=c("JSResourceReference").loadAll;f.exports=h}),null);
__d("DOMContainer.react",["invariant","React","ReactDOM","isNode"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.getDOMChild=function(){var r=this.props.children;c("isNode")(r)||h(0);return r}.bind(this),n}l.prototype.shouldComponentUpdate=function(m,n){"use strict";return m.children!==this.props.children};l.prototype.componentDidMount=function(){"use strict";c("ReactDOM").findDOMNode(this).appendChild(this.getDOMChild())};l.prototype.componentDidUpdate=function(){"use strict";var m=c("ReactDOM").findDOMNode(this);while(m.lastChild)m.removeChild(m.lastChild);m.appendChild(this.getDOMChild())};l.prototype.render=function(){"use strict";if(this.props.display==="block")return c("React").createElement("div",this.props,undefined);return c("React").createElement("span",this.props,undefined)};l.propTypes={display:k.oneOf(["inline","block"])};l.defaultProps={display:"inline"};f.exports=l}),18);
__d("PinnedCommentEventCreateSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1387593678012072",queryID:"559292044431393"})}),null);
__d("LivePinnedCommentEventCreateSubscription",["BaseGraphQLSubscription","PinnedCommentEventCreateSubscriptionWebGraphQLSubscription","uuid"],(function a(b,c,d,e,f,g){var h=babelHelpers["extends"]({},c("BaseGraphQLSubscription"),{_getTopic:function i(j){return"gqls/pinned_comment_event_create_subscribe/video_id_"+j},_getQueryID:function i(){return c("PinnedCommentEventCreateSubscriptionWebGraphQLSubscription").getDocID()},_getQueryParameters:function i(j){return{input:JSON.stringify({client_subscription_id:c("uuid")(),video_id:j})}},_getSubscriptionCallName:function i(){return"pinned_comment_event_create_subscribe"}});f.exports=h}),null);
__d("isAsyncScrollQuery",["UserAgent"],(function a(b,c,d,e,f,g){var h=null;function i(){if(h===null)h=c("UserAgent").isPlatform("Mac OS X >= 10.8")&&c("UserAgent").isBrowser("Safari >= 6.0");return h}f.exports=i}),null);
__d("DOMScroll",["Arbiter","Bootloader","DOM","DOMQuery","Run","Vector","ViewportBounds","ge","emptyFunction","ifRequired","isAsyncScrollQuery"],(function a(b,c,d,e,f,g){__p&&__p();c("Run").onAfterLoad(function(){c("Bootloader").loadModules(["Animation"],c("emptyFunction"),"DOMScroll")});var h={SCROLL:"dom-scroll",_scrolling:false,_scrollingFinishedTimoeut:null,getScrollState:function i(){var j=c("Vector").getViewportDimensions(),k=c("Vector").getDocumentDimensions(),l=k.x>j.x,m=k.y>j.y;l+=0;m+=0;return new(c("Vector"))(l,m)},_scrollbarSize:null,_initScrollbarSize:function i(){__p&&__p();var j=c("DOM").create("p");j.style.width="100%";j.style.height="200px";var k=c("DOM").create("div");k.style.position="absolute";k.style.top="0px";k.style.left="0px";k.style.visibility="hidden";k.style.width="200px";k.style.height="150px";k.style.overflow="hidden";k.appendChild(j);document.body.appendChild(k);var l=j.offsetWidth;k.style.overflow="scroll";var m=j.offsetWidth;if(l==m)m=k.clientWidth;document.body.removeChild(k);h._scrollbarSize=l-m},getScrollbarSize:function i(){if(h._scrollbarSize===null)h._initScrollbarSize();return h._scrollbarSize},scrollTo:function i(j,k,l,m,n,o){__p&&__p();if(typeof k=="undefined"||k===true)k=750;if(c("isAsyncScrollQuery")())k=false;if(!(j instanceof c("Vector"))){var p=c("Vector").getScrollPosition().x,q=c("Vector").getElementPosition(c("ge")(j)).y;j=new(c("Vector"))(p,q,"document");if(!m)j.y-=c("ViewportBounds").getTop()/(l?2:1)}if(l)j.y-=c("Vector").getViewportDimensions().y/2;else if(m){j.y-=c("Vector").getViewportDimensions().y;j.y+=m}if(n)j.y-=n;j=j.convertTo("document");if(k)if("scrollBehavior"in document.documentElement.style&&k===750&&!o)window.scrollTo({left:j.x,top:j.y,behavior:"smooth"});else c("ifRequired")("Animation",function(r){h._setScrollingForDuration(k);return new r(document.body).to("scrollTop",j.y).to("scrollLeft",j.x).ease(r.ease.end).duration(k).ondone(o).go()},function(){window.scrollTo(j.x,j.y);o&&o()});else{window.scrollTo(j.x,j.y);o&&o()}c("Arbiter").inform(h.SCROLL)},ensureVisible:function i(j,k,l,m,n){var o=c("Vector").getScrollPosition().x,p=this._getBounds(j,k,l),q=p[0],r=p[1],s=p[2],t=p[3];if(s<q)h.scrollTo(new(c("Vector"))(o,s,"document"),m,false,false,0,n);else if(t>r)if(s-(t-r)<q)h.scrollTo(new(c("Vector"))(o,s,"document"),m,false,false,0,n);else h.scrollTo(new(c("Vector"))(o,t,"document"),m,false,true,0,n)},isCurrentlyVisible:function i(j,k,l){var m=this._getBounds(j,k,l),n=m[0],o=m[1],p=m[2],q=m[3];return p>=n&&q<=o},_getBounds:function i(j,k,l){__p&&__p();if(l===undefined)l=10;j=c("ge")(j);if(k)j=c("DOMQuery").find(j,k);var m=c("Vector").getScrollPosition().y,n=m+c("Vector").getViewportDimensions().y,o=c("Vector").getElementPosition(j).y,p=o+c("Vector").getElementDimensions(j).y;o-=c("ViewportBounds").getTop();o-=l;p+=l;return[m,n,o,p]},scrollToTop:function i(j){var k=c("Vector").getScrollPosition();h.scrollTo(new(c("Vector"))(k.x,0,"document"),j!==false)},currentlyScrolling:function i(){return h._scrolling},_setScrollingForDuration:function i(j){h._scrolling=true;if(h._scollingFinishedTimeout)clearTimeout(h._scrollingFinishedTimeout);h._scrollingFinishedTimoeut=setTimeout(function(){h._scrolling=false},j)}};f.exports=h}),null);
__d("FbFeedCommentUFIScroller",["DOMScroll","containsNode","ge","ifRequired"],(function a(b,c,d,e,f,g){__p&&__p();var h={reveal:function i(j){if(j){var k=c("ge")("content");if(k&&c("containsNode")(k,j))c("DOMScroll").ensureVisible(j,null,60,250);else c("ifRequired")("ScrollableArea",function(l){var m=l.getInstance(j);if(m)m.scrollIntoView(j)})}}};f.exports=h}),null);
__d("isValidUniqueID",[],(function a(b,c,d,e,f,g){function h(i){return i!==null&&i!==undefined&&i!==""&&(typeof i==="string"||typeof i==="number")}f.exports=h}),null);
__d("SearchableEntry",["invariant","FbtResultBase","HTML","isValidUniqueID"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(k){__p&&__p();if(!k)return"";else if(typeof k==="string")return k;else if(k instanceof c("FbtResultBase"))return k.toString();else if(typeof k==="object"){var l=c("HTML").replaceJSONWrapper(k);if(c("HTML").isHTML(l)){var m=l.getRootNode();return m.textContent||m.innerText||""}else return""}else return""}function j(k){"use strict";__p&&__p();c("isValidUniqueID")(k.uniqueID)||h(0);this.$SearchableEntry8=k.uniqueID+"";if(k.title instanceof c("FbtResultBase"))k.title=k.title.toString();k.title!=null&&typeof k.title==="string"||h(0);this.$SearchableEntry6=k.title;this.$SearchableEntry3=k.order||0;this.$SearchableEntry5=i(k.subtitle);this.$SearchableEntry2=k.keywordString||"";this.$SearchableEntry4=k.photo||"";this.$SearchableEntry9=k.uri||"";this.$SearchableEntry7=i(k.type);var l=k.auxiliaryData==null?{}:k.auxiliaryData;this.$SearchableEntry1=l}j.prototype.getUniqueID=function(){"use strict";return this.$SearchableEntry8};j.prototype.getOrder=function(){"use strict";return this.$SearchableEntry3};j.prototype.getTitle=function(){"use strict";return this.$SearchableEntry6};j.prototype.getSubtitle=function(){"use strict";return this.$SearchableEntry5};j.prototype.getKeywordString=function(){"use strict";return this.$SearchableEntry2};j.prototype.getPhoto=function(){"use strict";return this.$SearchableEntry4};j.prototype.getURI=function(){"use strict";return this.$SearchableEntry9};j.prototype.getType=function(){"use strict";return this.$SearchableEntry7};j.prototype.getAuxiliaryData=function(){"use strict";return this.$SearchableEntry1};j.prototype.toPlainObject=function(){"use strict";return{auxiliaryData:this.$SearchableEntry1,keywordString:this.$SearchableEntry2,order:this.$SearchableEntry3,photo:this.$SearchableEntry4,subtitle:this.$SearchableEntry5,title:this.$SearchableEntry6,type:this.$SearchableEntry7,uniqueID:this.$SearchableEntry8,uri:this.$SearchableEntry9}};f.exports=j}),null);
__d("joinClasses",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j=i||"";for(var k=arguments.length,l=Array(k>1?k-1:0),m=1;m<k;m++)l[m-1]=arguments[m];var n=l.length;for(var o=0;o<n;o++){var p=l[o];if(p)j=(j?j+" ":"")+p}return j}f.exports=h}),null);
__d("BadgeHelper",["cx","fbt","DOM","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j={xsmall:"_5dzz",small:"_5dz-",medium:"_5dz_",large:"_5d-0",xlarge:"_5d-1"},k={bot:"_64nf",verified:"_56_f",trending:"_1gop",topcommenter:"_59t2",page_gray_check:"_5n3t",work:"_5d62",game_blue:"_59c6",work_non_coworker:"_2ad7",interest_community:"_3qcr",subscription:"_4fvy",username:"_pt7"},l={bot:i._("Bot"),work_non_coworker:i._("Not part of your company")};function m(p,q){return c("joinClasses")(j[p],k[q],"_5dzy")}function n(p){return l[p]}function o(p,q){var r=m(p,q);if(r){var s=n(q);return c("DOM").create("span",{className:r},s?c("DOM").create("span",{className:"accessible_elem"},s):null)}}f.exports={getClasses:m,getAlt:n,renderBadge:o,sizes:Object.keys(j),types:Object.keys(k)}}),null);
__d("CommunityConversationsUfiTreatment",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MENTION_BELOW_STORY:1,SEND_MESSAGE_DYNAMIC_UFI:2,SEND_MESSAGE_DYNAMIC_UFI_IMMEDIATE:3,WRITE_POST_DYNAMIC_UFI:4,WRITE_POST_DYNAMIC_UFI_IMMEDIATE:5,SEND_MESSAGE_BLING_BAR:6,SEND_MESSAGE_BLING_BAR_IMMEDIATE:7,WRITE_POST_BLING_BAR:8,WRITE_POST_BLING_BAR_IMMEDIATE:9,MENTION_IN_COMPOSER:10,MENTION_INLINE_WITH_COMPOSER:11,MENTION_ABOVE_COMPOSER:12,MENTION_BELOW_COMPOSER:13,MENTION_ABOVE_OR_BELOW_COMPOSER:14})}),null);
__d("FocusEvent",["Event","Run","ge","getOrCreateDOMID"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={},i=false;function j(n,o){if(h[n]){var p=h[n].indexOf(o);if(p>=0)h[n].splice(p,1);if(h[n].length===0)delete h[n]}}function k(event){var n=event.getTarget();if(h[n.id]&&h[n.id].length>0){var o=event.type==="focusin"||event.type==="focus";h[n.id].forEach(function(p){p(o)})}}function l(){if(i)return;c("Event").listen(document.documentElement,"focusout",k);c("Event").listen(document.documentElement,"focusin",k);i=true}var m={listen:function n(o,p){__p&&__p();l();var q=c("getOrCreateDOMID")(o);if(!h[q])h[q]=[];h[q].push(p);var r=false;function s(){if(!r){j(q,p);if(t){t.remove();t=null}r=true}}var t=c("Run").onLeave(function(){if(!c("ge")(q))s()});return{remove:function u(){s()}}}};f.exports=m}),null);
__d("KeyStatus",["Event","ExecutionEnvironment"],(function a(b,c,d,e,f,g){__p&&__p();var h=null,i=null;function j(){if(!i)i=c("Event").listen(window,"blur",function(){h=null;k()})}function k(){if(i){i.remove();i=null}}function l(event){h=c("Event").getKeyCode(event);j()}function m(){h=null;k()}if(c("ExecutionEnvironment").canUseDOM){var n=document.documentElement;if(n.addEventListener){n.addEventListener("keydown",l,true);n.addEventListener("keyup",m,true)}else if(n.attachEvent){var o=n.attachEvent;o("onkeydown",l);o("onkeyup",m)}}var p={isKeyDown:function q(){return!!h},getKeyDownCode:function q(){return h}};f.exports=p}),null);
__d("getElementText",["isElementNode","isTextNode"],(function a(b,c,d,e,f,g){__p&&__p();var h=null;function i(j){__p&&__p();if(c("isTextNode")(j))return j.data;else if(c("isElementNode")(j)){if(h===null){var k=document.createElement("div");h=k.textContent!=null?"textContent":"innerText"}return j[h]}else return""}f.exports=i}),null);
__d("tooltipPropsFor",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j,k){if(!i)return{};var l={"data-tooltip-content":i,"data-hover":"tooltip"};if(j)l["data-tooltip-position"]=j;if(k)l["data-tooltip-alignh"]=k;return l}f.exports=h}),null);
__d("TooltipData",["DataStore","DOM","URI","getElementText","ifRequired","isTextNode","tooltipPropsFor"],(function a(b,c,d,e,f,g){__p&&__p();function h(m){var n=m.getAttribute("data-tooltip-delay"),o=n?parseInt(n,10)||1e3:0;return babelHelpers["extends"]({className:m.getAttribute("data-tooltip-root-class"),content:m.getAttribute("data-tooltip-content"),delay:o,position:m.getAttribute("data-tooltip-position")||"above",alignH:m.getAttribute("data-tooltip-alignh")||"left",offsetY:m.getAttribute("data-tooltip-offsety")||0,suppress:false,overflowDisplay:m.getAttribute("data-tooltip-display")==="overflow",persistOnClick:m.getAttribute("data-pitloot-persistonclick"),textDirection:m.getAttribute("data-tooltip-text-direction")},c("DataStore").get(m,"tooltip"))}function i(m,n){var o=h(m);c("DataStore").set(m,"tooltip",{content:n.content||o.content,position:n.position||o.position,alignH:n.alignH||o.alignH,suppress:n.suppress!==undefined?n.suppress:o.suppress,overflowDisplay:n.overflowDisplay||o.overflowDisplay,persistOnClick:n.persistOnClick||o.persistOnClick})}function j(m,n){i(m,n);m.setAttribute("data-hover","tooltip")}function k(m,n){}var l={remove:function m(n){c("DataStore").remove(n,"tooltip");n.removeAttribute("data-hover");n.removeAttribute("data-tooltip-position");n.removeAttribute("data-tooltip-alignh");c("ifRequired")("Tooltip",function(o){o.isActive(n)&&o.hide()})},set:function m(n,o,p,q){__p&&__p();k(n,o);if(o instanceof c("URI")){n.setAttribute("data-tooltip-uri",o);c("ifRequired")("Tooltip",function(s){s.isActive(n)&&s.fetchIfNecessary(n)})}else{var r=l._store({context:n,content:o,position:p,alignH:q});if(typeof r.content!=="string")n.setAttribute("data-tooltip-content",c("getElementText")(r.content));else n.setAttribute("data-tooltip-content",r.content);c("ifRequired")("Tooltip",function(s){s.isActive(n)&&s.show(n)})}},_store:function m(n){__p&&__p();var o=n.context,p=n.content,q=n.position,r=n.alignH;k(o,p);if(c("isTextNode")(p))p=c("getElementText")(p);var s=false;if(typeof p!=="string")p=c("DOM").create("div",{},p);else s=p==="";var t={alignH:r,content:p,position:q,suppress:s};j(o,t);return t},propsFor:c("tooltipPropsFor"),enableDisplayOnOverflow:function m(n){n.removeAttribute("data-tooltip-display");j(n,{overflowDisplay:true})},enablePersistOnClick:function m(n){n.removeAttribute("data-pitloot-persistOnClick");j(n,{persistOnClick:true})},suppress:function m(n,o){i(n,{suppress:o})},_get:h};f.exports=l}),null);
__d("Focus",["cx","CSS","Event","FocusEvent","TooltipData","ifRequired","KeyStatus"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("KeyStatus").isKeyDown,j={set:function l(m){var n=arguments.length<=1||arguments[1]===undefined?false:arguments[1];if(m){var o=c("ifRequired")("VirtualCursorStatus",function(p){return p.isVirtualCursorTriggered()},function(){return false});if(n||i()||o)k(m);else j.setWithoutOutline(m)}},setWithoutOutline:function l(m){__p&&__p();if(m){c("CSS").addClass(m,"_5f0v");var n=c("Event").listen(m,"blur",function(){if(m)c("CSS").removeClass(m,"_5f0v");n.remove()});c("TooltipData").suppress(m,true);k(m);c("TooltipData").suppress(m,false)}},relocate:function l(m,n){c("CSS").addClass(m,"_5f0v");return c("FocusEvent").listen(m,this.performRelocation.bind(this,m,n))},performRelocation:function l(m,n,o){c("CSS").addClass(m,"_5f0v");var p=c("ifRequired")("FocusRing",function(r){return r.usingKeyboardNavigation()},function(){return true}),q=o&&p;c("CSS").conditionClass(n,"_3oxt",q);c("CSS").conditionClass(n,"_16jm",q)}};function k(l){try{l.tabIndex=l.tabIndex;l.focus()}catch(m){}}f.exports=j}),null);
__d("LynxGeneration",["Bootloader","LinkshimHandlerConfig","URI","$","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();function h(k){c("Bootloader").loadModules(["AsyncSignal","XLinkshimLogController"],k||c("emptyFunction"),"LynxGeneration")}function i(k,l){h(function(m,n){var o=n.getURIBuilder().setString("u",k).setString("h",l).getURI();new m(o).send()})}var j={getShimURI:function k(){return new(c("URI"))("/l.php").setDomain(c("LinkshimHandlerConfig").linkshim_host)},getLynxURIProtocol:function k(l){if(c("LinkshimHandlerConfig").always_use_https)return"https";return l.getProtocol()==="http"?"http":"https"},getShimmedHref:function k(l,m){var n=new(c("URI"))(l),o=j.getLynxURIProtocol(n);return j.getShimURI().setQueryData({u:l,h:m}).setProtocol(o).toString()},temporarilySetMetaReferrer:function k(l,m){var n=c("$")("meta_referrer");n.content=c("LinkshimHandlerConfig").switched_meta_referrer_policy;setTimeout(function(){n.content=c("LinkshimHandlerConfig").default_meta_referrer_policy;i(l,m)},100)},loadLogging:h};f.exports=j}),null);
__d("AbstractLink.react",["LynxGeneration","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$AbstractLink1=function(p){var q=this.props,r=q.href,s=q.shimhash,t=q.useMetaReferrer,u=q.onClick;if(t)c("LynxGeneration").temporarilySetMetaReferrer(r,s||"");u&&u(p)}.bind(this),l}j.prototype.componentDidMount=function(){if(this.props.useMetaReferrer)c("LynxGeneration").loadLogging()};j.prototype.render=function(){var k=this.props,l=k.href,m=k.linkRef,n=k.shimhash,o=k.onClick,p=k.useRedirect,q=k.useMetaReferrer,r=k.nofollow,s=k.noopener,t=k.rel,u=babelHelpers.objectWithoutProperties(k,["href","linkRef","shimhash","onClick","useRedirect","useMetaReferrer","nofollow","noopener","rel"]),v=l,w=t;if(p)v=c("LynxGeneration").getShimmedHref(l,n||"");if(r)w=w?w+" nofollow":"nofollow";if(s)w=w?w+" noopener":"noopener";return c("React").createElement("a",babelHelpers["extends"]({},u,{href:v,rel:w,ref:m,onClick:this.$AbstractLink1}))};f.exports=j}),null);
__d("Link.react",["AbstractLink.react","isFacebookURI","isMessengerDotComURI","isBonfireURI","LinkReactUnsafeHrefConfig","LinkshimHandlerConfig","React","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("LinkReactUnsafeHrefConfig").LinkHrefChecker;function k(p){return c("isFacebookURI")(p)||c("isMessengerDotComURI")(p)||c("isBonfireURI")(p)}function l(p){return p.getDomain().endsWith(".onion")}var m=/^(#|\/\w)/;function n(p){if(m.test(p))return false;var q=new(c("URI"))(p),r=q.getProtocol();return(r==="http"||r==="https")&&!k(q)}h=babelHelpers.inherits(o,c("React").Component);i=h&&h.prototype;o.prototype.render=function(){__p&&__p();var p=this.props,q=p.allowunsafehref,r=p.s,s=p.href,t=p.linkRef,u=p.target,v=babelHelpers.objectWithoutProperties(p,["allowunsafehref","s","href","linkRef","target"]),w="#",x=null;if(s instanceof c("URI"))w=s.toString();else if(typeof s==="string"&&s!==""&&s!=="#")w=s;else if(typeof s==="object"&&s!==null){w=s.url.toString();x=s.shimhash?s.shimhash.toString():x}else{w="#";x=null}if(j)j.logIfInvalidProtocol(w,q);if(x==null&&n(w))x=c("LinkshimHandlerConfig").link_react_default_hash;var y=x!=null,z=x!=null,A=false;if(c("LinkshimHandlerConfig").supports_meta_referrer)if(c("LinkshimHandlerConfig").onion_always_shim&&l(new(c("URI"))(w)))z=true;else{if(r)z=false;if(x!=null)A=true}var B=c("LinkshimHandlerConfig").use_rel_no_opener&&x!==null&&u==="_blank";return c("React").createElement(c("AbstractLink.react"),babelHelpers["extends"]({},v,{href:w,linkRef:t,nofollow:y,noopener:B,shimhash:x,target:u,useRedirect:z,useMetaReferrer:A}))};function o(){h.apply(this,arguments)}f.exports=o}),null);
__d("MentionsInputUtils",[],(function a(b,c,d,e,f,g){var h={generateDataFromTextWithEntities:function i(j){var k=j.text,l=[];(j.ranges||[]).forEach(function(n){var o=n.entity;if(!o.external&&!n.videoTimestamp&&!n.sphericalViewport&&!/\D/.test(o.id))l.push({uid:o.id,text:k.substr(n.offset,n.length),offset:n.offset,length:n.length,weakreference:!!o.weakreference})});var m={value:k,mentions:l};return m}};f.exports=h}),null);
__d("SnowflakePermalinkUtils",["URI"],(function a(b,c,d,e,f,g){var h=/\/[^/]+\/(albums\/([^/]+)|posts\/([a-zA-Z]+[^/]+))\/([^/]+\/)?/,i=/\/[^/]+\/(albums|posts)\/([^/]+)\/([^/]+\/)?/,j={isPermalinkURI:function k(l){l=new(c("URI"))(l);return h.test(l.getPath())}};f.exports=j}),null);
__d("UFIBusinessActorIcon.react",["cx","AppUserRoleConstants.brands","BusinessActorUtils.brands","React","getObjectValues","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m=c("BusinessActorUtils.brands").getInitials(this.props.firstName,this.props.lastName),n=this.props.businessRole===c("AppUserRoleConstants.brands").ADMIN;return c("React").createElement("div",{className:c("joinClasses")(this.props.classNames,"_1rpl")},c("React").createElement("div",{className:c("joinClasses")(this.props.textClassNames,n?"_1rpm":null)},m))};function l(){i.apply(this,arguments)}l.propTypes={firstName:k.string.isRequired,lastName:k.string.isRequired,classNames:k.string,textClassNames:k.string,businessRole:k.oneOf(c("getObjectValues")(c("AppUserRoleConstants.brands")))};f.exports=l}),null);
__d("getVendorPrefixedName",["invariant","ExecutionEnvironment","UserAgent","camelize"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={},j=["Webkit","ms","Moz","O"],k=new RegExp("^("+j.join("|")+")"),l=c("ExecutionEnvironment").canUseDOM?document.createElement("div").style:{};function m(p){for(var q=0;q<j.length;q++){var r=j[q]+p;if(r in l)return r}return null}function n(p){switch(p){case"lineClamp":if(c("UserAgent").isEngine("WebKit >= 315.14.2"))return"WebkitLineClamp";return null;default:return null}}function o(p){__p&&__p();var q=c("camelize")(p);if(i[q]===undefined){var r=q.charAt(0).toUpperCase()+q.slice(1);if(k.test(r))h(0);if(c("ExecutionEnvironment").canUseDOM)i[q]=q in l?q:m(r);else i[q]=n(q)}return i[q]}f.exports=o}),null);
__d("BrowserSupportCore",["getVendorPrefixedName"],(function a(b,c,d,e,f,g){var h={hasCSSAnimations:function i(){return!!c("getVendorPrefixedName")("animationName")},hasCSSTransforms:function i(){return!!c("getVendorPrefixedName")("transform")},hasCSS3DTransforms:function i(){return!!c("getVendorPrefixedName")("perspective")},hasCSSTransitions:function i(){return!!c("getVendorPrefixedName")("transition")}};f.exports=h}),null);
__d("BrowserSupport",["BrowserSupportCore","ExecutionEnvironment","UserAgent_DEPRECATED","memoize","getVendorPrefixedName"],(function a(b,c,d,e,f,g){__p&&__p();var h=null;function i(){if(c("ExecutionEnvironment").canUseDOM){if(!h)h=document.createElement("div");return h}return null}var j=function j(l){return c("memoize")(function(){var h=i();if(!h)return false;return l(h)})},k={hasCSSAnimations:c("BrowserSupportCore").hasCSSAnimations,hasCSSTransforms:c("BrowserSupportCore").hasCSSTransforms,hasCSS3DTransforms:c("BrowserSupportCore").hasCSS3DTransforms,hasCSSTransitions:c("BrowserSupportCore").hasCSSTransitions,hasPositionSticky:j(function(h){h.style.cssText="position:-moz-sticky;position:-webkit-sticky;position:-o-sticky;position:-ms-sticky;position:sticky;";return/sticky/.test(h.style.position)}),hasScrollSnapPoints:j(function(h){return"scrollSnapType"in h.style||"webkitScrollSnapType"in h.style||"msScrollSnapType"in h.style}),hasScrollBehavior:j(function(h){return"scrollBehavior"in h.style}),hasPointerEvents:j(function(h){if(!("pointerEvents"in h.style))return false;h.style.cssText="pointer-events:auto";return h.style.pointerEvents==="auto"}),hasFileAPI:c("memoize")(function(){return!(c("UserAgent_DEPRECATED").webkit()&&!c("UserAgent_DEPRECATED").chrome()&&c("UserAgent_DEPRECATED").windows())&&"FileList"in window&&"FormData"in window}),hasBlobFactory:c("memoize")(function(){return!!b.blob}),getTransitionEndEvent:c("memoize")(function(){var l={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd"},m=c("getVendorPrefixedName")("transition");return l[m]||null}),hasCanvasRenderingContext2D:function l(){return!!window.CanvasRenderingContext2D}};f.exports=k}),null);
__d("LoadingMarker.react",["LoadingMarkerGated","React"],(function a(b,c,d,e,f,g){"use strict";function h(i){return i.children}f.exports=c("LoadingMarkerGated").component||h}),null);
__d("XUISpinner.react",["cx","fbt","BrowserSupport","LoadingMarker.react","React","UserAgent","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes,m=c("BrowserSupport").hasCSSAnimations()&&!(c("UserAgent").isEngine("Trident < 6")||c("UserAgent").isEngine("Gecko < 39")||c("UserAgent").isBrowser("Safari < 6"));j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){"use strict";var o=this.props,p=o.showOnAsync,q=o.background,r=o.paused,s=babelHelpers.objectWithoutProperties(o,["showOnAsync","background","paused"]),t="img _55ym"+(this.props.size=="small"?" _55yn":"")+(this.props.size=="large"?" _55yq":"")+(q=="light"?" _55yo":"")+(q=="dark"?" _55yp":"")+(p?" _5tqs":"")+(!m?" _5d9-":"")+(m&&r?" _2y32":"");return c("React").createElement(c("LoadingMarker.react"),null,c("React").createElement("span",babelHelpers["extends"]({},s,{className:c("joinClasses")(this.props.className,t),role:"progressbar","aria-valuetext":i._("Loading..."),"aria-busy":"true","aria-valuemin":"0","aria-valuemax":"100"})))};function n(){"use strict";j.apply(this,arguments)}n.propTypes={paused:l.bool,showOnAsync:l.bool,size:l.oneOf(["small","large"]),background:l.oneOf(["light","dark"])};n.defaultProps={showOnAsync:false,size:"small",background:"light"};f.exports=n}),null);
__d("UFIActorIconContainer.react",["cx","Image.react","React","ShortProfiles","UFIBusinessActorIcon.react","XUISpinner.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").createElement(c("XUISpinner.react"),{size:"large"});i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={actor:null},n}l.prototype.componentWillMount=function(){this.$UFIActorIconContainer1()};l.prototype.componentDidUpdate=function(m){if(this.props.actorID!==m.actorID)this.$UFIActorIconContainer1()};l.prototype.$UFIActorIconContainer1=function(){c("ShortProfiles").get(this.props.actorID,function(m){return this.setState({actor:m})}.bind(this))};l.prototype.render=function(){__p&&__p();var m=this.state.actor;if(!m)return this.props.tinyIcon?c("React").createElement(c("XUISpinner.react"),{size:"small"}):k;var n=void 0;if(this.props.tinyIcon)n=c("joinClasses")("img UFIActorImage _3tm9",this.props.className);else if(this.props.smallIcon)n=c("joinClasses")("img UFIActorImage _3qxe",this.props.className);else n=c("joinClasses")("img UFIActorImage _54ru",this.props.className);return m.isBusinessPersona?c("React").createElement(c("UFIBusinessActorIcon.react"),{classNames:n,firstName:m.firstName,lastName:m.lastName,textClassNames:"UFIBusinessActorIconText"}):c("React").createElement(c("Image.react"),{alt:m.name,className:n,src:m.thumbSrc})};f.exports=l}),null);
__d("AbstractCommentLiveTypingController",["destroyOnUnload","ex"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={START:"start",STOP:"stop"},i=10*1e3;function j(k,l,m){this.$AbstractCommentLiveTypingController5=k;this.$AbstractCommentLiveTypingController6=l;this.$AbstractCommentLiveTypingController7=m;this.$AbstractCommentLiveTypingController1=null;this.$AbstractCommentLiveTypingController2=false;this.$AbstractCommentLiveTypingController3=0;this.$AbstractCommentLiveTypingController4=null;c("destroyOnUnload")(this.destroy.bind(this))}j.prototype.destroy=function(){this.$AbstractCommentLiveTypingController1&&this.$AbstractCommentLiveTypingController1.destroy();this.$AbstractCommentLiveTypingController1=null;this.$AbstractCommentLiveTypingController2=false;this.$AbstractCommentLiveTypingController3=0;this.$AbstractCommentLiveTypingController4=null};j.prototype.bootloadPublisherModule=function(k){throw new Error(c("ex")("bootloadPublisherModule not implemented, should be overridden by subclass"))};j.prototype.$AbstractCommentLiveTypingController8=function(k){var l=new k(this.$AbstractCommentLiveTypingController5,this.$AbstractCommentLiveTypingController6,this.$AbstractCommentLiveTypingController7),m=Date.now(),n=this.$AbstractCommentLiveTypingController3;if(n&&n+i>=m){var o=this.$AbstractCommentLiveTypingController4;if(o===h.START)l.handleStartEvent();else if(o===h.STOP)l.handleStopEvent()}this.$AbstractCommentLiveTypingController1=l};j.prototype.$AbstractCommentLiveTypingController9=function(){if(this.$AbstractCommentLiveTypingController2||!this.$AbstractCommentLiveTypingController5)return;this.$AbstractCommentLiveTypingController2=true;this.bootloadPublisherModule(this.$AbstractCommentLiveTypingController8.bind(this))};j.prototype.attemptPublishStartEvent=function(){this.$AbstractCommentLiveTypingController4=h.START;this.$AbstractCommentLiveTypingController3=Date.now();if(this.$AbstractCommentLiveTypingController1)this.$AbstractCommentLiveTypingController1.handleStartEvent();else if(!this.$AbstractCommentLiveTypingController2)this.$AbstractCommentLiveTypingController9()};j.prototype.attemptPublishStopEvent=function(){this.$AbstractCommentLiveTypingController4=h.STOP;this.$AbstractCommentLiveTypingController3=Date.now();if(this.$AbstractCommentLiveTypingController1)this.$AbstractCommentLiveTypingController1.handleStopEvent();else if(!this.$AbstractCommentLiveTypingController2)this.$AbstractCommentLiveTypingController9()};f.exports=j}),null);
__d("UFIAddCommentLiveTypingController",["AbstractCommentLiveTypingController","Bootloader"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractCommentLiveTypingController"));i=h&&h.prototype;function j(k,l,m){i.constructor.call(this,k,l,m)}j.prototype.bootloadPublisherModule=function(k){c("Bootloader").loadModules(["UFIAddCommentLiveTypingPublisher"],k,"UFIAddCommentLiveTypingController")};j.prototype.attemptPublishStartEvent=function(){i.attemptPublishStartEvent.call(this)};j.prototype.attemptPublishStopEvent=function(){i.attemptPublishStopEvent.call(this)};f.exports=j}),null);
__d("ARIA",["DOM","emptyFunction","ge","getOrCreateDOMID"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=function m(){__p&&__p();h=c("ge")("ariaAssertiveAlert");if(!h){h=c("DOM").create("div",{id:"ariaAssertiveAlert",className:"accessible_elem","aria-live":"assertive"});c("DOM").appendContent(document.body,h)}i=c("ge")("ariaPoliteAlert");if(!i){i=h.cloneNode(false);i.setAttribute("id","ariaPoliteAlert");i.setAttribute("aria-live","polite");c("DOM").appendContent(document.body,i)}j=c("emptyFunction")};function k(m,n){j();var o=n?h:i;c("DOM").setContent(o,m)}var l={controls:function m(n){for(var o=arguments.length,p=Array(o>1?o-1:0),q=1;q<o;q++)p[q-1]=arguments[q];var r=p.map(function(s){return c("getOrCreateDOMID")(s)}).join(" ");n.setAttribute("aria-controls",r)},describedBy:function m(n){for(var o=arguments.length,p=Array(o>1?o-1:0),q=1;q<o;q++)p[q-1]=arguments[q];var r=p.map(function(s){return c("getOrCreateDOMID")(s)}).join(" ");n.setAttribute("aria-describedby",r)},owns:function m(n,o){n.setAttribute("aria-owns",c("getOrCreateDOMID")(o))},setPopup:function m(n,o){var p=c("getOrCreateDOMID")(o);n.setAttribute("aria-controls",p);n.setAttribute("aria-haspopup","true");var q=n.getAttribute("role")||"";if(q)n.setAttribute("role",q)},announce:function m(n){k(n,true)},notify:function m(n){k(n,false)}};f.exports=l}),null);
__d("nl2br",["DOM"],(function a(b,c,d,e,f,g){var h=/(\r\n|[\r\n])/;function i(j){return j.split(h).map(function(k){return h.test(k)?c("DOM").create("br"):k})}f.exports=i}),null);
__d("UFIAttachMediaSection.react",["cx","fbt","Bootloader","Focus","React","UFICommentFileInputAcceptValues","XUIError.react","gkx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={bootloaded:false,hasUploadFailure:false},this.$UFIAttachMediaSection1=null,this.$UFIAttachMediaSection2=null,this.$UFIAttachMediaSection3=function(){this.setState({hasUploadFailure:false})}.bind(this),this.$UFIAttachMediaSection4=function(){this.setState({hasUploadFailure:false})}.bind(this),this.$UFIAttachMediaSection5=function(){this.setState({hasUploadFailure:true})}.bind(this),this.$UFIAttachMediaSection6=function(event){this.props.onClick&&this.props.onClick();if(this.state.bootloaded)return;c("Bootloader").loadModules(["UFIUploader"],function(s){this.$UFIAttachMediaSection1=new s(this.refs.inputContainer,this.refs.inputControl,this.refs.input,this.props.getPhotoUploadData,this.props.getFileUploadData,this.props.prepareForAttachedPhotoPreview,this.props.prepareForAttachedVideoPreview,this.props.prepareForAttachedFilePreview,this.props.onPhotoUploadComplete,this.props.onVideoEncodeUpdate,this.props.onVideoUploadUpdate,this.props.onVideoUploadComplete,this.props.onFileUploadComplete,this.props.setFileInput,this.props.viewerActorID,this.$UFIAttachMediaSection3,this.$UFIAttachMediaSection4,this.$UFIAttachMediaSection5)}.bind(this),"UFIAttachMediaSection.react");this.setState({bootloaded:true})}.bind(this),o}m.prototype.componentDidMount=function(){var n=this.refs,o=n.input,p=n.inputControl;if(o&&p)this.$UFIAttachMediaSection2=c("Focus").relocate(o,p)};m.prototype.componentWillUnmount=function(){this.$UFIAttachMediaSection1&&this.$UFIAttachMediaSection1.destroy();if(this.$UFIAttachMediaSection2){this.$UFIAttachMediaSection2.remove();this.$UFIAttachMediaSection2=null}};m.prototype.render=function(){var n=c("gkx")("AT7t_EqG8ZLxpo8JnmIsX9tz87lbcgP_f3ZGsMEN1fYhO-5QeMxvdM9TZ9dQThWIcZOOGIdb7m-FtmQxL2OcvA8h")&&this.props.allowFileAttachments,o=n?i._("Attach a file"):this.props.allowVideoAttachments?i._("Attach a photo or video"):i._("Attach a photo"),p=n?i._("There was a problem with attaching the file. Please try again"):i._("There was a problem with attaching the file, please try again"),q=this.state.hasUploadFailure,r=c("React").createElement("div",{className:"_r1a UFIPhotoAttachLinkWrapper _m"+(!!this.props.attachment?" _5t1p":""),"data-hover":q?null:"tooltip","data-tooltip-alignh":q?null:"center","data-tooltip-content":q?null:o,onClick:this.$UFIAttachMediaSection6,ref:"inputContainer",role:"presentation"},c("React").createElement("span",{className:n?"UFICommentFileIcon":"UFICommentPhotoIcon",ref:"inputControl"},c("React").createElement("input",{accept:n?c("UFICommentFileInputAcceptValues").files:this.props.allowVideoAttachments?c("UFICommentFileInputAcceptValues").both:c("UFICommentFileInputAcceptValues").photos,"aria-label":o,className:"_n",name:"file",ref:"input",title:o,type:"file",key:"0"})));return c("React").createElement(c("XUIError.react"),{xuiError:q?p:null,xuiErrorPosition:"above",xuiErrorAlignh:"center"},r)};m.propTypes={getPhotoUploadData:l.func.isRequired,getFileUploadData:l.func,prepareForAttachedPhotoPreview:l.func.isRequired,prepareForAttachedVideoPreview:l.func,prepareForAttachedFilePreview:l.func,onPhotoUploadComplete:l.func.isRequired,onVideoUploadComplete:l.func,onVideoUploadUpdate:l.func,onVideoEncodeUpdate:l.func,onFileUploadComplete:l.func,onClick:l.func,setFileInput:l.func.isRequired,targetId:l.string,allowVideoAttachments:l.bool,allowFileAttachments:l.bool,attachment:l.object,viewerActorID:l.string.isRequired};f.exports=m}),null);
__d("TabbableElements",["Style"],(function a(b,c,d,e,f,g){__p&&__p();function h(k){__p&&__p();if(k.tabIndex<0)return false;if(k.tabIndex>0||k.tabIndex===0&&k.getAttribute("tabIndex")!==null)return true;var l=k;switch(k.tagName){case"A":var m=l;return!!m.href&&m.rel!="ignore";case"INPUT":var n=l;return n.type!="hidden"&&n.type!="file"&&!n.disabled;case"BUTTON":case"SELECT":case"TEXTAREA":var o=l;return!o.disabled}return false}function i(k){var l=k;while(l&&l!==document&&c("Style").get(l,"visibility")!="hidden"&&c("Style").get(l,"display")!="none")l=l.parentNode;return l===document}var j={find:function k(l){return Array.from(l.getElementsByTagName("*")).filter(j.isTabbable)},findFirst:function k(l){return Array.from(l.getElementsByTagName("*")).find(j.isTabbable)},isTabbable:function k(l){return h(l)&&i(l)},isVisible:function k(l){return i(l)}};f.exports=j}),null);
__d("TabIsolation",["Event","Focus","Keys","TabbableElements","containsNode"],(function a(b,c,d,e,f,g){__p&&__p();var h=[],i=0;function j(k){"use strict";this.$TabIsolation3=k;this.$TabIsolation1=null;this.$TabIsolation2=i++}j.prototype.enable=function(){"use strict";h.unshift(this.$TabIsolation2);this.$TabIsolation1=c("Event").listen(window,"keydown",function(k){if(h[0]===this.$TabIsolation2)this.$TabIsolation4(k)}.bind(this),c("Event").Priority.URGENT)};j.prototype.disable=function(){"use strict";if(this.$TabIsolation1){var k=h.indexOf(this.$TabIsolation2);if(k>-1)h.splice(k,1);this.$TabIsolation1.remove();this.$TabIsolation1=null}};j.prototype.$TabIsolation4=function(k){"use strict";__p&&__p();if(c("Event").getKeyCode(k)!==c("Keys").TAB)return;var l=k.getTarget();if(!l)return;var m=c("TabbableElements").find(this.$TabIsolation3),n=m[0],o=m[m.length-1],p=k.getModifiers(),q=p.shift;if(q&&l===n){k.preventDefault();c("Focus").set(o)}else if(!q&&l===o||!c("containsNode")(this.$TabIsolation3,l)){k.preventDefault();c("Focus").set(n)}};f.exports=j}),18);
__d("LayerTabIsolation",["TabIsolation"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i;this._tabIsolation=null}h.prototype.enable=function(){"use strict";this._tabIsolation=new(c("TabIsolation"))(this._layer.getRoot());this._subscriptions=[this._layer.subscribe("show",this._tabIsolation.enable.bind(this._tabIsolation)),this._layer.subscribe("hide",this._tabIsolation.disable.bind(this._tabIsolation))]};h.prototype.disable=function(){"use strict";while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._tabIsolation.disable();this._tabIsolation=null};Object.assign(h.prototype,{_subscriptions:[]});f.exports=h}),null);
__d("classWithMixins",[],(function a(b,c,d,e,f,g){function h(i,j){var k=function k(){i.apply(this,arguments)};k.prototype=Object.assign(Object.create(i.prototype),j.prototype);return k}f.exports=h}),null);
__d("UFIGifButton.react",["cx","fbt","Arbiter","Bootloader","FocusRelocator.react","LayerTabIsolation","Link.react","MessengerPlatformInterfaceType","React","ReactLayeredComponentMixin_DEPRECATED","classWithMixins","mixin"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=278;j=babelHelpers.inherits(m,c("classWithMixins")(c("React").Component,c("mixin")(c("ReactLayeredComponentMixin_DEPRECATED"))));k=j&&j.prototype;function m(){__p&&__p();k.constructor.call(this);this.$UFIGifButton4=function(){this.setState({flyoutShown:false,query:""})}.bind(this);this.$UFIGifButton7=function(){this.$UFIGifButton3=this.state.flyoutShown}.bind(this);this.$UFIGifButton6=function(){__p&&__p();if(this.state.renderFlyout!==null){if(!this.$UFIGifButton3){this.props.onGifFlyoutShow&&this.props.onGifFlyoutShow();this.setState({flyoutShown:true})}return}c("Bootloader").loadModules(["XUIContextualDialog.react","ChatContentSearchFlyout.react","ContextualLayerAutoFlip"],function(n,o,p){this.setState({flyoutShown:true,renderFlyout:function(){return{contextualDialog:c("React").createElement(n,{alignment:"right",behaviors:{flip:p,LayerTabIsolation:c("LayerTabIsolation")},className:"_5trk",contextRef:function(){return this.$UFIGifButton1}.bind(this),onBlur:this.$UFIGifButton4,onToggle:function(q){if(!q&&this.state.flyoutShown)this.$UFIGifButton4()}.bind(this),position:"above",shown:this.state.flyoutShown,hasActionableContext:true,width:l},c("React").createElement("div",null,c("React").createElement(o,{onEscKeyDown:this.$UFIGifButton4,onSelect:this.$UFIGifButton8,query:this.state.query,shown:this.state.flyoutShown,searchInterface:c("MessengerPlatformInterfaceType").FB_INTERFACE,queryDefault:this.props.defaultGifSelection})))}}.bind(this)});this.props.onGifFlyoutShow&&this.props.onGifFlyoutShow()}.bind(this),"UFIGifButton.react")}.bind(this);this.$UFIGifButton8=function(n){this.props.onGifSelected(n);this.$UFIGifButton4()}.bind(this);this.$UFIGifButton5=function(n){this.$UFIGifButton1=n}.bind(this);this.state={renderFlyout:null,flyoutShown:false,query:""}}m.prototype.componentDidMount=function(){this.$UFIGifButton2=c("Arbiter").subscribe("page_transition",function(){return this.$UFIGifButton4()}.bind(this))};m.prototype.componentWillUnmount=function(){this.$UFIGifButton2&&this.$UFIGifButton2.unsubscribe()};m.prototype.render=function(){var n=i._("Post a GIF");return c("React").createElement(c("FocusRelocator.react"),{from:this.$UFIGifButton1,to:this.refs.icon},c("React").createElement(c("Link.react"),{"aria-label":n,className:"_r1a UFICommentGifButton","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":this.props.showTooltip?n:null,linkRef:this.$UFIGifButton5,onClick:this.$UFIGifButton6,onMouseDown:this.$UFIGifButton7,role:"button"},c("React").createElement("div",{ref:"icon",className:"UFICommentGifIcon"+(this.state.flyoutShown?" UFICommentGifIconActive":"")}),this.props.children))};m.prototype.renderLayers=function(){return!this.state.renderFlyout||!this.state.flyoutShown?{}:this.state.renderFlyout()};m.defaultProps={showTooltip:true};f.exports=m}),null);
__d("UFIGroupedInputTabs",["CacheStorage"],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({EMOJI:"Emoji",STICKER:"Stickers",GIF:"Gifs"}),i="last_used_input_on_composer",j=new(c("CacheStorage"))("localstorage"),k=function k(){return j.get(i,h.STICKER)},l=function l(m){j.set(i,m)};f.exports={InputTitleEnum:h,getLastUsedTab:k,setLastUsedTab:l}}),null);
__d("keyMirror",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){var k={};j instanceof Object&&!Array.isArray(j)||h(0);for(var l in j){if(!Object.prototype.hasOwnProperty.call(j,l))continue;k[l]=l}return k}f.exports=i}),null);
__d("LeftRight.react",["cx","invariant","React","joinClasses","keyMirror"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("keyMirror")({left:true,right:true,both:true});function m(p){p&&(p.length===1||p.length===2)||i(0)}function n(p){var q=[];c("React").Children.forEach(p,function(r){return q.push(r)});return q}j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;o.prototype.render=function(){var p=n(this.props.children);m(p);var q=this.props.direction||l.both,r=q===l.both,s=r||q===l.left?"_ohe lfloat":"",t=r||q===l.right?"_ohf rfloat":"",u=c("React").createElement("div",{key:"left",className:s},p[0]),v=p.length<2?null:c("React").createElement("div",{key:"right",className:t},p[1]),w=q===l.right&&v?[v,u]:[u,v];return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"clearfix")}),w)};function o(){j.apply(this,arguments)}o.DIRECTION=l;f.exports=o}),null);
__d("UFIMarkdownButton.react",["cx","fbt","Link.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=i._("Format text with markdown");return c("React").createElement(c("Link.react"),{className:"_r1a _45-m","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":m,"aria-label":m,onClick:this.props.onClick},c("React").createElement("div",{tabIndex:0,className:"_45-n"+(this.props.active?" _45-o":"")}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoTipJarTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoTipJarLoggerConfig",this.$VideoTipJarTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoTipJarLoggerConfig",this.$VideoTipJarTypedLogger1,c("Banzai").VITAL)};h.prototype.logImmediately=function(){c("GeneratedLoggerUtils").log("logger:VideoTipJarLoggerConfig",this.$VideoTipJarTypedLogger1,{signal:true})};h.prototype.clear=function(){this.$VideoTipJarTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$VideoTipJarTypedLogger1)};h.prototype.updateData=function(j){this.$VideoTipJarTypedLogger1=babelHelpers["extends"]({},this.$VideoTipJarTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$VideoTipJarTypedLogger1.event=j;return this};h.prototype.setGamesOrderID=function(j){this.$VideoTipJarTypedLogger1.games_order_id=j;return this};h.prototype.setPaymentID=function(j){this.$VideoTipJarTypedLogger1.payment_id=j;return this};h.prototype.setProductID=function(j){this.$VideoTipJarTypedLogger1.product_id=j;return this};h.prototype.setTipPaymentID=function(j){this.$VideoTipJarTypedLogger1.tip_payment_id=j;return this};h.prototype.setUsdAmount=function(j){this.$VideoTipJarTypedLogger1.usd_amount=j;return this};h.prototype.setUserAmount=function(j){this.$VideoTipJarTypedLogger1.user_amount=j;return this};h.prototype.setUserCurrency=function(j){this.$VideoTipJarTypedLogger1.user_currency=j;return this};h.prototype.setVC=function(j){this.$VideoTipJarTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$VideoTipJarTypedLogger1.video_id=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$VideoTipJarTypedLogger1=babelHelpers["extends"]({},this.$VideoTipJarTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={event:true,games_order_id:true,payment_id:true,product_id:true,tip_payment_id:true,usd_amount:true,user_amount:true,user_currency:true,vc:true,video_id:true};f.exports=h}),null);
__d("UFISupportButton.react",["cx","fbt","Link.react","React","Tahoe","VideoTipJarTypedLogger","ifRequired"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=i._("Support {target_name}",[i.param("target_name",this.props.targetName)]);return c("React").createElement(c("Link.react"),{className:"_r1a _1sj_","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":m,"aria-label":m,onClick:this.$UFISupportButton1},c("React").createElement("div",{className:"_1l4x"}))};l.prototype.$UFISupportButton1=function(){var m=c("Tahoe").get();if(m==null)return;var n=m.getView();c("ifRequired")("TahoeVideoView",function(o){if(!(n instanceof o))return;n.toggleSupportOverlay();new(c("VideoTipJarTypedLogger"))().setEvent("support_glyph_clicked").setVideoID(m.getMediaController().getMediaID()).log()})};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("XBasicFBNuxDismissController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/megaphone/dismiss_fbnux/",{nux_id:{type:"Int",required:true}})}),null);
__d("XBasicFBNuxViewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/megaphone/view_fbnux/",{nux_id:{type:"Int",required:true}})}),null);
__d("XFeedNUXSaveSeenStateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/feed/nux/seen/save/",{link_id:{type:"String"},key:{type:"String",required:true},seen:{type:"Bool",defaultValue:false},env:{type:"Enum",enumType:0}})}),null);
__d("XUFICommentGIFPreprocessController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/comment/gif_preprocess/",{})}),null);
__d("XUFICommentMarkdownPreviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/comment/markdown_preview/",{comment_body:{type:"String"}})}),null);
__d("UFIAddComment.react",["cx","fbt","invariant","ActorURI","Arbiter","AsyncRequest","Badge.react","BootloadedComponent.react","Bootloader","ClipboardPhotoUploader","CommentPrivacyUtils","CommentPrivacyValue","CommentSection","CommunityConversationsUfiTreatment","EmojiInputButton.react","Event","GroupedInputButton","JSResource","Keys","Link.react","LitestandStoryInsertionStatus","MentionsInputUtils","MercuryIDs","PrivateCommentsConfig","PrivateConversationsTreatment","QE2Logger","React","ReactDOM","Run","ShortProfiles","SnowflakePermalinkUtils","SubscriptionsHandler","SutroStoryHeaderUFIGatingConfig","TextDelightEvents","TextWithEntities.react","TrackingNodes","UFIActorIconContainer.react","UFIAddCommentAction","UFIAddCommentLiveTypingController","UFIAttachMediaSection.react","UFIBotsButton","UFICommentMessengerPromptConfig","UFICommercialBreakStore","UFIComposerIsTypingStore","UFIConfig","UFIGifButton.react","UFIGroupedInputTabs","UFIImageBlock.react","UFIMarkdownButton.react","UFIOrderingModeStore","UFIPlayLiveVODHighlightsStore","UFISharedDispatcher","UFIStickerButton.react","UFISupportButton.react","URI","VideoPermalinkURI","XBasicFBNuxDismissController","XBasicFBNuxGenShouldShowController","XBasicFBNuxViewController","XFeedNUXSaveSeenStateController","XUFICommentGIFPreprocessController","XUFICommentMarkdownPreviewController","XUIText.react","getActiveElement","joinClasses","textProbablyWritingMarkdown","throttle"],(function aa(a,b,ba,ca,c,da,ea,d,e){"use strict";__p&&__p();var f,g,h=b("GroupedInputButton").module,i=b("UFIBotsButton").module,j=b("UFIGroupedInputTabs").InputTitleEnum,k=b("UFIGroupedInputTabs").setLastUsedTab,l=a.URL||a.webkitURL||{},m=b("React").PropTypes,n=d._("Write a comment..."),o=d._("Write a reply..."),fa=d._("Write an answer..."),p="fcg fss UFICommentTip",ga=19,ha="/ajax/ufi/upload/",ia="/ajax/ufi/sticker_preview/",ja=1e3,ka="comment_content_change",la="www_messenger_comment_pivot_universe",q=Object.freeze({UPLOAD:"uploading",ENCODE:"encoding"}),r=5572,s=false,t=false,u=false;f=babelHelpers.inherits(v,b("React").Component);g=f&&f.prototype;function v(w){__p&&__p();g.constructor.call(this,w);this.$UFIAddComment10=function(event){if(this.props.isEditing&&b("Event").getKeyCode(event.nativeEvent)===b("Keys").ESC)this.context.dispatch(b("UFIAddCommentAction").cancel(this.props.contextArgs));if(this.$UFIAddComment1&&!this.$UFIAddComment2){b("Run").onBeforeUnload(this.$UFIAddComment11);this.$UFIAddComment2=true}var B=b("getActiveElement")();if(b("Event").getKeyCode(event.nativeEvent)===b("Keys").ESC)B.blur()}.bind(this);this.$UFIAddComment12=function(B){__p&&__p();var C,D=this;b("UFISharedDispatcher").dispatch(b("UFIAddCommentAction").changeContent(this.props.contextArgs,B,this.props.replyCommentID));b("Arbiter").inform(ka,{fbid:this.props.replyCommentID,text:B,instanceid:this.props.contextArgs.instanceid,ftentidentifier:this.props.contextArgs.ftentidentifier});b("TextDelightEvents").emitScrapableComment(B);if(this.props.allowCommentMarkdown&&this.state.commentMarkdownEnabled)this.$UFIAddComment13(B);if(this.props.isTargetPage)(function(){var F=D.parseTextForMentions(B);if(F&&F.length==1)b("ShortProfiles").get(F[0].uid,function(G){if(G.type=="friend"){b("QE2Logger").logExposureForUser(la);if(b("UFICommentMessengerPromptConfig").show_messenger_prompt)this.$UFIAddComment14(F[0])}}.bind(D));else D.$UFIAddComment15()})();else if(this.props.contextArgs.showGroupChatPivot&&b("UFICommentMessengerPromptConfig").show_groups_prompt){var E=this.parseTextForMentions(B);if(E&&E.length>=1)this.$UFIAddComment16(E.map(function(F){return F.uid}));else this.$UFIAddComment17()}if(this.state.groupedInputNUXShown)this.$UFIAddComment18()}.bind(this);this.$UFIAddComment13=function(B){var C=b("XUFICommentMarkdownPreviewController").getURIBuilder().setString("comment_body",B).getURI();new(b("AsyncRequest"))(C).setHandler(this.$UFIAddComment19).send()}.bind(this);this.$UFIAddComment19=function(B){if(!B)return;this.setState({commentMarkdownPreviewContent:B.payload?B.payload.markup:null})}.bind(this);this.$UFIAddComment11=function(){__p&&__p();var B=a.PageTransitions;if(B){var C=b("URI").getNextURI(),D=B.getMostRecentURI();if(Object.prototype.hasOwnProperty.call(C.getQueryData(),"theater")||Object.prototype.hasOwnProperty.call(D.getQueryData(),"theater")||Object.prototype.hasOwnProperty.call(C.getQueryData(),"sdialog")||b("SnowflakePermalinkUtils").isPermalinkURI(C)||b("SnowflakePermalinkUtils").isPermalinkURI(D)||b("VideoPermalinkURI").isValid(C)&&C.getQueryData().ref==="channel"||b("VideoPermalinkURI").isValid(D)&&D.getQueryData().ref==="channel")return;var E=a.DialogNavigationStack;if(E&&E.isActiveURI(C))return}if(this.refs&&this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return d._("You haven't finished your comment yet. Do you want to leave without finishing?")}.bind(this);this.$UFIAddComment20=function(){this.setState({markdownNUXVisible:false,gifsInCommentsNUXVisible:false,groupedInputNUXShown:false,privateCommentNUXVisible:false});setTimeout(function(){if(this.$UFIAddComment1)this.setState({isFocused:false})}.bind(this),100);if(this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return;this.setState({isCommenting:false})}.bind(this);this.$UFIAddComment21=function(event){var B=new(b("ClipboardPhotoUploader"))(ha,this.$UFIAddComment22());this.$UFIAddComment23();this.$UFIAddComment3=[B.subscribe("upload_start",this.$UFIAddComment24),B.subscribe("upload_error",this.$UFIAddComment25),B.subscribe("upload_success",function(C,D){this.$UFIAddComment26(D)}.bind(this))];B.handlePaste(event)}.bind(this);this.$UFIAddComment27=function(B,event){__p&&__p();var C,D=this,E;this.setState({hasSubmitted:true});var F=this.state.attachedPhoto||this.state.attachedVideo||this.state.attachedFile||this.state.attachedSticker||this.state.attachedGIF,G=this.props.isEditing||F;if(this.state.messengerTarget&&this.state.messengerTarget.uid){var C=function(){var H=D.state.messengerTarget.uid;D.context.dispatch(b("UFIAddCommentAction").submitCommentPivot(D.props.contextArgs,B,event.target,H));b("Bootloader").loadModules(["FantaTabActions"],function(I){I.openTab(b("MercuryIDs").getThreadIDFromUserID(H))},"UFIAddComment.react");D.setState({messengerTarget:null});return{v:true}}();if(typeof C==="object")return C.v}if(this.props.contextArgs.showGroupChatPivot){if(this.state.sendAsChat){var E=function(){__p&&__p();var H=D.state.chatPivotTargets,I=D.props,J=I.contextArgs,K=I.groupID,L=I.viewerActorID;b("Bootloader").loadModules(["FantaTabActions","MercurySourceType","XMessengerAssociatedObjectGroupCreateController"],function(M,N,O){__p&&__p();if(!K||!H)return;var P=H.indexOf(L)===-1?[L].concat(H):H;if(!B.encodedValue)return;var Q=O.getURIBuilder().setString("entry_point","fbgroup_comment_pivot").setString("source",N.WEB).setString("body",B.encodedValue).setFBID("group_post_id",J.ftentidentifier).setFBID("attachment_id",J.ftentidentifier).setFBID("associated_object_id",K).setFBIDSet("participant_fbids",P).getURI();new(b("AsyncRequest"))(Q).setHandler(function(R){var S=R.payload;if(S)M.openTab(b("MercuryIDs").getThreadIDFromThreadFBID(S))}).send()},"UFIAddComment.react");D.context.dispatch(b("UFIAddCommentAction").cancel(D.props.contextArgs));D.setState({sendAsChat:false,chatPivotTargets:null});return{v:true}}();if(typeof E==="object")return E.v}this.setState({sendAsChat:false,chatPivotTargets:null})}if(this.state.isLoadingPhoto||this.$UFIAddComment28()||this.state.isLoadingFile)return false;else if((!B.encodedValue||!B.encodedValue.trim())&&!G)return false;B.encodedValue=B.encodedValue?B.encodedValue.trim():"";if(this.state.commentMarkdownEnabled){B.isMarkdown=true;this.setState({commentMarkdownEnabled:false,commentMarkdownPreviewContent:null})}else if(this.props.allowCommentMarkdown&&!B.isMarkdown)B.isMarkdown=b("textProbablyWritingMarkdown")(B.encodedValue);if(this.state.commentPrivacy)B.privacy_value=this.state.commentPrivacy;if(this.state.commentSection)B.section=this.state.commentSection;if(F){B.attachedPhoto=this.state.attachedPhoto;B.attachedVideo=this.state.attachedVideo;B.attachedFile=this.state.attachedFile;B.attachedSticker=this.state.attachedSticker;if(this.state.attachedGIF)if(this.state.attachedGIF.source)B.attachedShareURL=this.state.attachedGIF.source.url;else if(this.state.attachedGIF.originalImageUrl)B.attachedShareURL=this.state.attachedGIF.originalImageUrl;this.setState({isLoadingPhoto:false,isLoadingFile:false,attachedPhoto:null,attachedVideo:null,attachedFile:null,attachedSticker:null,attachedGIF:null})}else{B.attachedPhoto=null;B.attachedVideo=null;B.attachedFile=null;B.attachedSticker=null;B.attachedGIF=null;B.attachedShareURL=null}if(this.props.isEditing)this.context.dispatch(b("UFIAddCommentAction").submitEdit(this.props.contextArgs,this.props.editingComment,B,event.target));else this.context.dispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,B,event.target,this.props.replyCommentID));return true}.bind(this);this.focus=function(){__p&&__p();var B={isCommenting:true,isFocused:true,hasSubmitted:false},C=this.props.contextArgs.loggedOutLinkConfig;if(C&&C.showAddComment)b("Bootloader").loadModules(["AsyncDialog"],function(G){G.bootstrap(C.addCommentAjaxifyURI,null,"dialog")},"UFIAddComment.react");if(this.refs.groupedInputButton)b("Bootloader").loadModules(["SimpleNUXMessage","SimpleNUXMessageTypes"],function(G,H){if(!G.hasUserSeenMessage(H.MERGE_INPUT_COMPOSER_NUX)){this.setState({groupedInputNUXShown:true});G.markMessageSeenByUser(H.MERGE_INPUT_COMPOSER_NUX)}}.bind(this),"UFIAddComment.react");if(this.props.allowGifAttachments&&b("UFIConfig").shouldShowGIFsInCommentsNux)if(!s){s=true;var D=b("XFeedNUXSaveSeenStateController").getURIBuilder().setString("key","gif_comments").setBool("seen",true).getURI();new(b("AsyncRequest"))(D).send();B.gifsInCommentsNUXVisible=true}if(this.props.allowCommentMarkdown&&b("UFIConfig").shouldShowMarkdownCommentNUX&&!b("UFIConfig").shouldShowGIFsInCommentsNux)if(!t){t=true;var E=b("XFeedNUXSaveSeenStateController").getURIBuilder().setString("key","markdown_comments").setBool("seen",true).getURI();new(b("AsyncRequest"))(E).send();B.markdownNUXVisible=true}if(this.props.allowTogglePrivateComments&&!(this.state.gifsInCommentsNUXVisible||B.gifsInCommentsNUXVisible)&&!(this.state.markdownNUXVisible||B.markdownNUXVisible))if(!u){u=true;var F=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",r).getURI();new(b("AsyncRequest"))().setURI(F).setMethod("GET").setReadOnly(true).setHandler(function(G){var H=G.getPayload();if(H&&H.should_show_nux){var I=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",r).getURI();new(b("AsyncRequest"))().setURI(I).send();this.setState({privateCommentNUXVisible:true})}}.bind(this)).send()}this.setState(B);if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted();if(this.props.onFocus)this.props.onFocus();b("Arbiter").inform("UFIAddComment/focus",{instanceid:this.props.contextArgs.instanceid,ftentidentifier:this.props.contextArgs.ftentidentifier,isTopLevelComposer:this.props.isTopLevelComposer})}.bind(this);this.$UFIAddComment36=function(B,C){this.setState({fileInput:B,fileUploader:C})}.bind(this);this.$UFIAddComment37=function(){this.setState({messengerTarget:null})}.bind(this);this.$UFIAddComment38=function(B){this.setState({commentSection:B})}.bind(this);this.$UFIAddComment39=function(B){return this.setState({sendAsChat:B})}.bind(this);this.$UFIAddComment41=function(B){k(j.EMOJI);this.refs.mentionsinput.insertEmoji(B)}.bind(this);this.$UFIAddComment42=function(B){k(j.STICKER);this.$UFIAddComment47(B);this.$UFIAddComment46(false)}.bind(this);this.$UFIAddComment45=function(B,event){k(j.STICKER);this.onStickerSelected(B,event);this.$UFIAddComment46(false)}.bind(this);this.$UFIAddComment43=function(B){k(j.GIF);this.onGifSelected(B);this.$UFIAddComment46(false)}.bind(this);this.$UFIAddComment46=function(B){if(B!==this.state.flyoutShown)this.setState({flyoutShown:B})}.bind(this);this.$UFIAddComment44=function(){if(!this.state.flyoutShown&&this.props.markViewerHasInteracted)this.props.markViewerHasInteracted();if(this.state.groupedInputNUXShown)this.$UFIAddComment18()}.bind(this);this.$UFIAddComment22=function(){var B=this.props.viewerActorID,C={profile_id:B,target_id:this.props.targetID,source:ga};C[b("ActorURI").PARAMETER_ACTOR]=B;return C}.bind(this);this.$UFIAddComment26=function(B){if(!this.state.isLoadingPhoto)return;var C=B.getPayload();if(C&&C.fbid)this.setState({attachedPhoto:C,isLoadingPhoto:false});else this.$UFIAddComment25(null)}.bind(this);this.$UFIAddComment48=function(){var B=this.props.viewerActorID,C={profile_id:B,target_id:this.props.targetID};C[b("ActorURI").PARAMETER_ACTOR]=B;return C}.bind(this);this.$UFIAddComment51=function(B){if(!this.state.isLoadingFile)return;var C=B.getPayload();if(C&&C.fbid)this.setState({attachedFile:C,isLoadingFile:false});else this.$UFIAddComment25(null)}.bind(this);this.$UFIAddComment53=function(B,C){if(!this.state.attachedVideo||this.state.videoStatus!==q.ENCODE)return;if(C.obj.progress<this.state.videoProgress)return;C.obj.fbid=C.obj.videoID;this.setState({attachedVideo:C.obj,videoProgress:C.obj.progress,videoStatus:q.ENCODE});if(this.$UFIAddComment62(C.obj.stage))this.$UFIAddComment63()}.bind(this);this.$UFIAddComment54=function(B){this.setState({videoProgress:B})}.bind(this);this.$UFIAddComment52=function(B){if(this.state.videoStatus!==q.UPLOAD)return;if(B&&B.video_id)this.setState({videoProgress:0,attachedVideo:B,videoStatus:q.ENCODE})}.bind(this);this.$UFIAddComment25=function(event){b("Arbiter").inform("video_upload_cancel",{});if(this.state.fileInput)this.state.fileInput.clear();this.setState({attachedPhoto:null,attachedVideo:null,attachedFile:null,attachedGIF:null,videoStatus:null,videoFileURL:null,isLoadingPhoto:false,videoProgress:0,isVideoFileTranscodedGIF:false})}.bind(this);this.$UFIAddComment24=function(){this.setState({attachedPhoto:null,isLoadingPhoto:true})}.bind(this);this.$UFIAddComment50=function(){this.setState({attachedFile:null,isLoadingFile:true})}.bind(this);this.$UFIAddComment49=function(){var B=void 0,C=this.state.fileInput?this.state.fileInput.input:null,D=C?C.files[0]:null;if(D&&l.createObjectURL)B=l.createObjectURL(D);this.setState({attachedVideo:null,videoStatus:q.UPLOAD,videoFileURL:B,videoProgress:0,isVideoFileTranscodedGIF:Boolean(D&&D.type==="image/gif")})}.bind(this);this.$UFIAddComment64=function(B){__p&&__p();if(!this.state.isLoadingPhoto)return;var C=B.getPayload();if(C&&C.fbid)this.setState({attachedSticker:C,isLoadingPhoto:false});else{b("Bootloader").loadModules(["Dialog"],function(D){var E=d._("Sticker Failed"),F=d._("There was a problem with attaching the sticker.");new D().setTitle(E).setBody(F).setButtons(D.OK).show()},"UFIAddComment.react");this.$UFIAddComment55(null)}}.bind(this);this.$UFIAddComment55=function(event){this.setState({attachedSticker:null,isLoadingPhoto:false})}.bind(this);this.onStickerSelected=function(B,event){if(this.props.isEditing||this.refs.mentionsinput.hasEnteredText()){this.$UFIAddComment65(B);return}this.sendSticker(B,event)}.bind(this);this.$UFIAddComment47=function(B){__p&&__p();b("Bootloader").loadModules(["EmoticonsList","EmoticonUtils","TextAreaControl","SelectionPosition"],function(C,D,E,F){__p&&__p();var G=C.symbols[B];if(!G)return;if(this.props.contextArgs.mentionsinput){this.refs.mentionsinput.insertEmoticon(G);return}if(!this.$UFIAddComment9)this.$UFIAddComment9=new F(b("ReactDOM").findDOMNode(this.refs.mentionsinput.refs.textarea));var H=this.refs.mentionsinput.refs.getTextFieldDOM(),I=E.getInstance(H),J=I.getValue();this.$UFIAddComment9||e(0);var K=D.insertEmoticon(G,J,this.$UFIAddComment9.getPos());I.setValue(K.result);this.$UFIAddComment9||e(0);this.$UFIAddComment9.setPos(K.start,K.end)}.bind(this),"UFIAddComment.react")}.bind(this);this.$UFIAddComment32=function(){this.setState({markdownNUXVisible:false})}.bind(this);this.$UFIAddComment18=function(){this.setState({groupedInputNUXShown:false})}.bind(this);this.$UFIAddComment35=function(){var B=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",r).getURI();new(b("AsyncRequest"))().setURI(B).send();this.setState({privateCommentNUXVisible:false})}.bind(this);this.onGifSelected=function(B){if(this.props.isEditing||this.refs.mentionsinput.hasEnteredText()){this.setState({attachedGIF:B});this.preprocessGIF(B);return}this.sendGIF(B)}.bind(this);this.$UFIAddComment1=false;var x=this.props.editingComment,y=x.attachment,z=y?y.type:null,A=z==="photo"?y:null;this.state={attachedPhoto:x.photo_comment||A,attachedVideo:x.video_comment||null,attachedFile:x.file_comment||null,attachedSticker:z=="sticker"?y:null,attachedGIF:z=="gif"?y:null,commentMarkdownPreviewContent:x.body?x.body.markup||null:null,commentMarkdownEnabled:x.body?x.body.markdown_enabled||false:false,commentPrivacy:x.privacy_value||this.props.replyCommentPrivacy||b("CommentPrivacyValue").DEFAULT_PRIVACY,commentSection:b("CommentSection").DEFAULT,videoStatus:null,videoFileURL:null,videoProgress:0,isVideoFileTranscodedGIF:false,fileInput:null,fileUploader:null,flyoutShown:false,isCommenting:false,isLoadingPhoto:false,isLoadingFile:false,isFocused:Boolean(this.props.isEditing),gifsInCommentsNUXVisible:false,groupedInputNUXShown:false,markdownNUXVisible:false,privateCommentNUXVisible:false,hasSubmitted:false,inCommercialBreak:false,messengerTarget:null,isPlayingLiveVODHighlights:false,chatPivotTargets:null,sendAsChat:false}}v.prototype.$UFIAddComment14=function(w){this.setState({messengerTarget:w})};v.prototype.$UFIAddComment15=function(){this.setState({messengerTarget:null})};v.prototype.$UFIAddComment16=function(w){this.setState({chatPivotTargets:w})};v.prototype.$UFIAddComment17=function(){this.setState({chatPivotTargets:null})};v.prototype.$UFIAddComment28=function(){return this.state.videoStatus===q.UPLOAD||this.state.videoStatus===q.ENCODE&&this.state.videoProgress!==100};v.prototype.$UFIAddComment23=function(){if(this.$UFIAddComment3)this.$UFIAddComment3.forEach(function(w){w.unsubscribe()})};v.prototype.componentWillMount=function(){__p&&__p();this.$UFIAddComment2=false;this.$UFIAddComment6=b("LitestandStoryInsertionStatus").registerBlocker(function(){return this.state.isCommenting}.bind(this));this.$UFIAddComment4&&this.$UFIAddComment4.release();this.$UFIAddComment4=new(b("SubscriptionsHandler"))();this.$UFIAddComment4.addSubscriptions(b("UFICommercialBreakStore").addListener(function(){this.setState({inCommercialBreak:b("UFICommercialBreakStore").getValueFor(this.props.contextArgs.instanceid)})}.bind(this)),b("UFIPlayLiveVODHighlightsStore").addListener(function(){this.setState({isPlayingLiveVODHighlights:b("UFIPlayLiveVODHighlightsStore").getValueFor(this.props.contextArgs.instanceid)})}.bind(this)));this.$UFIAddComment5=null;if(b("UFIConfig").canPublishLive)this.$UFIAddComment4.addSubscriptions(b("UFIComposerIsTypingStore").addListener(function(){var w=b("UFIComposerIsTypingStore").getValueFor(this.props.contextArgs.ftentidentifier);if(w===null)return;if(!this.$UFIAddComment5)this.$UFIAddComment5=new(b("UFIAddCommentLiveTypingController"))(this.props.contextArgs.ftentidentifier,this.props.replyCommentID,this.props.viewerActorID);if(w)this.$UFIAddComment5.attemptPublishStartEvent();else this.$UFIAddComment5.attemptPublishStopEvent()}.bind(this)))};v.prototype.$UFIAddComment29=function(){this.$UFIAddComment5&&this.$UFIAddComment5.destroy();this.$UFIAddComment5=null};v.prototype.componentWillReceiveProps=function(w){var x=this.props.contextArgs.ftentidentifier,y=w.contextArgs.ftentidentifier;if(y!==x||this.props.replyCommentID!==w.replyCommentID||this.props.viewerActorID!==w.viewerActorID)this.$UFIAddComment29()};v.prototype.componentWillUnmount=function(){__p&&__p();this.$UFIAddComment1=false;this.$UFIAddComment23();if(this.$UFIAddComment8)b("Arbiter").unsubscribe(this.$UFIAddComment8);if(this.$UFIAddComment7)b("Arbiter").unsubscribe(this.$UFIAddComment7);this.$UFIAddComment6&&this.$UFIAddComment6.unsubscribe();this.$UFIAddComment6=null;this.$UFIAddComment4&&this.$UFIAddComment4.release();this.$UFIAddComment29()};v.prototype.$UFIAddComment30=function(){if(this.state.gifsInCommentsNUXVisible)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return this.refs.gif_button}.bind(this),shown:this.state.gifsInCommentsNUXVisible,position:"above",width:"auto",alignment:"right"},d._("You can now add GIFs to comments"));return null};v.prototype.$UFIAddComment31=function(){if(this.state.markdownNUXVisible)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return this.refs.markdownButton}.bind(this),shown:this.state.markdownNUXVisible,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this.$UFIAddComment32},d._("[FB-Only] Markdown in Comments! Click to enable."));return null};v.prototype.$UFIAddComment33=function(){if(this.state.groupedInputNUXShown)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return this.refs.groupedInputButton}.bind(this),shown:this.state.groupedInputNUXShown,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this.$UFIAddComment18},d._("Post stickers, emojis and GIFs"));return null};v.prototype.$UFIAddComment34=function(){if(this.state.privateCommentNUXVisible)return b("React").createElement(b("BootloadedComponent.react"),{alignment:"right",bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return this.refs.privacy_icon}.bind(this),onCloseButtonClick:this.$UFIAddComment35,position:"above",shown:this.state.privateCommentNUXVisible,width:"auto"},b("React").createElement(b("XUIText.react"),{display:"block",weight:"bold"},d._("Comment privately")),b("React").createElement(b("XUIText.react"),{display:"block"},d._("Add a comment that only {user} will see",[d.param("user",this.props.privateCommentTarget)])));return null};v.prototype.render=function(){__p&&__p();var w=this.props.contextArgs.loggedOutLinkConfig,x=true;if(w&&w.showAddComment)x=false;var y=(!this.props.contextArgs.collapseaddcomment||this.state.isCommenting)&&x&&!this.props.contextArgs.hideActorPhoto,z=null;if(this.props.subtitle)z=b("React").createElement("span",{className:p},this.props.subtitle);else if(!this.state.isFocused&&this.props.isEditing)z=b("React").createElement("span",{className:p},d._("{cancel}",[d.param("cancel",b("React").createElement(b("Link.react"),{onClick:function(){return this.context.dispatch(b("UFIAddCommentAction").cancel(this.props.contextArgs))}.bind(this)},d._("Cancel")))]));else if(this.props.isEditing)z=b("React").createElement("span",{className:p},d._("Press Esc to {cancel}.",[d.param("cancel",b("React").createElement(b("Link.react"),{onMouseDown:function(){return this.context.dispatch(b("UFIAddCommentAction").cancel(this.props.contextArgs))}.bind(this)},d._("cancel")))]));else if(this.props.peopleOutsideCommunityInCommentNotice&&this.state.isFocused)z=b("React").createElement("div",{className:"fcg fsm _2pid"},b("React").createElement(b("Badge.react"),{key:"noncoworker",type:"work_non_coworker"}),b("React").createElement("span",{className:"_2pir _4zk5"},b("React").createElement(b("TextWithEntities.react"),{ranges:this.props.peopleOutsideCommunityInCommentNotice.ranges,text:this.props.peopleOutsideCommunityInCommentNotice.text})));else if(this.props.showSendOnEnterTip&&!this.props.contextArgs.isTahoeUFI)z=b("React").createElement("span",{className:p},d._("Press Enter to post."));var A=null,B=null,C=null,D=null,E=null,F=this.state.attachedPhoto||this.state.attachedSticker||this.state.attachedVideo||this.state.attachedFile||this.state.attachedGIF,G=null,H=null,I=null;if(b("PrivateCommentsConfig").reply_composer_lock_enabled&&this.props.replyCommentID&&this.props.replyCommentPrivacy===b("CommentPrivacyValue").OWNER_OR_COMMENTER)I=this.$UFIAddComment40(true);else if((b("PrivateCommentsConfig").composer_lock_enabled||b("PrivateCommentsConfig").composer_unlocked_lock_enabled)&&this.props.allowTogglePrivateComments)I=this.$UFIAddComment40(false);var J=h?b("React").createElement(h,{ref:"groupedInputButton",flyoutShown:this.state.flyoutShown,onEmojiSelect:this.$UFIAddComment41,onEmoticonSelect:this.$UFIAddComment42,onGifSelect:this.$UFIAddComment43,onLinkClick:this.$UFIAddComment44,onStickerSelect:this.$UFIAddComment45,toggleFlyout:this.$UFIAddComment46}):null,K=!h?b("React").createElement(b("EmojiInputButton.react"),{buttonClassName:"_r1a UFICommentEmojiButton",iconActiveClassName:"UFICommentEmojiIconActive",iconClassName:"UFICommentEmojiIcon",onClick:function(){if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted()}.bind(this),onSelect:function($){this.refs.mentionsinput.insertEmoji($)}.bind(this)}):null;if(this.props.allowCommentMarkdown)D=b("React").createElement(b("UFIMarkdownButton.react"),{active:this.state.commentMarkdownEnabled,ref:"markdownButton",onClick:function(){var $=!this.state.commentMarkdownEnabled;this.setState({commentMarkdownEnabled:$});if(this.refs.mentionsinput&&$)this.$UFIAddComment13(this.refs.mentionsinput.getText())}.bind(this)});if(!h&&this.props.allowStickerAttachments&&!F)B=b("React").createElement(b("UFIStickerButton.react"),{ref:"sticker_button",onStickerSelected:this.onStickerSelected,onEmoticonSelected:this.$UFIAddComment47,onStickerFlyoutShow:function(){b("Arbiter").inform("comment_content_change",{addingAttachment:true});if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted()}.bind(this)});if(!h&&this.props.allowGifAttachments&&!F)C=b("React").createElement(b("UFIGifButton.react"),{ref:"gif_button",onGifSelected:this.onGifSelected,onGifFlyoutShow:function(){if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted()}.bind(this),defaultGifSelection:this.props.contextArgs.defaultGifQuery});if(this.props.contextArgs&&this.props.contextArgs.communityConversationsParams&&this.props.contextArgs.communityConversationsParams.treatment===b("CommunityConversationsUfiTreatment").MENTION_IN_COMPOSER)E=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIAddMentionsButton.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("span",null),ftentidentifier:this.props.contextArgs.ftentidentifier,onMentionClicked:function($){return this.insertMention($)}.bind(this),onMentionFlyoutShow:function(){if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted()}.bind(this),callerID:"community_conversations"});if(this.props.allowTipJar)H=b("React").createElement(b("UFISupportButton.react"),{targetName:this.props.targetName});if(this.props.allowPhotoAttachments||this.props.allowVideoAttachments||this.props.allowFileAttachments){G=this.$UFIAddComment21;A=b("React").createElement(b("UFIAttachMediaSection.react"),{ref:"media_section",getPhotoUploadData:this.$UFIAddComment22,getFileUploadData:this.$UFIAddComment48,prepareForAttachedPhotoPreview:this.$UFIAddComment24,prepareForAttachedVideoPreview:this.$UFIAddComment49,prepareForAttachedFilePreview:this.$UFIAddComment50,allowVideoAttachments:this.props.allowVideoAttachments,allowFileAttachments:this.props.allowFileAttachments,onPhotoUploadComplete:this.$UFIAddComment26,onFileUploadComplete:this.$UFIAddComment51,onVideoUploadComplete:this.$UFIAddComment52,onVideoEncodeUpdate:this.$UFIAddComment53,onVideoUploadUpdate:this.$UFIAddComment54,setFileInput:this.$UFIAddComment36,targetId:this.props.targetID,onClick:function(){b("Arbiter").inform("comment_content_change",{addingAttachment:true});if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted()}.bind(this),attachment:F,viewerActorID:this.props.viewerActorID})}var L=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.ADD_COMMENT_BOX),M="addComment_"+this.props.contextArgs.ftentidentifier,N=void 0;if(this.props.contextArgs.liveVideoCommentPlaceholder)N=this.props.contextArgs.liveVideoCommentPlaceholder;else if(this.props.replyCommentID)N=this.props.contextArgs.replyPlaceholderText||o;else if(this.props.isQAndA)N=d._("Ask a question...");else if(this.props.contextArgs.isaskquestion)N=fa;else if(this.props.contextArgs.placeholderText)N=this.props.contextArgs.placeholderText;else N=n;var O=this.props.contextArgs.viewoptionstypeobjects,P=this.props.contextArgs.viewoptionstypeobjectsorder;if(this.props.attachedPhoto&&!this.props.subtitle)z=null;var Q=void 0;if(this.state.attachedPhoto||this.state.isLoadingPhoto||this.state.attachedVideo||this.state.videoStatus===q.UPLOAD||this.state.attachedFile||this.state.isLoadingFile||this.state.attachedSticker||this.state.attachedGIF)Q=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIAttachedMediaPreview.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("span",null),attachedPhoto:this.state.attachedPhoto,attachedVideo:this.state.attachedVideo,attachedFile:this.state.attachedFile,attachedSticker:this.state.attachedSticker,attachedGIF:this.state.attachedGIF,monitorHeight:this.props.contextArgs.monitorHeight,onRemoveAttachedMediaPreviewClicked:this.$UFIAddComment25,onRemoveAttachedStickerPreview:this.$UFIAddComment55,subtitle:this.props.subtitle,isLoadingPhoto:this.state.isLoadingPhoto,isLoadingFile:this.state.isLoadingFile,videoFileURL:this.state.videoFileURL,videoStatus:this.state.videoStatus,videoProgress:this.state.videoProgress,isVideoFileTranscodedGIF:this.state.isVideoFileTranscodedGIF});var R=this.props.contextArgs.mentionsinput,S=null,T=null,U=null;if(R){S=R.inputComponent;T=R.viewComponent;U=R.viewProps}var V=this.props.editingComment.body,ma=V?b("MentionsInputUtils").generateDataFromTextWithEntities(V):null,W=null;if(this.props.allowCommentMarkdown&&this.state.commentMarkdownEnabled)W=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFICommentMarkdownPreview.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("span",null),markup:this.state.commentMarkdownPreviewContent});var X=null;if(this.state.messengerTarget)X=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFICommentMessengerPrompt.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("span",null),target:this.state.messengerTarget,removeMessengerPrompt:this.$UFIAddComment37});if(this.state.chatPivotTargets)X=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFICommentMessengerGroupsPrompt.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("span",null),toggleSendingAsChat:this.$UFIAddComment39});var na=S?b("React").createElement(S,{disableInitTextarea:!x,replyCommentID:this.props.replyCommentID,initialData:ma,placeholder:N,datasource:this.props.mentionsDataSource,ref:"mentionsinput",viewComponent:T,viewProps:U,viewOptionsTypeObjects:O,viewOptionsTypeObjectsOrder:P,hashtags:this.props.contextArgs.sht,autoflip:this.props.contextArgs.addcommentautoflip,monitorHeight:this.props.contextArgs.monitorHeight,onEnterSubmit:this.$UFIAddComment27,onFocus:this.focus,onBlur:this.$UFIAddComment20,onContentChange:this.$UFIAddComment12,onPaste:G,ftEntIdentifier:this.props.contextArgs.ftentidentifier,instanceID:this.props.contextArgs.instanceid,isBroadcasterUFI:this.props.contextArgs.isBroadcasterUFI,isTahoeUFI:this.props.contextArgs.isTahoeUFI,isLivingRoom:this.props.contextArgs.isLivingRoom}):null,oa=b("SutroStoryHeaderUFIGatingConfig").enabled_for_comment_composer_rounded_borders,Y=b("SutroStoryHeaderUFIGatingConfig").enabled_for_comment_glyphs,pa=i&&this.props.groupID?b("React").createElement(i,{groupID:this.props.groupID,onSelect:function($){return this.insertMention($)}.bind(this)}):null,Z=b("React").createElement("div",{className:"UFICommentContainer"},b("React").createElement("div",{className:"_fmi"+(oa?" _613v":"")+" UFIInputContainer"+(b("PrivateCommentsConfig").dark_composer_theme_enabled&&this.state.commentPrivacy===b("CommentPrivacyValue").OWNER_OR_COMMENTER?" UFIPrivateCommentDarkTheme":"")},na,b("React").createElement("div",{className:"_fmk UFICommentAttachmentButtons _5op2"+(Y?" _15i7":"")+(Y?" _2kwm":"")},Y?I:null,pa,E,K,D,A,C,B,J,H)),X,W,Q,z);if(y)Z=b("React").createElement(b("UFIImageBlock.react"),{className:"UFIMentionsInputWrap"+(this.props.allowStickerAttachments?" UFIStickersEnabledInput":"")+(this.props.allowCommentMarkdown?" UFIMarkdownEnabledInput":"")+(this.props.allowGifAttachments?" UFIGifEnabledInput":"")+(this.props.allowTipJar?" UFITipJarEnabledInput":"")},b("React").createElement("div",{className:"UFIReplyActorPhotoWrapper",onClick:this.focus,role:"presentation"},b("React").createElement(b("UFIActorIconContainer.react"),{actorID:this.props.viewerActorID})),Z);return b("React").createElement("div",{ref:function($){return this.rootNode=$}.bind(this),id:M,className:b("joinClasses")("UFIRow _4oep UFIAddComment"+(this.props.allowPhotoAttachments?" UFIAddCommentWithPhotoAttacher":"")+(this.props.withoutSeparator?" UFIAddCommentWithoutSeparator":"")+(this.props.isFirstComponent?" _4204":"")+(this.props.isLastComponent?" _2o9m":"")+(this.$UFIAddComment56()?" UFIAddCommentWithAudienceSelector":"")+(this.state.inCommercialBreak||this.state.isPlayingLiveVODHighlights?" hidden_elem":""),this.props.className),onKeyDown:this.$UFIAddComment10,"data-ft":L},this.$UFIAddComment57(),this.$UFIAddComment58(),this.$UFIAddComment59(),this.$UFIAddComment60(),Z,this.$UFIAddComment61(),this.$UFIAddComment30(),this.$UFIAddComment31(),this.$UFIAddComment33())};v.prototype.componentDidUpdate=function(w,x){__p&&__p();if(!x.attachedPhoto&&this.state.attachedPhoto||!x.attachedSticker&&this.state.attachedSticker||!x.attachedVideo&&this.state.attachedVideo||!x.attachedFile&&this.state.attachedFile||!x.isCommenting&&this.state.isCommenting)this.refs.mentionsinput.focus();else if(this.props.keepFocus&&this.state.hasSubmitted)this.refs.mentionsinput.focus();if(w.viewerActorID!==this.props.viewerActorID){if(this.state.fileInput)this.state.fileInput.clear();if(this.state.fileUploader)this.state.fileUploader.setData(this.$UFIAddComment22());this.$UFIAddComment25()}};v.prototype.componentDidMount=function(){__p&&__p();this.$UFIAddComment1=true;this.$UFIAddComment13=b("throttle")(this.$UFIAddComment13,ja,this);if(!this.props.allowPhotoAttachments&&!this.props.allowVideoAttachments&&!this.props.allowFileAttachments)return;if(this.props.replyCommentID===null){this.$UFIAddComment7=b("Arbiter").subscribe("focusCommentField"+this.props.contextArgs.ftentidentifier,function(w){this.refs.mentionsinput.focus()}.bind(this));if(this.props.contextArgs.issnowlift)this.$UFIAddComment8=b("Arbiter").subscribe("newRemixedImage"+this.props.contextArgs.ftentidentifier,function(w,x){var event={clipboardData:{items:[x]}};this.$UFIAddComment21(event)}.bind(this))}};v.prototype.$UFIAddComment56=function(){return!this.props.replyCommentID&&b("CommentPrivacyUtils").getTreatment(this.props.contextArgs)===b("PrivateConversationsTreatment").FRIEND_CONVERSATIONS};v.prototype.$UFIAddComment58=function(){if(this.props.constituentBanner&&!this.props.replyCommentID)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFICommentingAsConstituentHeader.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),uri:this.props.constituentBanner});return null};v.prototype.$UFIAddComment57=function(){if(this.$UFIAddComment56())return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFICommentAudienceSelector.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextArgs:this.props.contextArgs,onSectionChanged:this.$UFIAddComment38,selectedSection:this.state.commentSection});return null};v.prototype.$UFIAddComment59=function(){var w=this.props,x=w.contextArgs,y=w.isTopLevelComposer,z=w.orderingMode;if(z===undefined)return null;var A=x&&x.communityConversationsParams&&x.communityConversationsParams.treatment,B=b("UFIOrderingModeStore").isInverted(z,x.ftentidentifier);if(y&&(B&&A===b("CommunityConversationsUfiTreatment").MENTION_ABOVE_OR_BELOW_COMPOSER||A===b("CommunityConversationsUfiTreatment").MENTION_ABOVE_COMPOSER))return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIAddMentionsCap.react").__setRef("UFIAddComment.react"),position:"above",bootloadPlaceholder:b("React").createElement("span",null),contextArgs:x,isComposerFocused:this.state.isFocused,onAddMention:this.insertMention.bind(this),callerID:"community_conversations"});return null};v.prototype.$UFIAddComment61=function(){var w=this.props,x=w.contextArgs,y=w.isTopLevelComposer,z=w.orderingMode;if(z===undefined)return null;var A=x&&x.communityConversationsParams&&x.communityConversationsParams.treatment,B=!b("UFIOrderingModeStore").isInverted(z,x.ftentidentifier);if(y&&(B&&A===b("CommunityConversationsUfiTreatment").MENTION_ABOVE_OR_BELOW_COMPOSER||A===b("CommunityConversationsUfiTreatment").MENTION_BELOW_COMPOSER))return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIAddMentionsCap.react").__setRef("UFIAddComment.react"),position:"below",bootloadPlaceholder:b("React").createElement("span",null),contextArgs:x,isComposerFocused:this.state.isFocused,onAddMention:this.insertMention.bind(this),callerID:"community_conversations"});return null};v.prototype.$UFIAddComment40=function(w){var x=w?d._("Only you and {user} will be able to see your reply",[d.param("user",this.props.privateCommentTarget)]):d._("Toggle privacy");return b("React").createElement(b("Link.react"),{"aria-label":x,className:"_r1a UFICommentPrivacyButton","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":x,onClick:function(){if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted();if(!w)this.setState(function(y){return{commentPrivacy:y.commentPrivacy===b("CommentPrivacyValue").OWNER_OR_COMMENTER?b("CommentPrivacyValue").DEFAULT_PRIVACY:b("CommentPrivacyValue").OWNER_OR_COMMENTER}})}.bind(this),role:"button"},b("React").createElement("div",{ref:"privacy_icon",className:"UFICommentPrivacyIcon"+(b("PrivateCommentsConfig").composer_unlocked_lock_enabled?" UFICommentPrivacyIconVariant":"")+(w||this.state.commentPrivacy===b("CommentPrivacyValue").OWNER_OR_COMMENTER?" UFICommentPrivacyIconActive":"")}),w?null:this.$UFIAddComment34())};v.prototype.$UFIAddComment60=function(){if(this.state.commentPrivacy!==b("CommentPrivacyValue").OWNER_OR_COMMENTER||!b("PrivateCommentsConfig").privacy_text_above_composer_enabled)return null;return this.props.replyCommentID?b("React").createElement("div",{className:"_2tpi"},d._("Replying privately to {=[user]}",[d.param("=[user]",b("React").createElement("strong",null,d._("{user}",[d.param("user",this.props.privateCommentTarget)])))])):b("React").createElement("div",{className:"_2tpi"},d._("Only you and {=[user]} can see this",[d.param("=[user]",b("React").createElement("strong",null,d._("{user}",[d.param("user",this.props.privateCommentTarget)])))]))};v.prototype.insertMention=function(w){if(this.refs.mentionsinput&&this.refs.mentionsinput.insertMention){this.refs.mentionsinput.insertMention(w);setTimeout(function(){return this.refs.mentionsinput.focus()}.bind(this))}};v.prototype.$UFIAddComment62=function(w){return w==="finish"};v.prototype.$UFIAddComment63=function(){this.state.fileInput&&this.state.fileInput.clear()};v.prototype.$UFIAddComment65=function(w){this.setState({attachedSticker:null,isLoadingPhoto:true});new(b("AsyncRequest"))(ia).setData({sticker_id:w}).setErrorHandler(this.$UFIAddComment55).setHandler(this.$UFIAddComment64).send()};v.prototype.sendSticker=function(w,event){var x={encodedValue:"",visibleValue:"",attachedPhoto:null,attachedSticker:{fbid:w},privacy_value:this.state.commentPrivacy};this.context.dispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,x,event.target,this.props.replyCommentID))};v.prototype.$UFIAddComment66=function(){this.setState({gifsInCommentsNUXVisible:false})};v.prototype.preprocessGIF=function(w){var x=b("XUFICommentGIFPreprocessController").getURIBuilder().getURI();new(b("AsyncRequest"))(x).setData({gif_url:w.source.url}).send()};v.prototype.sendGIF=function(w){var x={encodedValue:"",visibleValue:"",attachedShareURL:w.source.url,privacy_value:this.state.commentPrivacy};if(this.rootNode)this.context.dispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,x,this.rootNode,this.props.replyCommentID))};v.prototype.parseTextForMentions=function(w){var x=/@\[([0-9;]+):((?:[^\\\]]|\\.)*)\]/g,y=[],z=void 0;while(z=x.exec(w)){var A={uid:z[1],text:z[2],offset:z.index,length:z[2].length,weakreference:false,entity:{uid:z[1],weakreference:false}};y.push(A);x.lastIndex=A.offset+A.length}return y};v.contextTypes={dispatch:m.func};c.exports=v}),null);
__d("UFIAddCommentLink.react",["cx","fbt","React","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=c("joinClasses")("UFIRow UFIAddCommentLink"+(this.props.isFirstCommentComponent?" _48pi":"")+(this.props.isLastCommentComponent?" UFILastCommentComponent":"")+(this.props.isFirstComponent?" _4204":"")+(this.props.isLastComponent?" _2o9m":"")),n=void 0;if(this.props.isQAndA)n=i._("Ask a question...");else if(this.props.isGroupQA)n=i._("Write an answer...");else n=i._("Write a comment...");return c("React").createElement("div",{className:m,"data-ft":this.props["data-ft"]},c("React").createElement("a",{className:"UFICommentLink",onClick:this.props.onClick,href:"#",role:"button"},n))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("clearInterval",["TimerStorage","TimeSlice"],(function a(b,c,d,e,f,g){var h=b.clearTimeout.nativeBackup||b.clearTimeout;function i(j){if(j!=null){c("TimerStorage").unset(c("TimerStorage").INTERVAL,j);var k=c("TimerStorage").TIMEOUT+String(j);c("TimeSlice").cancelWithToken(k)}h(j)}f.exports=i}),18);
__d("shield",[],(function a(b,c,d,e,f,g){function h(i,j){if(typeof i!="function")throw new TypeError("shield expects a function as the first argument");var k=Array.prototype.slice.call(arguments,2);return function(){return i.apply(j,k)}}f.exports=h}),null);
__d("Animation",["BrowserSupport","CSS","DataStore","DOM","Style","clearTimeout","clearInterval","getVendorPrefixedName","setIntervalAcrossTransitions","setTimeoutAcrossTransitions","shield","requestAnimationFrame"],(function a(b,c,aa,ba,d,ca){__p&&__p();var e=c("requestAnimationFrame"),f=[],g;function h(y){if(b==this)return new h(y);else{this.obj=y;this._reset_state();this.queue=[];this.last_attr=null;this.unit="px";this.behaviorOverrides={ignoreUserScroll:false}}}function i(y){if(c("BrowserSupport").hasCSS3DTransforms())return l(y);else return k(y)}function j(y){return y.toFixed(8)}function k(y){y=[y[0],y[4],y[1],y[5],y[12],y[13]];return"matrix("+y.map(j).join(",")+")"}function l(y){return"matrix3d("+y.map(j).join(",")+")"}function m(y,z){__p&&__p();if(!y)y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var A=[];for(var B=0;B<4;B++)for(var C=0;C<4;C++){var D=0;for(var E=0;E<4;E++)D+=y[B*4+E]*z[E*4+C];A[B*4+C]=D}return A}var n=0;h.prototype._reset_state=function(){this.state={attrs:{},duration:500}};h.prototype.stop=function(){this._reset_state();this.queue=[];return this};h.prototype._build_container=function(){__p&&__p();if(this.container_div){this._refresh_container();return}if(this.obj.firstChild&&this.obj.firstChild.__animation_refs){this.container_div=this.obj.firstChild;this.container_div.__animation_refs++;this._refresh_container();return}var y=document.createElement("div");y.style.padding="0px";y.style.margin="0px";y.style.border="0px";y.__animation_refs=1;var z=this.obj.childNodes;while(z.length)y.appendChild(z[0]);this.obj.appendChild(y);this._orig_overflow=this.obj.style.overflow;this.obj.style.overflow="hidden";this.container_div=y;this._refresh_container()};h.prototype._refresh_container=function(){this.container_div.style.height="auto";this.container_div.style.width="auto";this.container_div.style.height=this.container_div.offsetHeight+this.unit;this.container_div.style.width=this.container_div.offsetWidth+this.unit};h.prototype._destroy_container=function(){__p&&__p();if(!this.container_div)return;if(!--this.container_div.__animation_refs){var y=this.container_div.childNodes;while(y.length)this.obj.appendChild(y[0]);this.obj.removeChild(this.container_div)}this.container_div=null;this.obj.style.overflow=this._orig_overflow};var o=1,p=2,q=3;h.prototype._attr=function(y,z,A){__p&&__p();y=y.replace(/-[a-z]/gi,function(C){return C.substring(1).toUpperCase()});var B=false;switch(y){case"background":this._attr("backgroundColor",z,A);return this;case"backgroundColor":case"borderColor":case"color":z=u(z);break;case"opacity":z=parseFloat(z,10);break;case"height":case"width":if(z=="auto")B=true;else z=parseInt(z,10);break;case"borderWidth":case"lineHeight":case"fontSize":case"margin":case"marginBottom":case"marginLeft":case"marginRight":case"marginTop":case"padding":case"paddingBottom":case"paddingLeft":case"paddingRight":case"paddingTop":case"bottom":case"left":case"right":case"top":case"scrollTop":case"scrollLeft":z=parseInt(z,10);break;case"rotateX":case"rotateY":case"rotateZ":z=parseInt(z,10)*Math.PI/180;break;case"translateX":case"translateY":case"translateZ":case"scaleX":case"scaleY":case"scaleZ":z=parseFloat(z,10);break;case"rotate3d":this._attr("rotateX",z[0],A);this._attr("rotateY",z[1],A);this._attr("rotateZ",z[2],A);return this;case"rotate":this._attr("rotateZ",z,A);return this;case"scale3d":this._attr("scaleZ",z[2],A);case"scale":this._attr("scaleX",z[0],A);this._attr("scaleY",z[1],A);return this;case"translate3d":this._attr("translateZ",z[2],A);case"translate":this._attr("translateX",z[0],A);this._attr("translateY",z[1],A);return this;default:throw new Error(y+" is not a supported attribute!")}if(this.state.attrs[y]===undefined)this.state.attrs[y]={};if(B)this.state.attrs[y].auto=true;switch(A){case q:this.state.attrs[y].start=z;break;case p:this.state.attrs[y].by=true;case o:this.state.attrs[y].value=z;break}};function r(y){var z=parseInt(c("Style").get(y,"paddingLeft"),10),A=parseInt(c("Style").get(y,"paddingRight"),10),B=parseInt(c("Style").get(y,"borderLeftWidth"),10),C=parseInt(c("Style").get(y,"borderRightWidth"),10);return y.offsetWidth-(z?z:0)-(A?A:0)-(B?B:0)-(C?C:0)}function s(y){var z=parseInt(c("Style").get(y,"paddingTop"),10),A=parseInt(c("Style").get(y,"paddingBottom"),10),B=parseInt(c("Style").get(y,"borderTopWidth"),10),C=parseInt(c("Style").get(y,"borderBottomWidth"),10);return y.offsetHeight-(z?z:0)-(A?A:0)-(B?B:0)-(C?C:0)}h.prototype.setUnit=function(y){this.unit=y;return this};h.prototype.to=function(y,z){if(z===undefined)this._attr(this.last_attr,y,o);else{this._attr(y,z,o);this.last_attr=y}return this};h.prototype.by=function(y,z){if(z===undefined)this._attr(this.last_attr,y,p);else{this._attr(y,z,p);this.last_attr=y}return this};h.prototype.from=function(y,z){if(z===undefined)this._attr(this.last_attr,y,q);else{this._attr(y,z,q);this.last_attr=y}return this};h.prototype.duration=function(y){this.state.duration=y?y:0;return this};h.prototype.checkpoint=function(y,z){if(y===undefined)y=1;this.state.checkpoint=y;this.queue.push(this.state);this._reset_state();this.state.checkpointcb=z;return this};h.prototype.blind=function(){this.state.blind=true;return this};h.prototype.hide=function(){this.state.hide=true;return this};h.prototype.show=function(){this.state.show=true;return this};h.prototype.ease=function(y){this.state.ease=y;return this};h.prototype.CSSAnimation=function(y){var z={duration:this.state.duration};if(this.state.ondone)z.callback=this.state.ondone;y(this.obj,z)};h.prototype.go=function(){var y=Date.now();this.queue.push(this.state);for(var z=0;z<this.queue.length;z++){this.queue[z].start=y-n;if(this.queue[z].checkpoint)y+=this.queue[z].checkpoint*this.queue[z].duration}v(this);return this};h.prototype._show=function(){c("CSS").show(this.obj)};h.prototype._hide=function(){c("CSS").hide(this.obj)};h.prototype.overrideBehavior=function(y){this.behaviorOverrides=babelHelpers["extends"]({},this.behaviorOverrides,y);return this};h.prototype._frame=function(y){__p&&__p();var z=true,A=false,B;function C(X){return document.documentElement[X]||document.body[X]}function D(Z,X){return Z===document.body?C(X):Z[X]}function E(Z,$){return $.lastScrollTop!==undefined&&$.lastScrollTop!==D(Z.obj,"scrollTop")||$.lastScrollLeft!==undefined&&$.lastScrollLeft!==D(Z.obj,"scrollLeft")}function F(Z,$){$.lastScrollTop=D(Z.obj,"scrollTop");$.lastScrollLeft=D(Z.obj,"scrollLeft")}for(var G=0;G<this.queue.length;G++){var H=this.queue[G];if(H.start>y){z=false;continue}if(H.checkpointcb){this._callback(H.checkpointcb,y-H.start);H.checkpointcb=null}if(H.started===undefined){if(H.show)this._show();for(var I in H.attrs){if(H.attrs[I].start!==undefined)continue;switch(I){case"backgroundColor":case"borderColor":case"color":B=u(c("Style").get(this.obj,I=="borderColor"?"borderLeftColor":I));if(H.attrs[I].by){H.attrs[I].value[0]=Math.min(255,Math.max(0,H.attrs[I].value[0]+B[0]));H.attrs[I].value[1]=Math.min(255,Math.max(0,H.attrs[I].value[1]+B[1]));H.attrs[I].value[2]=Math.min(255,Math.max(0,H.attrs[I].value[2]+B[2]))}break;case"opacity":B=c("Style").getOpacity(this.obj);if(H.attrs[I].by)H.attrs[I].value=Math.min(1,Math.max(0,H.attrs[I].value+B));break;case"height":B=s(this.obj);if(H.attrs[I].by)H.attrs[I].value+=B;break;case"width":B=r(this.obj);if(H.attrs[I].by)H.attrs[I].value+=B;break;case"scrollLeft":case"scrollTop":B=D(this.obj,I);if(H.attrs[I].by)H.attrs[I].value+=B;F(this,H);break;case"rotateX":case"rotateY":case"rotateZ":case"translateX":case"translateY":case"translateZ":B=c("DataStore").get(this.obj,I,0);if(H.attrs[I].by)H.attrs[I].value+=B;break;case"scaleX":case"scaleY":case"scaleZ":B=c("DataStore").get(this.obj,I,1);if(H.attrs[I].by)H.attrs[I].value+=B;break;default:B=parseInt(c("Style").get(this.obj,I),10)||0;if(H.attrs[I].by)H.attrs[I].value+=B;break}H.attrs[I].start=B}if(H.attrs.height&&H.attrs.height.auto||H.attrs.width&&H.attrs.width.auto){this._destroy_container();for(var I in{height:1,width:1,fontSize:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:1,borderBottomWidth:1,paddingLeft:1,paddingRight:1,paddingTop:1,paddingBottom:1})if(H.attrs[I])this.obj.style[I]=H.attrs[I].value+(typeof H.attrs[I].value=="number"?this.unit:"");if(H.attrs.height&&H.attrs.height.auto)H.attrs.height.value=s(this.obj);if(H.attrs.width&&H.attrs.width.auto)H.attrs.width.value=r(this.obj)}H.started=true;if(H.blind)this._build_container()}var J=(y-H.start)/H.duration;if(J>=1){J=1;if(H.hide)this._hide()}else z=false;var K=H.ease?H.ease(J):J;if(!A&&J!=1&&H.blind)A=true;for(var I in H.attrs)switch(I){case"backgroundColor":case"borderColor":case"color":if(H.attrs[I].start[3]!=H.attrs[I].value[3])this.obj.style[I]="rgba("+t(K,H.attrs[I].start[0],H.attrs[I].value[0],true)+","+t(K,H.attrs[I].start[1],H.attrs[I].value[1],true)+","+t(K,H.attrs[I].start[2],H.attrs[I].value[2],true)+","+t(K,H.attrs[I].start[3],H.attrs[I].value[3],false)+")";else this.obj.style[I]="rgb("+t(K,H.attrs[I].start[0],H.attrs[I].value[0],true)+","+t(K,H.attrs[I].start[1],H.attrs[I].value[1],true)+","+t(K,H.attrs[I].start[2],H.attrs[I].value[2],true)+")";break;case"opacity":c("Style").set(this.obj,"opacity",t(K,H.attrs[I].start,H.attrs[I].value));break;case"height":case"width":this.obj.style[I]=K==1&&H.attrs[I].auto?"auto":t(K,H.attrs[I].start,H.attrs[I].value,true)+this.unit;break;case"scrollLeft":case"scrollTop":var L=this.obj===document.body;if(!this.behaviorOverrides.ignoreUserScroll&&E(this,H)){delete H.attrs.scrollTop;delete H.attrs.scrollLeft}else{var M=t(K,H.attrs[I].start,H.attrs[I].value,true);if(!L)this.obj[I]=M;else if(I=="scrollLeft")b.scrollTo(M,C("scrollTop"));else b.scrollTo(C("scrollLeft"),M);F(this,H)}break;case"translateX":case"translateY":case"translateZ":case"rotateX":case"rotateY":case"rotateZ":case"scaleX":case"scaleY":case"scaleZ":c("DataStore").set(this.obj,I,t(K,H.attrs[I].start,H.attrs[I].value,false));break;default:this.obj.style[I]=t(K,H.attrs[I].start,H.attrs[I].value,true)+this.unit;break}var N=null,O=c("DataStore").get(this.obj,"translateX",0),P=c("DataStore").get(this.obj,"translateY",0),Q=c("DataStore").get(this.obj,"translateZ",0);if(O||P||Q)N=m(N,[1,0,0,0,0,1,0,0,0,0,1,0,O,P,Q,1]);var R=c("DataStore").get(this.obj,"scaleX",1),S=c("DataStore").get(this.obj,"scaleY",1),T=c("DataStore").get(this.obj,"scaleZ",1);if(R-1||S-1||T-1)N=m(N,[R,0,0,0,0,S,0,0,0,0,T,0,0,0,0,1]);var U=c("DataStore").get(this.obj,"rotateX",0);if(U)N=m(N,[1,0,0,0,0,Math.cos(U),Math.sin(-U),0,0,Math.sin(U),Math.cos(U),0,0,0,0,1]);var V=c("DataStore").get(this.obj,"rotateY",0);if(V)N=m(N,[Math.cos(V),0,Math.sin(V),0,0,1,0,0,Math.sin(-V),0,Math.cos(V),0,0,0,0,1]);var W=c("DataStore").get(this.obj,"rotateZ",0);if(W)N=m(N,[Math.cos(W),Math.sin(-W),0,0,Math.sin(W),Math.cos(W),0,0,0,0,1,0,0,0,0,1]);var X=c("getVendorPrefixedName")("transform");if(X)if(N){var Y=i(N);c("Style").set(this.obj,X,Y)}else if(z)c("Style").set(this.obj,X,null);if(J==1){this.queue.splice(G--,1);this._callback(H.ondone,y-H.start-H.duration)}}if(!A&&this.container_div)this._destroy_container();return!z};h.prototype.ondone=function(y){this.state.ondone=y;return this};h.prototype._callback=function(y,z){if(y){n=z;y.call(this);n=0}};function t(y,z,A,B){return(B?parseInt:parseFloat)((A-z)*y+z,10)}function u(y){__p&&__p();var z=/^#([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{1,2})$/i.exec(y);if(z)return[parseInt(z[1].length==1?z[1]+z[1]:z[1],16),parseInt(z[2].length==1?z[2]+z[2]:z[2],16),parseInt(z[3].length==1?z[3]+z[3]:z[3],16),1];else{var A=/^rgba? *\(([0-9]+), *([0-9]+), *([0-9]+)(?:, *([0-9\.]+))?\)$/.exec(y);if(A)return[parseInt(A[1],10),parseInt(A[2],10),parseInt(A[3],10),A[4]?parseFloat(A[4]):1];else if(y=="transparent")return[255,255,255,0];else throw new Error("Named color attributes are not supported.")}}function v(y){f.push(y);if(f.length===1)if(e)e(x);else g=c("setIntervalAcrossTransitions")(x,20);if(e)w();x(Date.now(),true)}function w(){__p&&__p();if(!e)throw new Error("Ending timer only valid with requestAnimationFrame");var y=0;for(var z=0;z<f.length;z++){var A=f[z];for(var B=0;B<A.queue.length;B++){var C=A.queue[B].start+A.queue[B].duration;if(C>y)y=C}}if(g){c("clearTimeout")(g);g=null}var D=Date.now();if(y>D)g=c("setTimeoutAcrossTransitions")(c("shield")(x),y-D)}function x(y,z){__p&&__p();var A=Date.now();for(var B=z===true?f.length-1:0;B<f.length;B++)try{if(!f[B]._frame(A))f.splice(B--,1)}catch(C){f.splice(B--,1)}if(f.length===0){if(g){if(e)c("clearTimeout")(g);else c("clearInterval")(g);g=null}}else if(e)e(x)}h.ease={};h.ease.begin=function(y){return Math.sin(Math.PI/2*(y-1))+1};h.ease.end=function(y){return Math.sin(.5*Math.PI*y)};h.ease.both=function(y){return.5*Math.sin(Math.PI*(y-.5))+.5};h.prependInsert=function(y,z){h.insert(y,z,c("DOM").prependContent)};h.appendInsert=function(y,z){h.insert(y,z,c("DOM").appendContent)};h.insert=function(y,z,A){c("Style").set(z,"opacity",0);A(y,z);new h(z).from("opacity",0).to("opacity",1).duration(400).go()};d.exports=h}),null);
__d("Button",["csx","cx","CSS","DataStore","DOM","Event","Parent","emptyFunction","isNode"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j="uiButtonDisabled",k="uiButtonDepressed",l="_42fr",m="_42fs",n="button:blocker",o="href",p="ajaxify";function q(w,x){var y=c("DataStore").get(w,n);if(x){if(y){y.remove();c("DataStore").remove(w,n)}}else if(!y)c("DataStore").set(w,n,c("Event").listen(w,"click",c("emptyFunction").thatReturnsFalse,c("Event").Priority.URGENT))}function r(w){var x=c("Parent").byClass(w,"uiButton")||c("Parent").bySelector(w,"._42ft");if(!x)throw new Error("invalid use case");return x}function s(w){return c("DOM").isNodeOfType(w,"a")}function t(w){return c("DOM").isNodeOfType(w,"button")}function u(w){return c("CSS").matchesSelector(w,"._42ft")}var v={getInputElement:function w(x){x=r(x);if(s(x))throw new Error("invalid use case");return t(x)?x:c("DOM").find(x,"input")},isEnabled:function w(x){return!(c("CSS").hasClass(r(x),j)||c("CSS").hasClass(r(x),l))},setEnabled:function w(x,y){__p&&__p();x=r(x);var z=u(x)?l:j;c("CSS").conditionClass(x,z,!y);if(s(x)){var A=x.getAttribute("href"),B=x.getAttribute("ajaxify"),C=c("DataStore").get(x,o,"#"),D=c("DataStore").get(x,p);if(y){if(!A)x.setAttribute("href",C);if(!B&&D)x.setAttribute("ajaxify",D);x.removeAttribute("tabIndex")}else{if(A&&A!==C)c("DataStore").set(x,o,A);if(B&&B!==D)c("DataStore").set(x,p,B);x.removeAttribute("href");x.removeAttribute("ajaxify");x.setAttribute("tabIndex","-1")}q(x,y)}else{var E=v.getInputElement(x);E.disabled=!y;q(E,y)}},setDepressed:function w(x,y){x=r(x);var z=u(x)?m:k;c("CSS").conditionClass(x,z,y)},isDepressed:function w(x){x=r(x);var y=u(x)?m:k;return c("CSS").hasClass(x,y)},setLabel:function w(x,y){__p&&__p();x=r(x);if(u(x)){var z=[];if(y)z.push(y);var A=c("DOM").scry(x,".img");for(var B=0;B<A.length;B++){var C=A[B],D=C.parentNode;if(D.classList&&(D.classList.contains("_4o_3")||D.classList.contains("_-xe")))if(x.firstChild===D)z.unshift(D);else z.push(D);else if(x.firstChild==C)z.unshift(C);else z.push(C)}c("DOM").setContent(x,z)}else if(s(x)){var E=c("DOM").find(x,"span.uiButtonText");c("DOM").setContent(E,y)}else v.getInputElement(x).value=y;var F=u(x)?"_42fv":"uiButtonNoText";c("CSS").conditionClass(x,F,!y)},getIcon:function w(x){x=r(x);return c("DOM").scry(x,".img")[0]},setIcon:function w(x,y){__p&&__p();if(y&&!c("isNode")(y))return;var z=v.getIcon(x);if(!y){z&&c("DOM").remove(z);return}c("CSS").addClass(y,"customimg");if(z!=y)if(z)c("DOM").replace(z,y);else c("DOM").prependContent(r(x),y)}};f.exports=v}),null);
__d("ContextualThing",["CSS","containsNode","ge","getOrCreateDOMID"],(function a(b,c,d,e,f,g){__p&&__p();var h={register:function i(j,k){j.setAttribute("data-ownerid",c("getOrCreateDOMID")(k))},containsIncludingLayers:function i(j,k){var l=k;while(l){if(c("containsNode")(j,l))return true;l=h.getContext(l)}return false},getContext:function i(j){var k=j,l=void 0;while(k){if(k.getAttribute&&(l=k.getAttribute("data-ownerid")))return c("ge")(l);k=k.parentNode}return null},parentByClass:function i(j,k){var l=j,m=void 0;while(l&&!c("CSS").hasClass(l,k))if(l.getAttribute&&(m=l.getAttribute("data-ownerid")))l=c("ge")(m);else l=l.parentNode;return l}};f.exports=h}),null);
__d("Form",["DataStore","DOM","DOMQuery","DTSG","Input","LSD","Random","PHPQuerySerializer","URI","getElementPosition","isFacebookURI","isNode"],(function a(b,c,d,e,f,g){__p&&__p();var h="FileList"in window,i="FormData"in window;function j(l){var m={};c("PHPQuerySerializer").serialize(l).split("&").forEach(function(n){if(n){var o=/^([^=]*)(?:=(.*))?$/.exec(n),p=c("URI").decodeComponent(o[1]),q=o[2]!==undefined,r=q?c("URI").decodeComponent(o[2]):null;m[p]=r}});return m}var k={getInputs:function l(){var m=arguments.length<=0||arguments[0]===undefined?document:arguments[0];return[].concat(c("DOMQuery").scry(m,"input"),c("DOMQuery").scry(m,"select"),c("DOMQuery").scry(m,"textarea"),c("DOMQuery").scry(m,"button"))},getInputsByName:function l(m){var n={};k.getInputs(m).forEach(function(o){var p=n[o.name];n[o.name]=typeof p==="undefined"?o:[o].concat(p)});return n},getSelectValue:function l(m){return m.options[m.selectedIndex].value},setSelectValue:function l(m,n){for(var o=0;o<m.options.length;++o)if(m.options[o].value==n){m.selectedIndex=o;break}},getRadioValue:function l(m){for(var n=0;n<m.length;n++)if(m[n].checked)return m[n].value;return null},getElements:function l(m){return m.tagName=="FORM"&&m.elements!=m?Array.from(m.elements):k.getInputs(m)},getAttribute:function l(m,n){return(m.getAttributeNode(n)||{}).value||null},setDisabled:function l(m,n){__p&&__p();k.getElements(m).forEach(function(o){__p&&__p();if(o.disabled!==undefined){var p=c("DataStore").get(o,"origDisabledState");if(n){if(p===undefined)c("DataStore").set(o,"origDisabledState",o.disabled);o.disabled=n}else if(p===false)o.disabled=false}})},forEachValue:function l(m,n,o){__p&&__p();k.getElements(m).forEach(function(p){__p&&__p();if(!p.name||p.disabled)return;if(p.type==="submit")return;if(p.type==="reset"||p.type==="button"||p.type==="image")return;if((p.type==="radio"||p.type==="checkbox")&&!p.checked)return;if(p.nodeName==="SELECT"){for(var q=0,r=p.options.length;q<r;q++){var s=p.options[q];if(s.selected)o("select",p.name,s.value)}return}if(p.type==="file"){if(h){var t=p.files;for(var u=0;u<t.length;u++)o("file",p.name,t.item(u))}return}o(p.type,p.name,c("Input").getValue(p))});if(n&&n.name&&n.type==="submit"&&c("DOMQuery").contains(m,n)&&c("DOMQuery").isNodeOfType(n,["input","button"]))o("submit",n.name,n.value)},createFormData:function l(m,n){__p&&__p();if(!i)return null;var o=new FormData();if(m)if(c("isNode")(m))k.forEachValue(m,n,function(r,q,s){o.append(q,s)});else{var p=j(m);for(var q in p)if(p[q]==null)o.append(q,"");else o.append(q,p[q])}return o},serialize:function l(m,n){var o={};k.forEachValue(m,n,function(p,q,r){if(p==="file")return;k._serializeHelper(o,q,r)});return k._serializeFix(o)},_serializeHelper:function l(m,n,o){__p&&__p();var p=Object.prototype.hasOwnProperty,q=/([^\]]+)\[([^\]]*)\](.*)/.exec(n);if(q){if(!m[q[1]]||!p.call(m,q[1])){var r;m[q[1]]=r={};if(m[q[1]]!==r)return}var s=0;if(q[2]==="")while(m[q[1]][s]!==undefined)s++;else s=q[2];if(q[3]==="")m[q[1]][s]=o;else k._serializeHelper(m[q[1]],s.concat(q[3]),o)}else m[n]=o},_serializeFix:function l(m){__p&&__p();for(var n in m)if(m[n]instanceof Object)m[n]=k._serializeFix(m[n]);var o=Object.keys(m);if(o.length===0||o.some(isNaN))return m;o.sort(function(r,s){return r-s});var p=0,q=o.every(function(n){return+n===p++});if(q)return o.map(function(n){return m[n]});return m},post:function l(m,n,o){__p&&__p();var p=arguments.length<=3||arguments[3]===undefined?true:arguments[3],q=new(c("URI"))(m),r=document.createElement("form");r.action=q.toString();r.method="POST";r.style.display="none";var s=!c("isFacebookURI")(q);if(o){if(s){r.rel="noopener";if(o==="_blank"){o=btoa(c("Random").uint32());var t=window.open("about:blank",o);if(!(t===undefined))t.opener=null}}r.target=o}if(p)if(!s&&q.getSubdomain()!=="apps"){n.fb_dtsg=c("DTSG").getToken();if(c("LSD").token)n.lsd=c("LSD").token}k.createHiddenInputs(n,r);c("DOMQuery").getRootElement().appendChild(r);r.submit();return false},createHiddenInputs:function l(m,n,o){__p&&__p();var p=arguments.length<=3||arguments[3]===undefined?false:arguments[3];o=o||{};var q=j(m);for(var r in q){if(q[r]===null)continue;if(o[r]&&p)o[r].value=q[r];else{var s=c("DOM").create("input",{type:"hidden",name:r,value:q[r]});o[r]=s;n.appendChild(s)}}return o},getFirstElement:function l(m){__p&&__p();var n=arguments.length<=1||arguments[1]===undefined?['input[type="text"]',"textarea",'input[type="password"]','input[type="button"]','input[type="submit"]']:arguments[1],o=[];for(var p=0;p<n.length;p++){o=c("DOMQuery").scry(m,n[p]);for(var q=0;q<o.length;q++){var r=o[q];try{var s=c("getElementPosition")(r);if(s.y>0&&s.x>0)return r}catch(t){}}}return null},focusFirst:function l(m){var n=k.getFirstElement(m);if(n){n.focus();return true}return false}};f.exports=k}),null);
__d("getOverlayZIndex",["Style"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){__p&&__p();j=j||document.body;var k=[];while(i&&i!==j){k.push(i);i=i.parentNode}if(i!==j)return 0;for(var l=k.length-1;l>=0;l--){var m=k[l];if(c("Style").get(m,"position")!="static"){var n=parseInt(c("Style").get(m,"z-index"),10);if(!isNaN(n))return n}}return 0}f.exports=h}),null);
__d("Dialog",["fbt","Animation","Arbiter","AsyncRequest","Button","ContextualThing","CSS","DOM","Event","Focus","Form","HTML","Keys","Locale","Parent","Run","Style","URI","Vector","bind","createArrayFromMixed","emptyFunction","getObjectValues","getOverlayZIndex","removeFromArray","shield"],(function $module_Dialog(global,require,requireDynamic,requireLazy,module,exports,fbt){__p&&__p();var _supportsPositionFixed2=function _supportsPositionFixed(){__p&&__p();var body=document.body,test=document.createElement("div"),control=document.createElement("div");body.insertBefore(test,body.firstChild);body.insertBefore(control,body.firstChild);test.style.position="fixed";test.style.top="20px";var result=test.offsetTop!==control.offsetTop;body.removeChild(test);body.removeChild(control);_supportsPositionFixed2=require("emptyFunction").thatReturns(result);return result};function Dialog(model){"use strict";__p&&__p();this._show_loading=true;this._auto_focus=true;this._submit_on_enter=false;this._fade_enabled=true;this._onload_handlers=[];this._top=125;this._uniqueID="dialog_"+Dialog._globalCount++;this._content=null;this._obj=null;this._popup=null;this._overlay=null;this._causal_elem=null;this._previous_focus=null;this._buttons=[];this._buildDialog();if(model)this._setFromModel(model);Dialog._init()}Dialog.prototype.show=function(){"use strict";this._showing=true;if(this._async_request){if(this._show_loading)this.showLoading()}else this._update();return this};Dialog.prototype.showLoading=function(){"use strict";this._loading=true;require("CSS").addClass(this._frame,"dialog_loading_shown");this._renderDialog();return this};Dialog.prototype.hide=function(){"use strict";__p&&__p();if(!this._showing&&!this._loading)return this;this._showing=false;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null}if(this._fade_enabled&&Dialog._stack.length<=1)this._fadeOut();else this._hide();return this};Dialog.prototype.cancel=function(){"use strict";if(!this._cancelHandler||this._cancelHandler()!==false)this.hide()};Dialog.prototype.getRoot=function(){"use strict";return this._obj};Dialog.prototype.getBody=function(){"use strict";return require("DOM").scry(this._obj,"div.dialog_body")[0]};Dialog.prototype.getButtonElement=function(button){"use strict";if(typeof button=="string")button=Dialog._findButton(this._buttons,button);if(!button||!button.name)return null;var inputs=require("DOM").scry(this._popup,"input"),name_filter=function name_filter(elem){return elem.name==button.name};return inputs.filter(name_filter)[0]||null};Dialog.prototype.getContentNode=function(){"use strict";return require("DOM").find(this._content,"div.dialog_content")};Dialog.prototype.getFormData=function(){"use strict";return require("Form").serialize(this.getContentNode())};Dialog.prototype.setAllowCrossPageTransition=function(allow){"use strict";this._cross_transition=allow;return this};Dialog.prototype.setAllowCrossQuicklingNavigation=function(allow){"use strict";this._cross_quickling=allow;return this};Dialog.prototype.setShowing=function(){"use strict";this.show();return this};Dialog.prototype.setHiding=function(){"use strict";this.hide();return this};Dialog.prototype.setTitle=function(title){"use strict";var node=this._nodes.title,inner_node=this._nodes.title_inner,content_node=this._nodes.content;require("DOM").setContent(inner_node,this._format(title||"",true));require("CSS").conditionShow(node,!!title);require("CSS").conditionClass(content_node,"dialog_content_titleless",!title);return this};Dialog.prototype.setInvertTitleColor=function(invert){"use strict";if(invert)this._nodes.title.className="dialog_title_inverted";else this._nodes.title.className="dialog_title";return this};Dialog.prototype.setBody=function(body){"use strict";require("DOM").setContent(this._nodes.body,this._format(body));return this};Dialog.prototype.setExtraData=function(data){"use strict";this._extra_data=data;return this};Dialog.prototype.setReturnData=function(data){"use strict";this._return_data=data;return this};Dialog.prototype.setShowLoading=function(show){"use strict";this._show_loading=show;return this};Dialog.prototype.setFullBleed=function(is_full_bleed){"use strict";this._full_bleed=is_full_bleed;this._updateWidth();require("CSS").conditionClass(this._obj,"full_bleed",is_full_bleed);return this};Dialog.prototype.setCausalElement=function(elem){"use strict";this._causal_elem=elem;return this};Dialog.prototype.setUserData=function(data){"use strict";this._user_data=data;return this};Dialog.prototype.getUserData=function(){"use strict";return this._user_data};Dialog.prototype.setAutohide=function(autohide){"use strict";__p&&__p();if(autohide)if(this._showing)this._autohide_timeout=setTimeout(require("shield")(this.hide,this),autohide);else this._autohide=autohide;else{this._autohide=null;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null}}return this};Dialog.prototype.setSummary=function(summary){"use strict";var node=this._nodes.summary;require("DOM").setContent(node,this._format(summary||""));require("CSS").conditionShow(node,!!summary);return this};Dialog.prototype.setButtons=function(b){"use strict";__p&&__p();var buttons,button;if(!Array.isArray(b))buttons=Array.from(arguments);else buttons=b;for(var i=0;i<buttons.length;++i)if(typeof buttons[i]=="string"){button=Dialog._findButton(Dialog._STANDARD_BUTTONS,buttons[i]);buttons[i]=button}this._buttons=buttons;var button_content=[];if(buttons&&buttons.length>0)for(var ii=0;ii<buttons.length;ii++){button=buttons[ii];var button_input=require("DOM").create("input",{type:"button",name:button.name||"",value:button.label}),button_node=require("DOM").create("label",{className:"uiButton uiButtonLarge uiButtonConfirm"},button_input);if(button.className){button.className.split(/\s+/).forEach(function(e){require("CSS").addClass(button_node,e)});if(require("CSS").hasClass(button_node,"inputaux")){require("CSS").removeClass(button_node,"inputaux");require("CSS").removeClass(button_node,"uiButtonConfirm")}if(require("CSS").hasClass(button_node,"uiButtonSpecial"))require("CSS").removeClass(button_node,"uiButtonConfirm")}if(button.icon)require("DOM").prependContent(button_node,require("DOM").create("img",{src:button.icon,className:"img mrs"}));if(button.disabled)require("Button").setEnabled(button_node,false);require("Event").listen(button_input,"click",this._handleButton.bind(this,button.name));for(var attr in button)if(attr.indexOf("data-")===0&&attr.length>5)button_input.setAttribute(attr,button[attr]);button_content.push(button_node)}require("DOM").setContent(this._nodes.buttons,button_content);this._updateButtonVisibility();return this};Dialog.prototype.setButtonsMessage=function(message){"use strict";require("DOM").setContent(this._nodes.button_message,this._format(message||""));this._has_button_message=!!message;this._updateButtonVisibility();return this};Dialog.prototype._updateButtonVisibility=function(){"use strict";var show=this._buttons.length>0||this._has_button_message;require("CSS").conditionShow(this._nodes.button_wrapper,show);require("CSS").conditionClass(this._obj,"omitDialogFooter",!show)};Dialog.prototype.setClickButtonOnEnter=function(input_id,button){"use strict";__p&&__p();this._clickOnEnterTarget=input_id;if(!this._clickOnEnterListener)this._clickOnEnterListener=require("Event").listen(this._nodes.body,"keypress",function(event){var target=event.getTarget();if(target&&target.id===this._clickOnEnterTarget)if(require("Event").getKeyCode(event)==require("Keys").RETURN){this._handleButton(button);event.kill()}return true}.bind(this));return this};Dialog.prototype.setStackable=function(stackable,shown){"use strict";this._is_stackable=stackable;this._shown_while_stacked=stackable&&shown;return this};Dialog.prototype.setHandler=function(handler){"use strict";this._handler=handler;return this};Dialog.prototype.setCancelHandler=function(cancelHandler){"use strict";this._cancelHandler=Dialog.call_or_eval.bind(null,this,cancelHandler);return this};Dialog.prototype.setCloseHandler=function(close_handler){"use strict";this._close_handler=Dialog.call_or_eval.bind(null,this,close_handler);return this};Dialog.prototype.clearHandler=function(){"use strict";return this.setHandler(null)};Dialog.prototype.setPostURI=function(post_uri,asynchronous){"use strict";if(asynchronous===undefined)asynchronous=true;if(asynchronous)this.setHandler(this._submitForm.bind(this,"POST",post_uri));else this.setHandler(function(){require("Form").post(post_uri,this.getFormData());this.hide()}.bind(this));return this};Dialog.prototype.setGetURI=function(get_uri){"use strict";this.setHandler(this._submitForm.bind(this,"GET",get_uri));return this};Dialog.prototype.setModal=function(modal){"use strict";this._modal=modal;require("CSS").conditionClass(this._obj,"generic_dialog_modal",modal);return this};Dialog.prototype.setSemiModal=function(clickout){"use strict";__p&&__p();if(clickout){this.setModal(true);this._semiModalListener=require("Event").listen(this._obj,"click",function(e){if(!require("DOM").contains(this._popup,e.getTarget()))this.hide()}.bind(this))}else this._semiModalListener&&this._semiModalListener.remove();this._semi_modal=clickout;return this};Dialog.prototype.setWideDialog=function(is_wide){"use strict";this._wide_dialog=is_wide;this._updateWidth();return this};Dialog.prototype.setContentWidth=function(width){"use strict";this._content_width=width;this._updateWidth();return this};Dialog.prototype.setTitleLoading=function(loading){"use strict";if(loading===undefined)loading=true;var header=require("DOM").find(this._popup,"h2.dialog_title");if(header)require("CSS").conditionClass(header,"loading",loading);return this};Dialog.prototype.setSecure=function(is_secure){"use strict";require("CSS").conditionClass(this._nodes.title,"secure",is_secure);return this};Dialog.prototype.setClassName=function(class_name){"use strict";class_name.split(/\s+/).forEach(require("CSS").addClass.bind(require("CSS"),this._obj));return this};Dialog.prototype.setFadeEnabled=function(enabled){"use strict";this._fade_enabled=enabled;return this};Dialog.prototype.setFooter=function(footer){"use strict";var node=this._nodes.footer;require("DOM").setContent(node,this._format(footer||""));require("CSS").conditionShow(node,!!footer);return this};Dialog.prototype.setAutoFocus=function(focus){"use strict";this._auto_focus=focus;return this};Dialog.prototype.setTop=function(top){"use strict";this._top=top;this._resetDialogObj();return this};Dialog.prototype.onloadRegister=function(handler){"use strict";require("createArrayFromMixed")(handler).forEach(function(i){if(typeof i=="string")i=new Function(i);this._onload_handlers.push(i.bind(this))}.bind(this));return this};Dialog.prototype.setAsyncURL=function(url){"use strict";return this.setAsync(new(require("AsyncRequest"))(url))};Dialog.prototype.setAsync=function(async_request){"use strict";__p&&__p();var handler=function(response){__p&&__p();if(this._async_request!=async_request)return;this._async_request=null;var payload=response.getPayload(),dialog=payload;if(this._loading)this._showing=true;if(typeof dialog=="string")this.setBody(dialog);else this._setFromModel(dialog);this._update()}.bind(this),data=async_request.getData();data.__d=1;async_request.setData(data);var orig_handler=async_request.getHandler()||require("emptyFunction");async_request.setHandler(function(response){orig_handler(response);handler(response)});var request=async_request,orig_error_handler=request.getErrorHandler()||require("emptyFunction"),orig_trans_error_handler=request.getTransportErrorHandler()||require("emptyFunction"),handle_error=function(){this._async_request=null;this._loading=false;if(this._showing&&this._shown_while_stacked)this._update();else this._hide(this._is_stackable)}.bind(this),server_cancel_handler=request.getServerDialogCancelHandler()||handle_error;request.setAllowCrossPageTransition(this._cross_transition).setErrorHandler(function(response){handle_error();orig_error_handler(response)}).setTransportErrorHandler(function(response){handle_error();orig_trans_error_handler(response)}).setServerDialogCancelHandler(server_cancel_handler);async_request.send();this._async_request=async_request;if(this._showing)this.show();return this};Dialog.prototype._format=function(content){__p&&__p();var sane=arguments.length<=1||arguments[1]===undefined?false:arguments[1];"use strict";if(typeof content=="string"){if(!sane)content=require("HTML")(content)}else content=require("HTML").replaceJSONWrapper(content);if(content instanceof require("HTML"))content.setDeferred(true);return content};Dialog.prototype._update=function(){"use strict";__p&&__p();if(!this._showing)return;if(this._autohide&&!this._async_request&&!this._autohide_timeout)this._autohide_timeout=setTimeout(require("bind")(this,"hide"),this._autohide);require("CSS").removeClass(this._frame,"dialog_loading_shown");this._loading=false;this._renderDialog();this._runOnloads();this._previous_focus=document.activeElement;require("Focus").set(this._frame)};Dialog.prototype._runOnloads=function(){"use strict";for(var i=0;i<this._onload_handlers.length;++i)try{this._onload_handlers[i]()}catch(ex){}this._onload_handlers=[]};Dialog.prototype._updateWidth=function(){"use strict";__p&&__p();var dialog_width=2*(Dialog._BORDER_WIDTH+Dialog._HALO_WIDTH);if(this._content_width){dialog_width+=this._content_width;if(!this._full_bleed)dialog_width+=2*Dialog._PADDING_WIDTH}else if(this._wide_dialog)dialog_width+=Dialog.SIZE.WIDE;else dialog_width+=Dialog.SIZE.STANDARD;this._popup.style.width=dialog_width+"px"};Dialog.prototype._updateZIndex=function(){"use strict";if(!this._hasSetZIndex&&this._causal_elem){var z_index=require("getOverlayZIndex")(this._causal_elem),node=this._causal_elem;while(!z_index&&(node=require("ContextualThing").getContext(node)))z_index=require("getOverlayZIndex")(node);this._hasSetZIndex=z_index>(this._modal?400:200);require("Style").set(this._obj,"z-index",this._hasSetZIndex?z_index:"")}};Dialog.prototype._renderDialog=function(){"use strict";__p&&__p();this._updateZIndex();this._pushOntoStack();this._obj.style.height=null;if(this._obj&&this._obj.style.display){this._obj.style.visibility="hidden";this._obj.style.display="";this.resetDialogPosition();this._obj.style.visibility="";this._obj.dialog=this}else this.resetDialogPosition();clearInterval(this.active_hiding);this.active_hiding=setInterval(this._activeResize.bind(this),500);this._submit_on_enter=false;if(this._auto_focus){var input=require("Form").getFirstElement(this._content,['input[type="text"]',"textarea",'input[type="password"]']);if(input)setTimeout(require("Form").focusFirst.bind(this,this._content),0);else this._submit_on_enter=true}var bottom=require("Vector").getElementDimensions(this._content).y+require("Vector").getElementPosition(this._content).y;Dialog._bottoms.push(bottom);this._bottom=bottom;Dialog._updateMaxBottom();return this};Dialog.prototype._buildDialog=function(){"use strict";__p&&__p();this._obj=require("DOM").create("div",{className:"generic_dialog",id:this._uniqueID});this._obj.style.display="none";require("DOM").appendContent(document.body,this._obj);if(!this._popup)this._popup=require("DOM").create("div",{className:"generic_dialog_popup"});this._obj.appendChild(this._popup);require("CSS").addClass(this._obj,"pop_dialog");if(require("Locale").isRTL())require("CSS").addClass(this._obj,"pop_dialog_rtl");require("DOM").setContent(this._popup,require("DOM").create("div",{className:"pop_container_advanced"},require("DOM").create("div",{className:"pop_content",id:"pop_content"})));var frame=require("DOM").find(this._popup,"div.pop_content");frame.setAttribute("tabIndex","0");frame.setAttribute("role","alertdialog");this._frame=this._content=frame;var loading=require("DOM").create("div",{className:"dialog_loading"},fbt._("Loading...")),title_inner=require("DOM").create("span"),title=require("DOM").create("h2",{className:"dialog_title hidden_elem",id:"title_"+this._uniqueID},title_inner),summary=require("DOM").create("div",{className:"dialog_summary hidden_elem"}),body=require("DOM").create("div",{className:"dialog_body"}),buttons=require("DOM").create("div",{className:"rfloat mlm"}),button_message=require("DOM").create("div",{className:"dialog_buttons_msg"}),button_wrapper=require("DOM").create("div",{className:"dialog_buttons clearfix hidden_elem"},[buttons,button_message]),footer=require("DOM").create("div",{className:"dialog_footer hidden_elem"}),content=require("DOM").create("div",{className:"dialog_content"},[summary,body,button_wrapper,footer]);this._nodes={summary:summary,body:body,buttons:buttons,button_message:button_message,button_wrapper:button_wrapper,footer:footer,content:content,title:title,title_inner:title_inner};require("DOM").setContent(this._frame,[title,content,loading])};Dialog.prototype._activeResize=function(){"use strict";if(this.last_offset_height!=this._content.offsetHeight){this.last_offset_height=this._content.offsetHeight;this.resetDialogPosition()}};Dialog.prototype.resetDialogPosition=function(){"use strict";if(!this._popup)return;this._resetDialogObj()};Dialog.prototype._resetDialogObj=function(){"use strict";__p&&__p();var total_margin=2*Dialog._PAGE_MARGIN,viewport_dimensions=require("Vector").getViewportDimensions(),viewport_width=viewport_dimensions.x-total_margin,viewport_height=viewport_dimensions.y-total_margin,total_halo_width=2*Dialog._HALO_WIDTH,content_dimensions=require("Vector").getElementDimensions(this._content),content_width=content_dimensions.x+total_halo_width,content_height=content_dimensions.y+total_halo_width,top=this._top,empty_horiz_space=viewport_width-content_width,empty_vertical_space=viewport_height-content_height;if(empty_vertical_space<0)top=Dialog._PAGE_MARGIN;else if(top>empty_vertical_space)top=Dialog._PAGE_MARGIN+Math.max(empty_vertical_space,0)/2;var is_fixed=_supportsPositionFixed2();if(!is_fixed)top+=require("Vector").getScrollPosition().y;require("Style").set(this._popup,"marginTop",top+"px");var scroll=is_fixed&&(empty_horiz_space<0||empty_vertical_space<0);require("CSS").conditionClass(this._obj,"generic_dialog_fixed_overflow",scroll);require("CSS").conditionClass(document.documentElement,"generic_dialog_overflow_mode",scroll)};Dialog.prototype._fadeOut=function(temporary){"use strict";if(!this._popup)return;try{new(require("Animation"))(this._obj).duration(0).checkpoint().to("opacity",0).hide().duration(250).ondone(this._hide.bind(this,temporary)).go()}catch(e){this._hide(temporary)}};Dialog.prototype._hide=function(temporary){"use strict";__p&&__p();if(this._obj)this._obj.style.display="none";require("CSS").removeClass(document.documentElement,"generic_dialog_overflow_mode");clearInterval(this.active_hiding);if(this._bottom){var bs=Dialog._bottoms;bs.splice(bs.indexOf(this._bottom),1);Dialog._updateMaxBottom()}if(this._previous_focus&&document.activeElement&&require("DOM").contains(this._obj,document.activeElement))require("Focus").set(this._previous_focus);if(temporary)return;this.destroy()};Dialog.prototype.destroy=function(){"use strict";__p&&__p();this._popFromStack();clearInterval(this.active_hiding);if(this._obj){require("DOM").remove(this._obj);this._obj=null}this._clickOnEnterListener&&this._clickOnEnterListener.remove();if(this._close_handler)this._close_handler({return_data:this._return_data})};Dialog.prototype._handleButton=function(button){"use strict";__p&&__p();if(typeof button=="string")button=Dialog._findButton(this._buttons,button);var value=Dialog.call_or_eval(button,button.handler);if(value===false)return;if(button.name=="cancel")this.cancel();else if(Dialog.call_or_eval(this,this._handler,{button:button})!==false)this.hide()};Dialog.prototype._submitForm=function(method,uri,button){"use strict";var data=this.getFormData();if(button)data[button.name]=button.name;if(this._extra_data)Object.assign(data,this._extra_data);var async_request=new(require("AsyncRequest"))().setURI(uri).setData(data).setMethod(method).setNectarModuleDataSafe(this._causal_elem).setReadOnly(method=="GET");this.setAsync(async_request);return false};Dialog.prototype._setFromModel=function(original_model){"use strict";__p&&__p();var model={};Object.assign(model,original_model);for(var propertyName in model){if(propertyName=="onloadRegister"){this.onloadRegister(model[propertyName]);continue}var mutator=this["set"+propertyName.substr(0,1).toUpperCase()+propertyName.substr(1)];mutator.apply(this,require("createArrayFromMixed")(model[propertyName]))}};Dialog.prototype._updateBottom=function(){"use strict";var bottom=require("Vector").getElementDimensions(this._content).y+require("Vector").getElementPosition(this._content).y;Dialog._bottoms[Dialog._bottoms.length-1]=bottom;Dialog._updateMaxBottom()};Dialog.prototype._pushOntoStack=function(){"use strict";__p&&__p();var stack=Dialog._stack;if(!stack.length)require("Arbiter").inform("layer_shown",{type:"Dialog"});require("removeFromArray")(stack,this);stack.push(this);for(var i=stack.length-2;i>=0;i--){var prev_dialog=stack[i];if(!prev_dialog._is_stackable&&!prev_dialog._async_request)prev_dialog._hide();else if(!prev_dialog._shown_while_stacked)prev_dialog._hide(true)}};Dialog.prototype._popFromStack=function(){"use strict";var stack=Dialog._stack,was_top=stack[stack.length-1]===this;require("removeFromArray")(stack,this);if(stack.length){if(was_top)stack[stack.length-1].show()}else require("Arbiter").inform("layer_hidden",{type:"Dialog"})};Dialog._updateMaxBottom=function(){"use strict";Dialog.max_bottom=Math.max.apply(Math,Dialog._bottoms)};Dialog.newButton=function(name,label,className,handler){"use strict";var button={name:name,label:label};if(className)button.className=className;if(handler)button.handler=handler;return button};Dialog.getCurrent=function(){"use strict";var stack=Dialog._stack;return stack.length?stack[stack.length-1]:null};Dialog.hideCurrent=function(){"use strict";var dialog=Dialog.getCurrent();dialog&&dialog.hide()};Dialog.bootstrap=function(uri,data,read_only,method,model,elem){"use strict";__p&&__p();data=data||{};Object.assign(data,new(require("URI"))(uri).getQueryData());method=method||(read_only?"GET":"POST");var status_elem=require("Parent").byClass(elem,"stat_elem")||elem;if(status_elem&&require("CSS").hasClass(status_elem,"async_saving"))return false;var request=new(require("AsyncRequest"))().setReadOnly(!!read_only).setMethod(method).setRelativeTo(elem).setStatusElement(status_elem).setURI(uri).setNectarModuleDataSafe(elem).setData(data),dialog=new Dialog(model).setCausalElement(elem).setAsync(request);dialog.show();return false};Dialog.showFromModel=function(model,causal_element){"use strict";var dialog=new Dialog(model).setCausalElement(causal_element).show();if(model.hiding)dialog.hide()};Dialog._init=function(){"use strict";__p&&__p();this._init=require("emptyFunction");require("Run").onLeave(require("shield")(Dialog._tearDown,null,false));require("Arbiter").subscribe("page_transition",require("shield")(Dialog._tearDown,null,true));require("Event").listen(document.documentElement,"keydown",function(event){if(require("Event").getKeyCode(event)==require("Keys").ESC&&!event.getModifiers().any){if(Dialog._escape())event.kill()}else if(require("Event").getKeyCode(event)==require("Keys").RETURN&&!event.getModifiers().any)if(Dialog._enter())event.kill()});require("Event").listen(window,"resize",function(event){var dialog=Dialog.getCurrent();dialog&&dialog._resetDialogObj()})};Dialog._findButton=function(buttons,name){"use strict";if(buttons)for(var i=0;i<buttons.length;++i)if(buttons[i].name==name)return buttons[i];return null};Dialog._tearDown=function(is_page_transition){"use strict";var stack=Dialog._stack.slice();for(var ii=stack.length-1;ii>=0;ii--)if(is_page_transition&&!stack[ii]._cross_transition||!is_page_transition&&!stack[ii]._cross_quickling)stack[ii].hide()};Dialog._escape=function(){"use strict";__p&&__p();var dialog=Dialog.getCurrent();if(!dialog)return false;var semi_modal=dialog._semi_modal,buttons=dialog._buttons;if(!buttons.length&&!semi_modal)return false;if(semi_modal&&!buttons.length){dialog.hide();return true}var button_to_simulate,cancel_button=Dialog._findButton(buttons,"cancel");if(dialog._cancelHandler){dialog.cancel();return true}else if(cancel_button)button_to_simulate=cancel_button;else if(buttons.length==1)button_to_simulate=buttons[0];else return false;dialog._handleButton(button_to_simulate);return true};Dialog._enter=function(){"use strict";__p&&__p();var dialog=Dialog.getCurrent();if(!dialog||!dialog._submit_on_enter)return false;if(document.activeElement!=dialog._frame)return false;var buttons=dialog._buttons;if(!buttons)return false;dialog._handleButton(buttons[0]);return true};Dialog.call_or_eval=function(obj,func,args){"use strict";if(!func)return undefined;args=args||{};if(typeof func=="string"){var params=Object.keys(args).join(", ");func=eval("({f: function("+params+") { "+func+"}})").f}return func.apply(obj,require("getObjectValues")(args))};Object.assign(Dialog,{OK:{name:"ok",label:fbt._("OK")},CANCEL:{name:"cancel",label:fbt._("Cancel"),className:"inputaux"},CLOSE:{name:"close",label:fbt._("Close")},NEXT:{name:"next",label:fbt._("Next")},SAVE:{name:"save",label:fbt._("Save")},SUBMIT:{name:"submit",label:fbt._("Submit")},CONFIRM:{name:"confirm",label:fbt._("Confirm")},DELETE:{name:"delete",label:fbt._("Delete")},_globalCount:0,_bottoms:[0],max_bottom:0});Object.assign(Dialog,{OK_AND_CANCEL:[Dialog.OK,Dialog.CANCEL],_STANDARD_BUTTONS:[Dialog.OK,Dialog.CANCEL,Dialog.CLOSE,Dialog.SAVE,Dialog.SUBMIT,Dialog.CONFIRM,Dialog.DELETE],SIZE:{WIDE:555,STANDARD:445},_HALO_WIDTH:10,_BORDER_WIDTH:1,_PADDING_WIDTH:10,_PAGE_MARGIN:40,_stack:[]});Object.assign(Dialog.prototype,{_cross_quickling:false,_cross_transition:false,_loading:false,_showing:false});module.exports=Dialog;global.Dialog=Dialog}),null);
__d("LiveVideoAnnouncementCTAType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:"none",LIVE_SUBSCRIBE:"live_subscribe",FOLLOW:"follow",PAGE_LIKE:"page_like",INVITE_GUEST:"invite_guest"})}),null);
__d("LoadingDialogDimensions",[],(function a(b,c,d,e,f,g){var h=Object.freeze({HEIGHT:96,WIDTH:300});f.exports=h}),null);
__d("DialogPosition",["Vector"],(function a(b,c,d,e,f,g){__p&&__p();var h=40,i,j={calculateTopMargin:function k(l,m){var n=arguments.length<=2||arguments[2]===undefined?null:arguments[2],o=arguments.length<=3||arguments[3]===undefined?false:arguments[3],p=c("Vector").getViewportDimensions(),q=false;if(o&&n)q=n+m>p.y;if(n&&!q)return n;if(i)return i;var r=Math.floor((p.x+l)*(p.y-m)/(4*p.x));return Math.max(r,h)},setFixedTopMargin:function k(l){i=l}};f.exports=j}),null);
__d("flattenArray",[],(function a(b,c,d,e,f,g){__p&&__p();function h(j){var k=[];i(j,k);return k}function i(j,k){var l=j.length,m=0;while(l--){var n=j[m++];if(Array.isArray(n))i(n,k);else k.push(n)}}f.exports=h}),null);
__d("JSXDOM",["DOM","FbtResultBase","flattenArray"],(function a(b,c,d,e,f,g){__p&&__p();var h=["a","blockquote","br","button","canvas","checkbox","dd","div","dl","dt","em","form","h1","h2","h3","h4","h5","h6","hr","i","iframe","img","input","label","li","option","p","pre","select","span","strong","table","tbody","thead","td","textarea","th","tr","ul","video"],i={};h.forEach(function(j){__p&&__p();var k=function k(l,m){__p&&__p();if(arguments.length>2)m=Array.prototype.slice.call(arguments,1);if(!m&&l){m=l.children;delete l.children}if(m){m=Array.isArray(m)?m:[m];m=m.map(function(n){if(n instanceof c("FbtResultBase"))return n.flattenToArray();return n});m=c("flattenArray")(m)}return c("DOM").create(j,l,m)};i[j]=k});f.exports=i}),null);
__d("BehaviorsMixin",[],(function a(b,c,d,e,f,g){__p&&__p();function h(l){"use strict";this.$InstalledBehavior1=l;this.$InstalledBehavior2=false}h.prototype.enable=function(){"use strict";if(!this.$InstalledBehavior2){this.$InstalledBehavior2=true;this.$InstalledBehavior1.enable()}};h.prototype.disable=function(){"use strict";if(this.$InstalledBehavior2){this.$InstalledBehavior2=false;this.$InstalledBehavior1.disable()}};var i=1;function j(l){if(!l.__BEHAVIOR_ID)l.__BEHAVIOR_ID=i++;return l.__BEHAVIOR_ID}var k={enableBehavior:function l(m){if(!this._behaviors)this._behaviors={};var n=j(m);if(!this._behaviors[n])this._behaviors[n]=new h(new m(this));this._behaviors[n].enable();return this},disableBehavior:function l(m){if(this._behaviors){var n=j(m);if(this._behaviors[n])this._behaviors[n].disable()}return this},enableBehaviors:function l(m){m.forEach(this.enableBehavior,this);return this},destroyBehaviors:function l(){if(this._behaviors){for(var m in this._behaviors)this._behaviors[m].disable();this._behaviors={}}},hasBehavior:function l(m){return this._behaviors&&j(m)in this._behaviors}};f.exports=k}),null);
__d("isValidReactElement",[],(function a(b,c,d,e,f,g){var h=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;function i(j){return!!(typeof j==="object"&&j!==null&&j.$$typeof===h)}f.exports=i}),null);
__d("BootloadedReact",["Bootloader","isValidReactElement"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(j){c("Bootloader").loadModules(["ReactDOM"],j,"BootloadedReact")},i={isValidElement:function j(k){return c("isValidReactElement")(k)},render:function j(k,l,m){h(function(n){n.render(k,l,function(){m&&m(this)})})},unmountComponentAtNode:function j(k,l){h(function(m){m.unmountComponentAtNode(k);l&&l()})}};f.exports=i}),null);
__d("isContentEditable",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){var j=i;while(j instanceof HTMLElement){if(j.contentEditable==="true"||j.contentEditable==="plaintext-only")return true;j=j.parentElement}return false}f.exports=h}),null);
__d("isElementInteractive",["Set","isContentEditable"],(function a(b,c,d,e,f,g){"use strict";var h=new(c("Set"))(["EMBED","INPUT","OBJECT","SELECT","TEXTAREA"]),i=new(c("Set"))(["button","checkbox","radio","submit"]);function j(k){if(!k instanceof HTMLElement)return false;var l=c("isContentEditable")(k),m=h.has(k.nodeName),n=k instanceof HTMLInputElement&&i.has(k.type);return(l||m)&&!n}f.exports=j}),null);
__d("KeyEventController",["Bootloader","DOMQuery","Event","Run","emptyFunction","getElementText","isContentEditable","isElementInteractive","isEmpty"],(function a(b,c,d,e,f,g){__p&&__p();var h=null,i={BACKSPACE:[8],TAB:[9],RETURN:[13],ALT:[18],ESCAPE:[27],LEFT:[37,63234],UP:[38,63232],RIGHT:[39,63235],DOWN:[40,63233],NUMPAD_ADD:[43],NUMPAD_SUBSTRACT:[45],DELETE:[46],COMMA:[188],PERIOD:[190],SLASH:[191],"`":[192],"[":[219],"]":[221],PAGE_UP:[33],PAGE_DOWN:[34],END:[35],HOME:[36],SPACE:[32],KP_DOT:[46,110],"-":[189],"=":[187]},j={8:1,9:1,13:1,27:1,32:1,37:1,63234:1,38:1,63232:1,39:1,63235:1,40:1,63233:1,46:1};function k(){"use strict";this.handlers={};document.onkeyup=this.onkeyevent.bind(this,"onkeyup");document.onkeydown=this.onkeyevent.bind(this,"onkeydown");document.onkeypress=this.onkeyevent.bind(this,"onkeypress")}k.prototype.mapKey=function(l){"use strict";__p&&__p();if(l>=0&&l<=9){if(typeof l!="number")l=l.charCodeAt(0)-48;return[48+l,96+l]}var m=i[l.toUpperCase()];if(m)return m;return[l.toUpperCase().charCodeAt(0)]};k.prototype.onkeyevent=function(l,m){__p&&__p();var n;"use strict";m=c("Event").$E(m);var o=this.handlers[m.keyCode]||this.handlers[m.which],p,q,r;if(o)for(var s=0;s<o.length;s++){p=o[s].callback;q=o[s].filter;try{if(!q||q(m,l)){var n=function(){r=p(m,l);var u=m.which||m.keyCode;c("Bootloader").loadModules(["KeyEventTypedLogger"],function(v){new v().setAction("key_shortcut").setKey(m.key||"").setKeyChar(String.fromCharCode(u)).setKeyCode(u).addToExtraData("is_trusted",m.isTrusted).log()},"KeyEventController");if(r===false)return{v:c("Event").kill(m)}}();if(typeof n==="object")return n.v}}catch(t){}}return true};k.prototype.resetHandlers=function(){"use strict";for(var l in this.handlers)if(Object.prototype.hasOwnProperty.call(this.handlers,l)){var m=this.handlers[l].filter(function(n){return n.preserve()});if(m.length)this.handlers[l]=m;else delete this.handlers[l]}};k.getInstance=function(){"use strict";return h||(h=new k())};k.defaultFilter=function(event,l){"use strict";event=c("Event").$E(event);return k.filterEventTypes(event,l)&&k.filterEventTargets(event,l)&&k.filterEventModifiers(event,l)};k.filterEventTypes=function(event,l){"use strict";if(l==="onkeydown")return true;return false};k.filterEventTargets=function(event,l){"use strict";var m=event.getTarget();return!c("isElementInteractive")(m)||event.keyCode in j&&(c("DOMQuery").isNodeOfType(m,["input","textarea"])&&m.value.length===0||c("isContentEditable")(m)&&c("getElementText")(m).length===0)};k.filterEventModifiers=function(event,l){"use strict";if(event.ctrlKey||event.altKey||event.metaKey||event.repeat)return false;return true};k.registerKey=function(l,m){__p&&__p();var n=arguments.length<=2||arguments[2]===undefined?k.defaultFilter:arguments[2],o=arguments.length<=3||arguments[3]===undefined?false:arguments[3],p=arguments.length<=4||arguments[4]===undefined?c("emptyFunction").thatReturnsFalse:arguments[4];"use strict";var q=k.getInstance(),r=q.mapKey(l);if(c("isEmpty")(q.handlers))c("Run").onLeave(q.resetHandlers.bind(q));var s={};for(var t=0;t<r.length;t++){l=r[t];if(!q.handlers[l]||o)q.handlers[l]=[];var u={callback:m,filter:n,preserve:p};s[l]=u;q.handlers[l].push(u)}return{remove:function v(){for(var w in s){if(q.handlers[w]&&q.handlers[w].length){var x=q.handlers[w].indexOf(s[w]);x>=0&&q.handlers[w].splice(x,1)}delete s[w]}}}};f.exports=k}),null);
__d("Layer",["invariant","KeyStatus","ArbiterMixin","BehaviorsMixin","BootloadedReact","ContextualThing","CSS","DataStore","DOM","Event","FBLogger","HTML","KeyEventController","Parent","Style","ge","isNode","mixin","removeFromArray","setImmediate"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;c("KeyStatus");var k=[];i=babelHelpers.inherits(l,c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));j=i&&i.prototype;function l(o,p){"use strict";j.constructor.call(this);this._config=o||{};if(p){this._configure(this._config,p);var q=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(q))}else c("FBLogger")("layer").warn("The markup param wasn't provided to the Layer constructor")}l.prototype.init=function(o){"use strict";this._configure(this._config,o);var p=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(p));this._initialized=true;return this};l.prototype._configure=function(o,p){__p&&__p();var q,r=this;"use strict";if(p){var s=c("isNode")(p),t=typeof p==="string"||c("HTML").isHTML(p);this.containsReactComponent=c("BootloadedReact").isValidElement(p);if(!s&&!t&&!this.containsReactComponent)c("FBLogger")("layer").warn("Layer must be init with HTML, DOM node or React instance");if(t)p=c("HTML")(p).getRootNode();else if(this.containsReactComponent){var u;(function(){u=document.createElement("div");var v=true;c("BootloadedReact").render(p,u,function(){this.inform("reactshow");if(!v)this.updatePosition()}.bind(r));v=false;p=r._reactContainer=u})()}}this._root=this._buildWrapper(o,p);if(o.attributes)c("DOM").setAttributes(this._root,o.attributes);if(o.classNames)o.classNames.forEach(c("CSS").addClass.bind(null,this._root));c("CSS").addClass(this._root,"uiLayer");if(o.causalElement)this._causalElement=c("ge")(o.causalElement);if(o.permanent)this._permanent=o.permanent;if(o.isStrictlyControlled)this._isStrictlyControlled=o.isStrictlyControlled;c("DataStore").set(this._root,"layer",this)};l.prototype._getDefaultBehaviors=function(){"use strict";return[]};l.prototype.getCausalElement=function(){"use strict";return this._causalElement};l.prototype.setCausalElement=function(o){"use strict";this._causalElement=o;return this};l.prototype.getInsertParent=function(){"use strict";return this._insertParent||document.body};l.prototype.getRoot=function(){"use strict";if(!this._root)if(this._destroyed)c("FBLogger")("layer").warn("No root node for this Layer. It has either not yet been set or the Layer has been destroyed.  This layer has been destroyed.");else c("FBLogger")("layer").warn("No root node for this Layer. It has probably not been set.");return this._root};l.prototype.getContentRoot=function(){"use strict";return this.getRoot()};l.prototype._buildWrapper=function(o,p){"use strict";return p};l.prototype.setInsertParent=function(o){"use strict";if(o){if(this._shown&&o!==this.getInsertParent()){c("DOM").appendContent(o,this.getRoot());this.updatePosition()}this._insertParent=o}return this};l.prototype.showAfterDelay=function(o){"use strict";setTimeout(this.show.bind(this),o)};l.prototype.show=function(){"use strict";__p&&__p();if(this._shown)return this;var o=this.getRoot();o!=null||h(0);this.inform("beforeshow");c("Style").set(o,"visibility","hidden");c("Style").set(o,"overflow","hidden");c("CSS").show(o);c("DOM").appendContent(this.getInsertParent(),o);if(this.updatePosition()!==false){this._shown=true;this.inform("show");l.inform("show",this);if(!this._permanent)setTimeout(function(){if(this._shown)k.push(this)}.bind(this),0)}else c("CSS").hide(o);c("Style").set(o,"visibility","");c("Style").set(o,"overflow","");c("Style").set(o,"opacity","1");this.inform("aftershow");return this};l.prototype.hide=function(o){"use strict";if(this._isStrictlyControlled){this._shown&&this.inform("runhide",o);return this}return this._hide()};l.prototype._hide=function(){"use strict";if(this._hiding||!this._shown||this.inform("beforehide")===false)return this;this._hiding=true;if(this.inform("starthide")!==false)this.finishHide();return this};l.prototype.conditionShow=function(o){"use strict";return o?this.show():this._hide()};l.prototype.finishHide=function(){"use strict";__p&&__p();if(this._shown){if(!this._permanent)c("removeFromArray")(k,this);this._hiding=false;this._shown=false;var o=this.getRoot();o!=null||h(0);c("CSS").hide(o);this.inform("hide");l.inform("hide",this)}};l.prototype.isShown=function(){"use strict";return this._shown};l.prototype.updatePosition=function(){"use strict";return true};l.prototype.destroy=function(){"use strict";__p&&__p();if(this.containsReactComponent)c("BootloadedReact").unmountComponentAtNode(this._reactContainer);this.finishHide();var o=this.getRoot();c("DOM").remove(o);this.destroyBehaviors();this.inform("destroy");l.inform("destroy",this);c("DataStore").remove(o,"layer");this._root=this._causalElement=null;this._destroyed=true};l.init=function(o,p){"use strict";o.init(p)};l.initAndShow=function(o,p){"use strict";o.init(p).show()};l.show=function(o){"use strict";o.show()};l.showAfterDelay=function(o,p){"use strict";o.showAfterDelay(p)};l.getTopmostLayer=function(){"use strict";return k[k.length-1]};Object.assign(l,c("ArbiterMixin"));Object.assign(l.prototype,{_destroyed:false,_initialized:false,_root:null,_shown:false,_hiding:false,_causalElement:null,_reactContainer:null});c("Event").listen(document.documentElement,"keydown",function(event){if(c("KeyEventController").filterEventTargets(event,"keydown"))for(var o=k.length-1;o>=0;o--)if(k[o].inform("key",event)===false)return false;return true},c("Event").Priority.URGENT);var m;c("Event").listen(document.documentElement,"mousedown",function(event){m=event.getTarget()});var n;c("Event").listen(document.documentElement,"mouseup",function(event){n=event.getTarget();c("setImmediate")(function(){m=null;n=null})});c("Event").listen(document.documentElement,"click",function(event){__p&&__p();var o=m,p=n;m=null;n=null;var q=k.length;if(!q)return;var r=event.getTarget();if(r!==p||r!==o)return;if(!c("DOM").contains(document.documentElement,r))return;if(!r.offsetWidth)return;if(c("Parent").byClass(r,"generic_dialog"))return;while(q--){var s=k[q],t=s.getContentRoot();t!=null||h(0);if(c("ContextualThing").containsIncludingLayers(t,r))return;if(s.inform("blur",{target:r})===false||s.isShown())return}});f.exports=l}),null);
__d("focusWithinLayer",["DOMQuery","Focus","TabbableElements","getActiveElement"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){__p&&__p();var k=c("DOMQuery").scry(i,".autofocus")[0],l=true;if(!k){var m=c("getActiveElement")();if(c("DOMQuery").isNodeOfType(m,["input","textarea"]))return;var n=c("TabbableElements").find(i);for(var o=0;o<n.length;o++){var p=n[o];if(p.tagName!=="A"||p.getAttribute("role")==="button"){k=n[o];break}}}else if(k.tabIndex!==0)l=false;if(k)l?c("Focus").set(k,j):c("Focus").setWithoutOutline(k);else if(!i.offsetWidth){i.tabIndex=-1;c("Focus").setWithoutOutline(i)}}f.exports=h}),null);
__d("LayerAutoFocus",["focusWithinLayer"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i;this._subscription=null}h.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("aftershow",this._focus.bind(this))};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};h.prototype._focus=function(){"use strict";var i=this._layer.getRoot();i&&c("focusWithinLayer")(i)};f.exports=h}),null);
__d("LayerHideSources",[],(function a(b,c,d,e,f,g){var h=Object.freeze({BLUR:"blur",ESCAPE:"escape",LAYER_CANCEL_BUTTON:"layerCancelButton",LAYER_HIDE_BUTTON:"layerHideButton"});f.exports=h}),null);
__d("LayerButtons",["csx","Button","Event","LayerHideSources","Parent"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j){"use strict";this._layer=j}i.prototype.enable=function(){"use strict";this._listener=c("Event").listen(this._layer.getRoot(),"click",this._handle.bind(this))};i.prototype.disable=function(){"use strict";this._listener.remove();this._listener=null};i.prototype._handle=function(j){"use strict";__p&&__p();var k=j.getTarget(),l=c("Parent").byClass(k,"layerHide");if(l){this._layer.hide(c("LayerHideSources").LAYER_HIDE_BUTTON);return}var m=c("Parent").byClass(k,"layerConfirm");if(m){if(this._isButton(m)&&!c("Button").isEnabled(m))return;if(this._isInNestedLayer(m))return;if(this._layer.inform("confirm",m)===false)j.prevent();return}var n=c("Parent").byClass(k,"layerCancel");if(n){if(this._isButton(n)&&!c("Button").isEnabled(n))return;if(this._isInNestedLayer(n))return;if(this._layer.inform("cancel",n)!==false)this._layer.hide(c("LayerHideSources").LAYER_CANCEL_BUTTON);j.prevent();return}var o=c("Parent").byClass(k,"layerButton");if(o){if(this._isButton(o)&&!c("Button").isEnabled(o))return;if(this._isInNestedLayer(o))return;if(this._layer.inform("button",o)===false)j.prevent()}};i.prototype._isInNestedLayer=function(j){"use strict";var k=c("Parent").byClass(j,"uiLayer"),l=this._layer.getRoot();return!!(k&&l!==k)};i.prototype._isButton=function(j){"use strict";return!!(c("Parent").byClass(j,"uiButton")||c("Parent").bySelector(j,"._42ft"))};i.prototype._listener=null;f.exports=i}),null);
__d("LayerFormHooks",["Event"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";var i=this._layer.getRoot();this._subscriptions=[c("Event").listen(i,"submit",this._onSubmit.bind(this)),c("Event").listen(i,"success",this._onSuccess.bind(this)),c("Event").listen(i,"error",this._onError.bind(this))]};h.prototype.disable=function(){"use strict";this._subscriptions.forEach(function(i){i.remove()});this._subscriptions=null};h.prototype._onSubmit=function(event){"use strict";if(this._layer.inform("submit",event)===false)event.kill()};h.prototype._onSuccess=function(event){"use strict";if(this._layer.inform("success",event)===false)event.kill()};h.prototype._onError=function(event){"use strict";var i=event.getData();if(this._layer.inform("error",{response:i.response})===false)event.kill()};Object.assign(h.prototype,{_subscriptions:null});f.exports=h}),null);
__d("LayerRefocusOnHide",["ContextualThing","DOM","DOMQuery","Focus","Parent","getActiveElement"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("hide",this._handle.bind(this))};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};h.prototype._handle=function(i,event){"use strict";__p&&__p();var j=c("getActiveElement")();if(j===document.body||c("DOMQuery").contains(this._layer.getRoot(),j)){var k=this._layer.getCausalElement();while(k&&!k.offsetWidth){var l=c("Parent").byClass(k,"uiToggle");if(l&&l.offsetWidth)k=c("DOM").scry(l,'[rel="toggle"]')[0];else{var m=c("ContextualThing").getContext(k);if(m)k=m;else k=k.parentNode}}if(k)c("Focus").set(k)}};Object.assign(h.prototype,{_subscription:null});f.exports=h}),null);
__d("queryThenMutateDOM",["Env","ErrorUtils","Run","TimeSlice","emptyFunction","gkx","removeFromArray","requestAnimationFrame","requestAnimationFrameAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j={},k=[],l=[];function m(q,r,s){__p&&__p();if(!q&&!r)return{cancel:c("emptyFunction")};if(s&&Object.prototype.hasOwnProperty.call(j,s))return{cancel:c("emptyFunction")};else if(s)j[s]=1;var t=c("TimeSlice").guard(r||c("emptyFunction"),"queryThenMutateDOM mutation callback",{propagationType:c("TimeSlice").PropagationType.CONTINUATION}),u=c("TimeSlice").guard(q||c("emptyFunction"),"queryThenMutateDOM query callback",{propagationType:c("TimeSlice").PropagationType.CONTINUATION});k.push(t);l.push(u);o();if(!h){h=true;c("Run").onLeave(function(){h=false;i=false;j={};k.length=0;l.length=0})}return{cancel:function v(){c("TimeSlice").cancel(t);c("TimeSlice").cancel(u);c("removeFromArray")(k,t);c("removeFromArray")(l,u)}}}m.prepare=function(q,r,s){return function(){for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];u.unshift(this);var w=Function.prototype.bind.apply(q,u),x=r.bind(this);m(w,x,s)}};var n=c("TimeSlice").guard(function(){__p&&__p();while(l.length){j={};var q=[];if(c("gkx")("AT52sTP_5lkBPKbNz2mUZWsbcEDkBzQg0lQckIsVf32rCwFPbCAUTv2-qAeYwt3QMKM"))window.document.body.getClientRects();while(l.length){var r=l.shift();q.push(p(r))}var s=q.length;while(s--){var t=k.shift();p(t,null,[q.shift()])}}i=false},"queryThenMutateDOM runScheduledQueriesAndMutations",{propagationType:c("TimeSlice").PropagationType.ORPHAN});function o(){if(!i&&(l.length||k.length)){i=true;c("requestAnimationFrame")(n,{priority:c("requestAnimationFrameAcrossTransitions").Priorities.QUERY_THEN_MUTATE})}}function p(q,r,s,t,u){return c("ErrorUtils").applyWithGuard(q,r,s,t,u)}f.exports=m}),null);
__d("Toggler",["csx","invariant","Arbiter","ArbiterMixin","ContextualThing","CSS","DataStore","DOM","DOMQuery","Event","Focus","Keys","Parent","TabbableElements","TimeSlice","createArrayFromMixed","emptyFunction","ge","getContextualParent","getObjectValues","killswitch","mixin","setImmediate","queryThenMutateDOM","$"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=[],m,n=false;function o(){if(!n){n=true;c("setImmediate")(function(){n=false})}}var p=function t(){p=c("emptyFunction");c("Event").listen(document.documentElement,"click",function(event){if(n)return;var u=event.getTarget();l.forEach(function(v){v.clickedTarget=u;v.active&&!v.sticky&&!c("ContextualThing").containsIncludingLayers(v.getActive(),u)&&!v.inTargetFlyout(u)&&v.inActiveDialog()&&!v.isIgnoredByModalLayer(u)&&v.hide()})},c("Event").Priority.URGENT)};j=babelHelpers.inherits(q,c("mixin")(c("ArbiterMixin")));k=j&&j.prototype;function q(){"use strict";k.constructor.call(this);this.active=null;this.togglers={};this.setSticky(false);this.setFastShow(false);l.push(this);this.subscribe(["show","hide"],q.inform.bind(q));return p()}q.prototype.focusFirstTabbableDescendant=function(t,u){__p&&__p();var v;"use strict";if(u.fastShow)(function(){__p&&__p();if(u.$Toggler2)u.$Toggler2.cancel();var y=null;u.$Toggler2=c("queryThenMutateDOM")(function(){var w=c("DOMQuery").find(t,".uiToggleFlyout");y=c("TabbableElements").findFirst(w)||w},function(){delete u.$Toggler2;if(y){if(y.tabIndex==-1)y.tabIndex=0;c("Focus").setWithoutOutline(y)}})})();else{var w=c("DOMQuery").scry(t,".uiToggleFlyout")[0];if(w){var x=c("TabbableElements").find(w)[0]||w;if(x.tabIndex==-1)x.tabIndex=0;c("Focus").setWithoutOutline(x)}}};q.prototype.show=function(t){"use strict";__p&&__p();var u=r(this,t),v=u.active;if(t!==v){v&&u.hide();u.active=t;c("CSS").addClass(t,"openToggler");var w=c("DOM").scry(t,'a[rel="toggle"]');if(w.length>0&&w[0].getAttribute("data-target"))c("CSS").removeClass(c("$")(w[0].getAttribute("data-target")),"toggleTargetClosed");this.focusFirstTabbableDescendant(t,u);if(w.length>0){c("DOM").appendContent(t,u.getToggler("next"));c("DOM").prependContent(t,u.getToggler("prev"))}c("Event").listen(t,"keydown",function(event){if(c("Event").getKeyCode(event)===c("Keys").ESC)if(u.isShown()){var x=c("DOM").scry(t,'a[rel="toggle"]')[0];x&&x.focus();u.hide();event.kill()}});if(t.getAttribute("data-toggle-wc"))u.__continuation=c("TimeSlice").getGuardedContinuation("Toggler.show inform");u.inform("show",u,c("Arbiter").BEHAVIOR_STATE)}};q.prototype.hide=function(t){"use strict";__p&&__p();var u=r(this,t);if(u.$Toggler2)u.$Toggler2.cancel();var v=u.active;if(v&&(!t||t===v)){c("CSS").removeClass(v,"openToggler");var w=c("DOM").scry(v,'a[rel="toggle"]');if(w.length>0&&w[0].getAttribute("data-target"))c("CSS").addClass(c("$")(w[0].getAttribute("data-target")),"toggleTargetClosed");c("getObjectValues")(u.togglers).forEach(c("DOM").remove);if(v.getAttribute("data-toggle-wc"))u.__continuation=c("TimeSlice").getGuardedContinuation("Toggler.hide inform");u.inform("hide",u,c("Arbiter").BEHAVIOR_STATE);u.active=null}};q.prototype.toggle=function(t){"use strict";var u=r(this,t);if(u.active===t)u.hide();else u.show(t);o()};q.prototype.getActive=function(){"use strict";return r(this).active};q.prototype.isShown=function(){"use strict";return r(this).active&&c("CSS").hasClass(r(this).active,"openToggler")};q.isNodeShown=function(t){"use strict";return c("CSS").hasClass(t,"openToggler")};q.prototype.inTargetFlyout=function(t){"use strict";var u=s(this.getActive());return Boolean(u&&c("ContextualThing").containsIncludingLayers(u,t))};q.prototype.inActiveDialog=function(){"use strict";var t=b.Dialog&&b.Dialog.getCurrent();return!t||c("DOM").contains(t.getRoot(),this.getActive())};q.prototype.isIgnoredByModalLayer=function(t){"use strict";var u=!!c("Parent").bySelector(t,"._3qw"),v=!!c("Parent").bySelector(this.getActive(),"._3qw");return u&&!v};q.prototype.getToggler=function(t){"use strict";__p&&__p();var u=r(this);if(!u.togglers[t]){u.togglers[t]=c("DOM").create("button",{className:"hideToggler",onfocus:function v(){var w=c("DOM").scry(u.active,'a[rel="toggle"]')[0];w&&w.focus();u.hide()},style:{right:t==="next"?"0":""}});u.togglers[t].setAttribute("type","button")}return this.togglers[t]};q.prototype.setSticky=function(t){"use strict";__p&&__p();var u=r(this);t=t!==false;if(t!==u.sticky){u.sticky=t;if(t)u.$Toggler1&&u.$Toggler1.unsubscribe();else u.$Toggler1=c("Arbiter").subscribe("pre_page_transition",u.hide.bind(u,null))}return u};q.prototype.setFastShow=function(t){"use strict";var u=r(this);u.fastShow=t;return u};q.prototype.setPrePageTransitionCallback=function(t){"use strict";var u=r(this);u.$Toggler1&&u.$Toggler1.unsubscribe();u.$Toggler1=c("Arbiter").subscribe("pre_page_transition",t)};q.bootstrap=function(t){"use strict";var u=t.parentNode;u!=null||i(0);var v=q.getInstance(u);v!=null||i(0);v.toggle(u)};q.createInstance=function(t){"use strict";var u=new q().setSticky(true);c("DataStore").set(t,"toggler",u);return u};q.destroyInstance=function(t){"use strict";var u=c("DataStore").get(t,"toggler");if(u&&u.$Toggler2)u.$Toggler2.cancel();c("DataStore").remove(t,"toggler")};q.getInstance=function(t){"use strict";__p&&__p();while(t){var u=c("DataStore").get(t,"toggler");if(u)return u;if(c("CSS").hasClass(t,"uiToggleContext"))return q.createInstance(t);else if(!c("killswitch")("JEWEL_TOGGLER_INSTANCE_FIXES")&&c("CSS").hasClass(t,"uiToggleFlyout"))return q.createInstance(t).setSticky(false);t=c("getContextualParent")(t)}return m=m||new q()};q.listen=function(t,u,v){"use strict";__p&&__p();return q.subscribe(c("createArrayFromMixed")(t),function(w,x){if(x.getActive()===u){if(x.__continuation){var y=x.__continuation;delete x.__continuation;return y(function(){return v(w,x)})}return v(w,x)}})};Object.assign(q,q.prototype,c("ArbiterMixin"));Object.assign(q,{subscribe:function(t){return function(u,v){u=c("createArrayFromMixed")(u);if(u.includes("show"))l.forEach(function(w){if(w.getActive())setTimeout(v.bind(null,"show",w),0)});return t(u,v)}}(q.subscribe.bind(q))});function r(t,u){if(t instanceof q)return t;return q.getInstance(u)}function s(t){var u=c("DOM").scry(t,'a[rel="toggle"]');if(u.length>0&&u[0].getAttribute("data-target"))return c("ge")(u[0].getAttribute("data-target"));return null}f.exports=q}),null);
__d("LayerTogglerContext",["Toggler"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._root=this._layer.getRoot();c("Toggler").createInstance(this._root).setSticky(false)};h.prototype.disable=function(){"use strict";c("Toggler").destroyInstance(this._root);this._root=null};f.exports=h}),null);
__d("DOMDimensions",["Style","getDocumentScrollElement"],(function a(b,c,d,e,f,g){__p&&__p();var h={getElementDimensions:function i(j){return{width:j.offsetWidth||0,height:j.offsetHeight||0}},getDocumentDimensions:function i(j){var k=c("getDocumentScrollElement")(j),l=k.scrollWidth||0,m=k.scrollHeight||0;return{width:l,height:m}},measureElementBox:function i(j,k,l,m,n){__p&&__p();var o;switch(k){case"left":case"right":case"top":case"bottom":o=[k];break;case"width":o=["left","right"];break;case"height":o=["top","bottom"];break;default:throw Error("Invalid plane: "+k)}var p=function p(q,r){var s=0;for(var t=0;t<o.length;t++)s+=parseFloat(c("Style").get(j,q+"-"+o[t]+r))||0;return s};return(l?p("padding",""):0)+(m?p("border","-width"):0)+(n?p("margin",""):0)}};f.exports=h}),null);
__d("ScrollAwareDOM",["ArbiterMixin","CSS","DOM","DOMDimensions","HTML","Vector","ViewportBounds","getDocumentScrollElement","getElementPosition","getViewportDimensions","isAsyncScrollQuery","isNode"],(function a(b,c,d,e,f,g){__p&&__p();function h(m,n){return function(){var o=arguments;l.monitor(arguments[m],function(){n.apply(null,o)})}}function i(m){__p&&__p();if(!(m instanceof Array))m=[m];for(var n=0;n<m.length;n++){var o=c("HTML").replaceJSONWrapper(m[n]);if(o instanceof c("HTML"))return o.getRootNode();else if(c("isNode")(o))return o}return null}function j(m){return c("getElementPosition")(m).y>c("ViewportBounds").getTop()}function k(m){var n=c("getElementPosition")(m).y+c("DOMDimensions").getElementDimensions(m).height,o=c("getViewportDimensions")().height-c("ViewportBounds").getBottom();return n>=o}var l=babelHelpers["extends"]({monitor:function m(n,o){__p&&__p();if(c("isAsyncScrollQuery")())return o();var p=i(n);if(p){var q=!!p.offsetParent;if(q&&(j(p)||k(p)))return o();var r=c("Vector").getDocumentDimensions(),s=o();if(q||p.offsetParent&&!j(p)){var t=c("Vector").getDocumentDimensions().sub(r),u={delta:t,target:p};if(l.inform("scroll",u)!==false)t.scrollElementBy(c("getDocumentScrollElement")())}return s}else return o()},replace:function m(n,o){var p=i(o);if(!p||c("CSS").hasClass(p,"hidden_elem"))p=n;return l.monitor(p,function(){c("DOM").replace(n,o)})},prependContent:h(1,c("DOM").prependContent),insertAfter:h(1,c("DOM").insertAfter),insertBefore:h(1,c("DOM").insertBefore),setContent:h(0,c("DOM").setContent),appendContent:h(1,c("DOM").appendContent),remove:h(0,c("DOM").remove),empty:h(0,c("DOM").empty)},c("ArbiterMixin"));f.exports=l}),null);
__d("ModalLayer",["csx","cx","Arbiter","ArbiterMixin","CSS","DataStore","DOM","DOMDimensions","DOMQuery","Event","Scroll","ScrollAwareDOM","Style","UserAgent","Vector","debounceAcrossTransitions","getDocumentScrollElement","isAsyncScrollQuery","removeFromArray","setTimeoutAcrossTransitions","ge"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=[],k=null,l=null,m=null;function n(){if(!m)m=c("DOMQuery").scry(document.body,"._li")[0]||c("ge")("FB4BResponsiveMain");return m}function o(v){__p&&__p();var w={position:c("Vector").getScrollPosition(),listener:undefined},x=v.offsetTop-w.position.y;c("CSS").addClass(v,"_31e");c("Style").set(v,"top",x+"px");c("Arbiter").inform("reflow");w.listener=c("ScrollAwareDOM").subscribe("scroll",function(y,z){if(c("DOMQuery").contains(v,z.target)){var x=v.offsetTop-z.delta.y;c("Style").set(v,"top",x+"px");w.position=w.position.add(z.delta);return false}return true});c("DataStore").set(v,"ModalLayerData",w)}function p(v,w){__p&&__p();var x=c("DataStore").get(v,"ModalLayerData");if(x){var y=function y(){__p&&__p();c("CSS").removeClass(v,"_31e");c("Style").set(v,"top","");if(w){var A=c("getDocumentScrollElement")();c("Scroll").setTop(A,x.position.y);if(c("Scroll").getTop(A)!==x.position.y){c("Scroll").setTop(A,x.position.y+1);c("Scroll").setTop(A,x.position.y)}}c("Arbiter").inform("reflow");x.listener.unsubscribe();x.listener=null;c("DataStore").remove(v,"ModalLayerData")};if(w&&c("isAsyncScrollQuery")()){var z=c("DOM").create("div",{className:"_42w"});c("Style").set(z,"height",v.offsetHeight+"px");c("DOM").appendContent(document.body,z);var A=c("getDocumentScrollElement")();c("Scroll").setTop(A,x.position.y);w=false;setTimeout(function(){y();c("DOM").remove(z)},0)}else y()}}function q(){var v=n();if(v!=null&&!c("CSS").matchesSelector(v,"._31e"))o(v)}function r(){if(!j.length)p(n(),true)}function s(){__p&&__p();var v=j.length;while(v--){var w=j[v],x=w.getLayerRoot();if(x){t(x,0);var y=w.getLayerContentRoot();if(y){var z=y.offsetWidth+c("DOMDimensions").measureElementBox(y,"width",0,0,1);t(x,z)}}}}function t(v,w){c("Style").set(v,"min-width",w+(w?"px":""))}function u(v){"use strict";this._layer=v;this._enabled=false}u.prototype.enable=function(){"use strict";if(!n())return;this._subscription=this._layer.subscribe(["show","hide"],function(v){v=="show"?this._addModal():this._removeModal()}.bind(this));if(this._layer.isShown())this._addModal();this._enabled=true};u.prototype.disable=function(){"use strict";if(!n())return;this._subscription&&this._subscription.unsubscribe();if(this._layer.isShown())this._removeModal();this._enabled=false};u.prototype._addModal=function(){"use strict";__p&&__p();var v=this.getLayerRoot();c("CSS").addClass(v,"_3qw");this._wash=c("DOM").create("div",{className:"_3ixn"});c("DOM").prependContent(v,this._wash);var w=j[j.length-1];if(w)o(w.getLayerRoot());else q();var x=c("getDocumentScrollElement")();c("Scroll").setTop(x,0);if(!j.length){var y=c("debounceAcrossTransitions")(s,100);k=c("Event").listen(window,"resize",y);l=c("Arbiter").subscribe("reflow",y)}j.push(this);u.inform("show",this);setTimeout(s,0)};u.prototype._removeModal=function(){"use strict";__p&&__p();var v=this.getLayerRoot();c("CSS").removeClass(v,"_3qw");c("DOM").remove(this._wash);this._wash=null;t(v,0);var w=this===j[j.length-1];c("removeFromArray")(j,this);if(!j.length){k&&k.remove();k=null;l&&l.unsubscribe();l=null}var x=void 0,y=void 0;if(c("UserAgent").isBrowser("Safari")){x=c("Event").listen(document.documentElement,"mousewheel",c("Event").prevent);y=x.remove.bind(x)}c("setTimeoutAcrossTransitions")(function(){__p&&__p();var z=j[j.length-1];if(z){p(z.getLayerRoot(),w);u.inform("show",z)}else{r();u.inform("hide",this)}if(j.length)setTimeout(s,0);if(c("UserAgent").isBrowser("Safari"))setTimeout(function(){y()},0)}.bind(this),200)};u.prototype.getLayerRoot=function(){"use strict";return this._enabled?this._layer.getRoot():null};u.prototype.getLayerContentRoot=function(){"use strict";return this._enabled?this._layer.getContentRoot():null};u.getTopmostModalLayer=function(){"use strict";return j[j.length-1]};Object.assign(u,c("ArbiterMixin"));f.exports=u}),null);
__d("DialogX",["cx","fbt","Arbiter","CSS","DialogPosition","DOMQuery","Event","JSXDOM","Layer","LayerAutoFocus","LayerButtons","LayerFormHooks","LayerRefocusOnHide","LayerTabIsolation","LayerTogglerContext","ModalLayer","Style","Vector","debounce","getOrCreateDOMID","goURI","shield"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("Layer"));k=j&&j.prototype;l.prototype._configure=function(n,o){"use strict";__p&&__p();k._configure.call(this,n,o);c("CSS").addClass(this.getRoot(),"_4-hy");if(n.autohide)var p=this.subscribe("show",function(){p.unsubscribe();setTimeout(c("shield")(this.hide,this),n.autohide)}.bind(this));if(n.redirectURI)var q=this.subscribe("hide",function(){q.unsubscribe();c("goURI")(n.redirectURI)});this._fixedTopPosition=n.fixedTopPosition;this._ignoreFixedTopInShortViewport=n.ignoreFixedTopInShortViewport};l.prototype._getDefaultBehaviors=function(){"use strict";return k._getDefaultBehaviors.call(this).concat([m,c("ModalLayer"),c("LayerAutoFocus"),c("LayerButtons"),c("LayerFormHooks"),c("LayerTabIsolation"),c("LayerTogglerContext"),c("LayerRefocusOnHide")])};l.prototype._buildWrapper=function(n,o){"use strict";__p&&__p();var p=n.xui?"_4t2a":"_t",q=n.xui?"_59s7":"_1yv";this._innerContent=c("JSXDOM").div(null,o);var r={className:q,role:"dialog"};if(n.labelledBy)r["aria-labelledby"]=n.labelledBy;else if(n.label)r["aria-label"]=n.label;else if(n.titleID)r["aria-labelledby"]=n.titleID;else if(n.titleClass){var s=c("DOMQuery").scry(this._innerContent,n.titleClass);if(s.length){var t=c("getOrCreateDOMID")(s[0]);r["aria-labelledby"]=t}else r["aria-label"]=this._getDefaultLabel()}else r["aria-label"]=this._getDefaultLabel();var u={className:p};if(n["data-testid"])u["data-testid"]=n["data-testid"];this._wrapper=c("JSXDOM").div(r,c("JSXDOM").div(u,this._innerContent));this.setWidth(n.width);return c("JSXDOM").div({className:"_10"},this._wrapper)};l.prototype._getDefaultLabel=function(){"use strict";return i._("Dialogue content")};l.prototype.getContentRoot=function(){"use strict";return this._wrapper};l.prototype.getInnerContent=function(){"use strict";return this._innerContent};l.prototype.updatePosition=function(){"use strict";var n=c("Vector").getElementDimensions(this._wrapper),o=c("DialogPosition").calculateTopMargin(n.x,n.y,this._fixedTopPosition,this._ignoreFixedTopInShortViewport);c("Style").set(this._wrapper,"margin-top",o+"px");this.inform("update_position",{type:"DialogX",top:o})};l.prototype.setWidth=function(n){"use strict";n=Math.floor(n);if(n===this._width)return;this._width=n;c("Style").set(this._wrapper,"width",n+"px")};l.prototype.getWidth=function(){"use strict";return this._width};l.prototype.getFixedTopPosition=function(){"use strict";return this._fixedTopPosition};l.prototype.shouldIgnoreFixedTopInShortViewport=function(){"use strict";return this._ignoreFixedTopInShortViewport};function l(){"use strict";j.apply(this,arguments)}function m(n){"use strict";this._layer=n}m.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe(["show","hide"],function(n){if(n==="show"){this._attach();c("Arbiter").inform("layer_shown",{type:"DialogX"})}else{this._detach();c("Arbiter").inform("layer_hidden",{type:"DialogX"})}}.bind(this))};m.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;this._resize&&this._detach()};m.prototype._attach=function(){"use strict";this._layer.updatePosition();this._resize=c("Event").listen(window,"resize",c("debounce")(this._layer.updatePosition.bind(this._layer)))};m.prototype._detach=function(){"use strict";this._resize.remove();this._resize=null};Object.assign(m.prototype,{_subscription:null,_resize:null});f.exports=l}),null);
__d("LayerHideOnBlur",["LayerHideSources","requestAnimationFrame"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._subscriptions=[this._layer.subscribe("show",this._attach.bind(this)),this._layer.subscribe("hide",this._detach.bind(this))];if(this._layer.isShown())this._attach()};h.prototype.disable=function(){"use strict";this._detach();while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null};h.prototype._detach=function(){"use strict";this._onBlur&&this._onBlur.unsubscribe();this._onBlur=null};h.prototype._attach=function(){"use strict";this._onBlur=this._layer.subscribe("blur",function(){return c("requestAnimationFrame")(function(){this._layer.hide(c("LayerHideSources").BLUR);return false}.bind(this))}.bind(this))};Object.assign(h.prototype,{_subscriptions:null,_onBlur:null});f.exports=h}),null);
__d("LayerHideOnEscape",["Event","Keys","LayerHideSources"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("key",this._handle.bind(this))};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};h.prototype._handle=function(i,event){"use strict";if(c("Event").getKeyCode(event)===c("Keys").ESC){this._layer.hide(c("LayerHideSources").ESCAPE);return false}};Object.assign(h.prototype,{_subscription:null});f.exports=h}),null);
__d("LayerFadeOnShow",["Bootloader","Run","UserAgent_DEPRECATED","emptyFunction","ifRequired"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i;c("Run").onAfterLoad(function(){c("Bootloader").loadModules(["CSSFade"],c("emptyFunction"),"LayerFadeOnShow")})}h.prototype.enable=function(){"use strict";this._subscriptions=[this._layer.subscribe("show",this._animate.bind(this))]};h.prototype.disable=function(){"use strict";if(this._subscriptions){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null}};h.prototype._getDuration=function(){"use strict";return 100};h.prototype._animate=function(){"use strict";var i=this._layer.getRoot();c("ifRequired")("CSSFade",function(j){j.show(i,{duration:this._getDuration()})}.bind(this),function(){})};h.forDuration=function(i){var j,k;"use strict";j=babelHelpers.inherits(l,h);k=j&&j.prototype;function l(){j.apply(this,arguments)}l.prototype._getDuration=c("emptyFunction").thatReturns(i);return l};Object.assign(h.prototype,{_subscriptions:null});f.exports=h}),null);
__d("ShareNowConstants",["fbt"],(function a(b,c,d,e,f,g,h){f.exports={error:h._("This post could not be shared at this time. Please try again later."),success:h._("Your share was posted.")}}),null);
__d("TextDelightNuxID",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({POST_OPT_OUT_NUX:5477,COMMENT_OPT_OUT_NUX:5551})}),null);
__d("TranslationTrigger",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SEE_TRANSLATION:"see_translation",AUTO_TRANSLATION:"auto_translation",SEE_CONVERSION:"see_conversion",TRANSLATE_ALL:"translate_all",LOGGED_OUT_AUTO_TRANSLATION:"logged_out_auto_translation",NONE:"none"})}),null);
__d("PublicConversationsUnicornTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:PublicConversationsUnicornLoggerConfig",this.$PublicConversationsUnicornTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:PublicConversationsUnicornLoggerConfig",this.$PublicConversationsUnicornTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$PublicConversationsUnicornTypedLogger1={};return this};h.prototype.updateData=function(j){this.$PublicConversationsUnicornTypedLogger1=babelHelpers["extends"]({},this.$PublicConversationsUnicornTypedLogger1,j);return this};h.prototype.setCommentFbid=function(j){this.$PublicConversationsUnicornTypedLogger1.comment_fbid=j;return this};h.prototype.setVC=function(j){this.$PublicConversationsUnicornTypedLogger1.vc=j;return this};var i={comment_fbid:true,vc:true};f.exports=h}),null);
__d("ProfileBrowserLink",["URI"],(function a(b,c,d,e,f,g){var h="/ajax/browser/dialog/",i="/browse/",j=function j(l,m,n){return new(c("URI"))(l+m).setQueryData(n)},k={constructPageURI:function l(m,n){return j(i,m,n)},constructDialogURI:function l(m,n){return j(h,m,n)}};f.exports=k}),null);
__d("UFICommentLikeCount.react",["cx","fbt","ActorURI","NumberFormat","ProfileBrowserLink","ProfileBrowserTypes","React","SutroPhase2GatingConfig","URI"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=function m(o,p,q){var r=new(c("URI"))("/ajax/like/tooltip.php").setQueryData({comment_fbid:o.fbid,comment_from:o.author,comment_likecount:o.likecount||0,comment_id:o.id,cache_buster:o.likeconfirmhash||0});if(p)r.addQueryData({viewas:p});return c("ActorURI").create(r,q)};j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){var o=this.props.comment,p=o.likecount||0,q=c("NumberFormat").formatInteger(p),r=i._({"*":"{number} likes","_1":"1 Like"},[i.plural(p,"number")]),s=c("ProfileBrowserTypes").LIKES,t={id:o.fbid},u=m(this.props.comment,this.props.contextArgs.viewas,this.props.actorForPost),v=c("React").createElement("span",{className:"UFICommentReactionIconContainer"},c("React").createElement("i",{className:"_3j7l _2p78 _9--"})),w=c("React").createElement("span",null,q),x="UFICommentLikeButton"+(this.props.comment.hasviewerliked?" UFICommentLikedButton":"")+(c("SutroPhase2GatingConfig").enabled_ui40?" UFISutroLikeCount":""),y=c("ProfileBrowserLink").constructDialogURI(s,t).toString(),z=c("ProfileBrowserLink").constructPageURI(s,t).toString(),A="dialog",B=this.props.contextArgs.loggedOutLinkConfig;if(B&&B.showLikeLink){y=B.likeAjaxifyURI;z="#"}return c("React").createElement("a",{ajaxify:y,"aria-label":r,className:x,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":u.toString(),href:z,rel:A,role:"button"},v,w)};function n(){j.apply(this,arguments)}n.propTypes={actorForPost:l.string,comment:l.object.isRequired,contextArgs:l.object.isRequired};f.exports=n}),null);
__d("ReactionNuxTypeEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIKE_CLICK:"like_click",LIKE_CLICK_RENUX:"like_click_renux",SPATIAL_REACTIONS_NUX:"spatial_reactions_nux"})}),null);
__d("Deferred",["Promise"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();c("Promise").resolve();function h(i){i=i||c("Promise");this.$Deferred1=false;this.$Deferred2=new i(function(j,k){this.$Deferred3=j;this.$Deferred4=k}.bind(this))}h.prototype.getPromise=function(){return this.$Deferred2};h.prototype.resolve=function(i){this.$Deferred1=true;this.$Deferred3(i)};h.prototype.reject=function(i){this.$Deferred1=true;this.$Deferred4(i)};h.prototype["catch"]=function(i){return c("Promise").prototype["catch"].apply(this.$Deferred2,arguments)};h.prototype.then=function(i,j){return c("Promise").prototype.then.apply(this.$Deferred2,arguments)};h.prototype.done=function(i,j){var k=arguments.length?this.$Deferred2.then.apply(this.$Deferred2,arguments):this.$Deferred2;k.then(undefined,function(l){setTimeout(function(){throw l},0)})};h.prototype.isSettled=function(){return this.$Deferred1};f.exports=h}),null);
__d("curry",["bind"],(function a(b,c,d,e,f,g){var h=c("bind")(null,c("bind"),null);f.exports=h}),null);
__d("UFIReactionsLinkImpl.react",["csx","cx","fbt","Promise","BanzaiLogger","BootloadedComponent.react","Bootloader","Event","JSResource","Parent","React","ReactDOM","ReactionNuxTypeEnum","Run","ShimButton.react","SubscriptionsHandler","SutroPhase2GatingConfig","SutroStoryHeaderUFIGatingConfig","UFICommentAction","UFIConfig","UFILikeWebDriverIDs","UFIReactionIconImpl.react","UFIReactionTypes","UFIStoryAction","addFocusEvents","shallowCompare","curry"],(function a(b,c,d,aa,e,ba,ca,da,f){__p&&__p();var g,h,i=c("React").Component,j=c("React").PropTypes,k=c("UFIConfig").reactionsFunnelLogger,l=c("UFIConfig").reactionsHasCommentFunnelLogger,m=c("UFIConfig").reactionsHasFunnelLogger,n=false,o=false,p=false,q=null,r=null,s=null,t=void 0,u=c("React").createElement("div",null),v=150,w=c("UFIReactionTypes").reactions,x=Object.keys(w),y=c("UFIConfig").reactionsAnimatedIconsPreloadTechnique||"on_hover",z=20,A=525,B=750,C=700,D=850,E=500,F="ontouchstart"in window,G=f._("Show More Reactions"),H=f._("New! React to what's happening in different parts of the video"),I=[],J=function J(P){__p&&__p();if(!q){var Q=function Q(R){q=R;if(I){I.forEach(function(Q){return Q()});I=null}};if(c("UFIConfig").reactionsHasAnimatedIcons)c("Bootloader").loadModules(["UFIReactionsMenuWithAnimatedIcons.react"],Q,"UFIReactionsLinkImpl.react");else c("Bootloader").loadModules(["UFIReactionsMenuImpl.react"],Q,"UFIReactionsLinkImpl.react")}},K=function K(P){if(!r||!s||!t){var Q=function Q(R,S,T){r=R;s=S;t=T;P()};c("Bootloader").loadModules(["SpatialReactionsProductionStore","SphericalVideoComponentActions","SpatialReactionClickAnimation","SpatialReactionFunnelLoggingStore"],Q,"UFIReactionsLinkImpl.react")}else P()},L=null;function M(){__p&&__p();var P;if(!L)(function(){__p&&__p();var Q=null;L=new(c("Promise"))(function(S){Q=c("Run").onAfterLoad(function(){c("Bootloader").loadModules(["UFIReactionsAnimationPreloader"],function(T){var U=new T().usePackage(c("UFIConfig").reactionsAnimatedIconsUsePackage||false);S(U)},"UFIReactionsLinkImpl.react")})});L.done(function(){Q&&Q.remove()});var R=c("Run").onLeave(function(){L=null;R&&R.remove()})})();return L}var N=c("addFocusEvents")("a");g=babelHelpers.inherits(O,i);h=g&&g.prototype;function O(P,Q){"use strict";__p&&__p();h.constructor.call(this,P,Q);this.$UFIReactionsLink2=function(){if(this.state.dialogShown)this.forceUpdate()}.bind(this);this.hideDialog=function(){this.setState({dialogShown:false,isScrubbing:false})}.bind(this);this.showDialog=function(){if(this.dialogShownTime===0)this.dialogShownTime=Date.now();if(!this.state.dialogShown)this.state.logToFunnel&&k.menuShow(this.state.logAsComment);o=true;this.setState({dialogShown:true,NUXShown:false})}.bind(this);this.onClick=function(event){__p&&__p();var S,T=this;event.preventDefault();var U=this.props,V=U.reaction,W=U.suggestedReaction;if(!V||V===c("UFIReactionTypes").LIKE||!w[V])(function(){__p&&__p();if(!V&&T.props.nuxConfig){var X=T.props.nuxConfig.nuxType;if(X===c("ReactionNuxTypeEnum").LIKE_CLICK||X===c("ReactionNuxTypeEnum").LIKE_CLICK_RENUX)T.maybeShowNUX()}var Y=W&&T.hasSuggestedReaction?W:c("UFIReactionTypes").LIKE;V=V?c("UFIReactionTypes").NONE:Y;var Z=c("curry")(T.onReactionChange,V);T.$UFIReactionsLink3(V,true);if(T.$UFIReactionsLink6())K(function(){__p&&__p();if(r&&s){var $=r.getVideoPlayerController(this.props.contextArgs.instanceid);if($&&V===c("UFIReactionTypes").LIKE){s.clickLikeButton($.getVideoPlayerID());event.persist();if(!this.$UFIReactionsLink1)this.$UFIReactionsLink1=new t($,c("UFIReactionTypes").LIKE,Z);this.$UFIReactionsLink1.click(event)}else Z(event)}}.bind(T));else Z(event)})();else this.onReactionChange(0,event);this.setState({dialogShown:false,isScrubbing:false})}.bind(this);this.onClickCapture=function(event){event.stopPropagation();this.setState({isLongPressing:false})}.bind(this);this.onContextMenu=function(event){if(this.state.isTouchDown)event.preventDefault()}.bind(this);this.onMouseDown=function(event){clearTimeout(this.hoverTimeout)}.bind(this);this.onMouseEnter=function(event){__p&&__p();clearTimeout(this.hoverTimeout);var S=this.props.comment?C:A;if(!this.state.dialogShown)this.hoverTimeout=setTimeout(function(){this.showDialog();if(this.$UFIReactionsLink6())K(function(){if(r&&s){var T=r.getVideoPlayerController(this.props.contextArgs.instanceid);if(T)s.openReactionMenu(T.getVideoPlayerID())}}.bind(this))}.bind(this),S);J(this.props.supportedReactions);if(!this.state.dialogShown&&this.state.logToFunnel)this.logFunnelTimeout=setTimeout(function(){return k.likeButtonEnter(this.props.reaction,this.state.logAsComment)}.bind(this),v)}.bind(this);this.onMouseLeave=function(event){__p&&__p();clearTimeout(this.hoverTimeout);clearTimeout(this.logFunnelTimeout);var S=this.props.comment?D:B;if(this.state.dialogShown)if(this.$UFIReactionsLink6())K(function(){if(r&&r.shouldLeaveReactionMenuOpen())this.$UFIReactionsLink7(this.hideDialog);else this.hoverTimeout=setTimeout(function(){this.hideDialog();if(r&&s){var T=r.getVideoPlayerController(this.props.contextArgs.instanceid);if(T)s.closeReactionMenu(T.getVideoPlayerID())}}.bind(this),S)}.bind(this));else this.hoverTimeout=setTimeout(this.hideDialog,S)}.bind(this);this.onReactionMenuMouseEnter=function(event){clearTimeout(this.hoverTimeout)}.bind(this);this.onTouchStart=function(event){__p&&__p();if(!this.state.dialogShown){this.mouseDownTime=Date.now();this.mouseUpTime=0;this.longPressTimeout=setTimeout(function(){if(this.dialogShownTime===0)this.dialogShownTime=Date.now();this.setState({dialogShown:true,NUXShown:false,isLongPressing:true})}.bind(this),E);J(this.props.supportedReactions)}this.setState({isTouchDown:true,isLongPressing:false})}.bind(this);this.onTouchEnd=function(event){if(this.state.isLongPressing)this.mouseUpTime=Date.now();this.dragStartX=null;this.dragStartY=null;clearTimeout(this.longPressTimeout);this.setState({isTouchDown:false})}.bind(this);this.onTouchMove=function(event){__p&&__p();if(this.state.isScrubbing)return;var S=event.touches[0],T=S.clientX,U=S.clientY;if(this.dragStartX===null&&this.dragStartY===null){this.dragStartX=T;this.dragStartY=U;return}if(typeof this.dragStartX==="number"&&typeof this.dragStartY==="number"&&(this.dragStartX>T+z||this.dragStartX<T-z||this.dragStartY>U+z||this.dragStartY<U-z))this.setState({isScrubbing:true})}.bind(this);this.onReactionChange=function(S,event){__p&&__p();var T=arguments.length<=2||arguments[2]===undefined?null:arguments[2],U=arguments.length<=3||arguments[3]===undefined?null:arguments[3];this.$UFIReactionsLink3(S);var V=c("ReactDOM").findDOMNode(this.refs.trigger);if(this.state.logToFunnel)event.target===V?k.likeButtonClick(S,this.state.logAsComment):k.reactionSelection(S,this.state.logAsComment);var W=void 0;if(this.props.comment)W=c("UFICommentAction").changeReaction(this.props.contextArgs,this.props.comment,S,V);else W=c("UFIStoryAction").changeReaction(this.props.contextArgs,S,V,T,U);this.context.dispatch(W);var X=function(){this.setState({dialogShown:false,isScrubbing:false})}.bind(this);if(this.$UFIReactionsLink6())K(function(){if(r)if(r.shouldLeaveReactionMenuOpen())this.$UFIReactionsLink7(function(){X()});else X()}.bind(this));else X()}.bind(this);this.onReactionMouseEnter=function(S,event){if(this.reactionsHoverStartTimeMap[S]===0)this.reactionsHoverStartTimeMap[S]=Date.now()}.bind(this);this.onReactionMouseLeave=function(S,event){if(this.reactionsHoverStartTimeMap[S]){this.reactionsHoverTotalTimeMap[S]+=Date.now()-this.reactionsHoverStartTimeMap[S];this.reactionsHoverStartTimeMap[S]=0}}.bind(this);this.onKeyboardFocus=function(){this.allowKeyboardFocus=true;this.showDialog()}.bind(this);this.onScreenReaderTrigger=function(){p=true;this.allowKeyboardFocus=true;this.showDialog()}.bind(this);this.dragStartX=null;this.dragStartY=null;this.hasSuggestedReaction=c("UFIConfig").reactionsHasSuggestedReaction;this.subscriptionsHandler=new(c("SubscriptionsHandler"))();if(I)I.push(this.$UFIReactionsLink2);var R=false;if(k&&(m&&this.props.comment===undefined||l&&this.props.comment!==undefined))R=true;this.state={dialogShown:false,isLongPressing:false,isScrubbing:false,isTouchDown:false,logToFunnel:R,logAsComment:!!this.props.comment&&l,NUXShown:false,shouldBounce:false}}O.prototype.shouldComponentUpdate=function(P,Q){"use strict";return c("shallowCompare")(this,P,Q)};O.prototype.componentWillReceiveProps=function(P){"use strict";this.setState({shouldBounce:!!P.reaction&&P.reaction!==this.props.reaction})};O.prototype.componentWillUpdate=function(P,Q){"use strict";if(this.state.dialogShown&&!Q.dialogShown)this.$UFIReactionsLink3(this.props.reaction)};O.prototype.componentDidUpdate=function(P,Q){__p&&__p();var R,S=this;"use strict";if(!Q.dialogShown&&this.state.dialogShown){if(F)(function(){var T=void 0;S.subscriptionsHandler.addSubscriptions(c("Event").listen(document.documentElement,"touchstart",function(event){T=event.touches[0]}),c("Event").listen(document.documentElement,"touchmove",function(event){T=event.touches[0]}),c("Event").listen(document.documentElement,"touchend",function(event){if(T&&!this.refs.root.contains(document.elementFromPoint(T.clientX,T.clientY)))this.setState({dialogShown:false,isScrubbing:false})}.bind(S)))})()}else if(Q.dialogShown&&!this.state.dialogShown){this.subscriptionsHandler.release();this.subscriptionsHandler=new(c("SubscriptionsHandler"))()}};O.prototype.componentDidMount=function(){__p&&__p();var P,Q=this;"use strict";this.$UFIReactionsLink4();if(this.props.nuxConfig){var R=this.props.nuxConfig.nuxType;if(R===c("ReactionNuxTypeEnum").SPATIAL_REACTIONS_NUX)this.maybeShowNUX()}if(c("UFIConfig").reactionsHasAnimatedIcons&&!n)switch(y){case"on_mount":this.$UFIReactionsLink5();break;case"on_hover":var S=c("Parent").bySelector(this.refs.root,"._zw3");if(S)(function(){var event=c("Event").listen(S,"mousemove",function(){this.$UFIReactionsLink5();event&&event.remove()}.bind(Q))})();break}};O.prototype.componentWillUnmount=function(){"use strict";this.subscriptionsHandler.release();if(I){var P=I.indexOf(this.$UFIReactionsLink2);if(P!==-1)I.splice(P,1)}};O.prototype.maybeShowNUX=function(){"use strict";__p&&__p();var P=null;if(this.props.nuxConfig)P=this.props.nuxConfig.nuxType;if(!o){o=true;this.setState({NUXShown:true,dialogShown:false});if(P!==c("ReactionNuxTypeEnum").SPATIAL_REACTIONS_NUX)c("BanzaiLogger").log("WebReactionsNuxLoggerConfig",{feedback_id:this.props.contextArgs.ftentidentifier,"interface":"www"})}};O.prototype.onDragStart=function(event){"use strict";event.preventDefault()};O.prototype.renderMenu=function(){"use strict";if(this.state.dialogShown)J(this.props.supportedReactions);if(!q)return null;var P=this.allowKeyboardFocus;this.allowKeyboardFocus=false;return c("React").createElement(q,{allowKeyboardFocus:P,initialReaction:this.props.reaction,isLongPressing:this.state.isLongPressing,isScreenReader:p,instanceId:this.props.contextArgs.instanceid,onMouseEnter:this.onReactionMenuMouseEnter,onMouseLeave:this.onMouseLeave,onReactionClick:this.onReactionChange,onBlur:this.hideDialog,onFocus:this.showDialog,onReactionMouseEnter:this.onReactionMouseEnter,onReactionMouseLeave:this.onReactionMouseLeave,shown:this.state.dialogShown,supportedReactions:this.props.supportedReactions,showSpatialReactions:this.$UFIReactionsLink6()})};O.prototype.renderTrigger=function(){"use strict";__p&&__p();var P=this.props,Q=P.reaction,R=P.suggestedReaction;if(Q&&!w[Q])Q=null;var S=Q?c("UFILikeWebDriverIDs").UNLIKE_LINK:c("UFILikeWebDriverIDs").LIKE_LINK,T=void 0,U=void 0,V=void 0,W=void 0;if(this.props.comment){S=this.props.comment.parentcommentid?c("UFILikeWebDriverIDs").LIKE_LINK_REPLY:c("UFILikeWebDriverIDs").LIKE_LINK_COMMENT;var X=false;if(!Q)T=w[c("UFIReactionTypes").LIKE].display_name;else{T=w[Q].display_name;W=w[Q].color;X=true}V="UFILikeLink UFIReactionLink"+(X?" UFILinkBright":"")}else{if(!Q)T=R&&this.hasSuggestedReaction?w[R].display_name:w[c("UFIReactionTypes").LIKE].display_name;else T=w[Q].display_name;if(Q&&Q!=c("UFIReactionTypes").LIKE||!Q&&R&&this.hasSuggestedReaction&&R!=c("UFIReactionTypes").LIKE){var Y=c("SutroStoryHeaderUFIGatingConfig").enabled_for_ufi,Z=Y?"18":this.props.reactionSize||"13";U=c("React").createElement(c("UFIReactionIconImpl.react"),{className:"_1ktw"+(Y?" _2hoq":""),grayscale:!Q&&!!R,reaction:Q||R,size:Z})}var $=c("SutroStoryHeaderUFIGatingConfig").enabled_for_ufi_animation;V="UFILikeLink _4x9- _4x9_"+(!U?" _48-k":"")+(Q?" UFILinkBright":"")+(this.state.shouldBounce&&!$?" _3_mo":"")+(this.state.shouldBounce&&$?" _614v":"");W=Q?w[Q].color:null}return c("React").createElement(N,{"aria-pressed":!!Q,className:V,"data-testid":S,href:"#",onClick:this.onClick,onClickCapture:this.state.isLongPressing?this.onClickCapture:null,onContextMenu:this.onContextMenu,onDragStart:this.onDragStart,onKeyboardFocus:q?null:this.onKeyboardFocus,onMouseDown:this.onMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onTouchEnd:F?this.onTouchEnd:null,onTouchMove:F?this.onTouchMove:null,onTouchStart:F?this.onTouchStart:null,ref:"trigger",role:"button",style:{color:W},tabIndex:0},U,T)};O.prototype.renderNUX=function(){"use strict";var P=this.refs.root,Q=this.props.comment!==undefined,R=this.props.nuxConfig&&this.props.nuxConfig.nuxType===c("ReactionNuxTypeEnum").SPATIAL_REACTIONS_NUX,S=this.props.nuxConfig&&this.props.nuxConfig.titleOverride,T=this.props.nuxConfig&&this.props.nuxConfig.textOverride;if(!this.state.NUXShown||!P)return null;if(R){S=H;T=null}return c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:u,bootloadLoader:c("JSResource")("UFIReactionsNUX.react").__setRef("UFIReactionsLinkImpl.react"),context:P,titleOverride:S,textOverride:T,isCommentReactionNux:Q,isSpatialReactionNux:R,nuxKey:this.props.nuxConfig&&this.props.nuxConfig.nuxKey})};O.prototype.renderScreenReaderTrigger=function(){"use strict";if(q)return null;return c("React").createElement(c("ShimButton.react"),{className:"accessible_elem","data-accessibilityid":"virtual_cursor_trigger",inline:true,tabIndex:-1,onClick:this.onScreenReaderTrigger},G)};O.prototype.render=function(){"use strict";var P=c("SutroStoryHeaderUFIGatingConfig").enabled_for_ufi,Q=c("SutroPhase2GatingConfig").enabled_centered_ufi;return c("React").createElement("div",{className:"_khz"+(P?" _4sz1":"")+(Q?" _4rw5":"")+(this.state.isScrubbing?" _4bdq":"")+(Q?" _3wv2":""),ref:"root"},this.renderTrigger(),this.renderScreenReaderTrigger(),this.renderMenu(),this.renderNUX())};O.prototype.$UFIReactionsLink4=function(){"use strict";this.dialogShownTime=0;this.reactionsHoverStartTimeMap={};this.reactionsHoverTotalTimeMap={};x.forEach(function(P){this.reactionsHoverStartTimeMap[P]=0;this.reactionsHoverTotalTimeMap[P]=0}.bind(this))};O.prototype.$UFIReactionsLink5=function(){"use strict";if(!n){M().done(function(P){P.load(this.props.supportedReactions)}.bind(this));n=true}};O.prototype.$UFIReactionsLink6=function(){"use strict";return!!this.props.contextArgs.showSpatialReactions&&!this.props.comment};O.prototype.$UFIReactionsLink7=function(P){var Q;"use strict";if(r)(function(){var R=r.addListener(function(){if(r&&!r.shouldLeaveReactionMenuOpen()){R.remove();P()}})})()};O.prototype.$UFIReactionsLink3=function(P,Q){"use strict";__p&&__p();if(this.dialogShownTime!==0){var R={feedback_id:this.props.contextArgs.ftentidentifier,final_reaction:P,initial_reaction:this.props.reaction,"interface":"www",long_press_duration:this.mouseDownTime!==0&&this.mouseUpTime!==0?this.mouseUpTime-this.mouseDownTime:0,non_reaction_like:Q,time_spent:Date.now()-this.dialogShownTime};for(var S in this.reactionsHoverTotalTimeMap){var T="time_spent_"+w[S].name.toLowerCase();R[T]=this.reactionsHoverTotalTimeMap[S]}c("BanzaiLogger").log("UserReactionsLoggerConfig",R);this.$UFIReactionsLink4()}};O.contextTypes={dispatch:j.func};e.exports=O}),null);
__d("UFICommentLikeLink.react",["cx","fbt","React","ReactionNuxTypeEnum","TrackingNodes","UFICommentAction","UFIConfig","UFIReactionsLinkImpl.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m="ufi_comment_like_link",n="ufi_reply_like_link";j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;o.getCanRender=function(p){return!!(p&&(p.canviewerreact||p.viewercanlike||p.hasviewerliked))};o.prototype.render=function(){var p=this.props.comment,q=this.props.feedback,r=this.props.contextArgs;if(!this.constructor.getCanRender(p))return null;if(p.canviewerreact&&!r.isaskquestion)return c("React").createElement("span",{className:"_6a _3-me"},this.$UFICommentLikeLink1(p,q,r));else if(p.viewercanlike||p.hasviewerliked)return this.$UFICommentLikeLink2(p,q,r);return null};o.prototype.$UFICommentLikeLink1=function(p,q,r){var s=null;if(c("UFIConfig").reactionsHasCommentsNux)s={nuxKey:"reactions_comments",titleOverride:i._("New! React to a comment"),textOverride:i._("Hover over the Like link to see all reactions."),nuxType:c("ReactionNuxTypeEnum").LIKE_CLICK};return c("React").createElement(c("UFIReactionsLinkImpl.react"),{contextArgs:babelHelpers["extends"]({},r,{ftentidentifier:p.id}),comment:p,nuxConfig:s,reaction:p.viewerreaction,supportedReactions:q.supportedreactions,ftIdentifier:r.ftentidentifier})};o.prototype.$UFICommentLikeLink2=function(p,q,r){__p&&__p();var s=r.loggedOutLinkConfig,t=c("TrackingNodes").getTrackingInfo(p.hasviewerliked?c("TrackingNodes").types.UNLIKE_LINK:c("TrackingNodes").types.LIKE_LINK),u=p.hasviewerliked?i._("Unlike this comment"):i._("Like this comment"),v=p.parentcommentid?n:m,w=!p.hasviewerliked||s?i._("Like"):i._("Unlike");if(r.isaskquestion&&!p.parentcommentid){u=p.hasviewerliked?i._("Remove vote for this answer"):i._("Vote for this answer");w=!p.hasviewerliked||s?i._("Upvote"):i._("Upvoted")}var x=null,y=null;if(s&&s.showLikeLink){x="dialog";y=s.likeAjaxifyURI}return c("React").createElement("a",{className:"UFILikeLink","data-ft":t,"data-testid":v,href:"#",rel:x,ajaxify:y,onClick:function(event){return this.context.dispatch(c("UFICommentAction").toggleLike(r,p,event.target))}.bind(this),role:"button",title:u},w)};function o(){j.apply(this,arguments)}o.propTypes={comment:l.object.isRequired,contextArgs:l.object.isRequired,feedback:l.object.isRequired};o.contextTypes={dispatch:l.func};f.exports=o}),null);
__d("UFICommentMetadata.react",["cx","fbt","BootloadedComponent.react","Bootloader","FBCollapsibleList.react","JSResource","Middot.react","React","ReactDOM","SutroPhase2GatingConfig","Timestamp.react","TrackingNodes","UFIConstants","URI","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("UFIConstants").UFIStatus,m="ufi_comment_timestamp",n="UFIFailureMessageIcon",o="UFIFailureMessage",p="uiLinkSubtle",q=function q(s){var t=s.status;return t===l.FAILED_ADD||t===l.FAILED_EDIT};j=babelHelpers.inherits(r,c("React").Component);k=j&&j.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.editLinkRef=null,t}r.prototype.render=function(){__p&&__p();var s=this.props,t=s.comment,u=s.onRetrySubmit,v=void 0,w=void 0,x=t.timestamp;if(q(t))v=[c("React").createElement("span",{key:"failure",className:o},c("React").createElement("i",{className:n}),i._("Unable to post comment.")),t.allowRetry&&u?[" ",c("React").createElement("a",{key:"rety-submit",onClick:u,href:"#",role:"button"},i._("Try again"))]:null];else if(x){var y=c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.SOURCE);w=c("React").createElement(c("Timestamp.react"),{className:c("SutroPhase2GatingConfig").enabled_ui40?"UFISutroCommentTimestamp":"",minimize:c("SutroPhase2GatingConfig").enabled_bubble_comments,shorten:this.props.shortenTimestamp,time:x.time,text:x.text,useLargerTimeUnits:c("SutroPhase2GatingConfig").enabled_bubble_comments,verbose:x.verbose});if(this.props.showPermalink)w=c("React").createElement("a",{key:"timestamp-message",className:p,href:this.props.permalink,"data-ft":y,"data-testid":m,target:this.props.permalinkTarget},w)}var z=null;if(t.originalTimestamp){var A=new(c("URI"))("/ajax/edits/browser/comment").addQueryData({comment_token:t.id}).toString();z=[c("React").createElement(c("Middot.react"),{key:"middot-editNote"}),c("React").createElement("a",{ajaxify:A,className:"uiLinkSubtle","data-hover":"tooltip","data-tooltip-content":i._("Show edit history"),href:"#",key:"edit-link",ref:function(E){return this.editLinkRef=E}.bind(this),rel:"dialog",role:"button",title:i._("Show edit history")},i._("Edited"))]}var B=null,C=t.creator_data;if(C)B=[c("React").createElement(c("BootloadedComponent.react"),{key:"creator",bootloadPlaceholder:c("React").createElement(c("XUISpinner.react"),{size:"small"}),bootloadLoader:c("JSResource")("UFICreatorInfo.react").__setRef("UFICommentMetadata.react"),creatorID:C.creatorID,creatorType:C.creatorType,creatorName:C.creatorName,labelType:C.labelType,pageID:C.pageID,profileURI:C.profileURI}),c("React").createElement(c("Middot.react"),{key:"middot-creator"})];var D=null;if(t.body&&t.body.markdown_enabled&&t.body.markup)D=[c("React").createElement(c("Middot.react"),{key:"middot-markdownNote"}),c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("a",{className:"uiLinkSubtle"},i._("Formatted")),bootloadLoader:c("JSResource")("UFICommentMarkdownFormattedLink.react").__setRef("UFICommentMetadata.react"),comment:t,key:"markdown-link"})];return c("React").createElement("span",null,B,w,v,z,D)};r.prototype.componentWillUpdate=function(s){var t=this.props.comment,u=s.comment;if(!t.editnux&&!!u.editnux)c("Bootloader").loadModules(["LegacyContextualDialog"],function(v){if(!this.editLinkRef)return;var w=new v();w.init(u.editnux).setContext(c("ReactDOM").findDOMNode(this.editLinkRef)).setWidth(300).setPosition("below").show()}.bind(this),"UFICommentMetadata.react")};f.exports=r}),null);
__d("RTLKeys",["Keys","Locale"],(function a(b,c,d,e,f,g){__p&&__p();var h=babelHelpers["extends"]({},c("Keys")),i=null;function j(){if(i===null)i=c("Locale").isRTL();return i}h.REAL_RIGHT=c("Keys").RIGHT;h.REAL_LEFT=c("Keys").LEFT;delete h.LEFT;delete h.RIGHT;h.getLeft=function(){return j()?h.REAL_RIGHT:h.REAL_LEFT};h.getRight=function(){return j()?h.REAL_LEFT:h.REAL_RIGHT};f.exports=h}),null);
__d("UFICommentShareLink.react",["cx","fbt","BootloadedComponent.react","Event","JSResource","React","ReactDOM","SubscriptionsHandler"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=false;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.getCanRender=function(o){return!!(o&&o.canshare&&o.commentshareuri)};function n(o,p){k.constructor.call(this,o,p);this.$UFICommentShareLink1=new(c("SubscriptionsHandler"))();this.state={nuxShown:false}}n.prototype.componentDidMount=function(){var o=c("ReactDOM").findDOMNode(this.refs.root);if(o&&this.$UFICommentShareLink2())this.$UFICommentShareLink1.addSubscriptions(c("Event").listen(o,"click",this.$UFICommentShareLink3.bind(this)))};n.prototype.componentWillUnmount=function(){this.$UFICommentShareLink1.release()};n.prototype.componentWillReceiveProps=function(o){if(this.props.comment&&!this.props.comment.hasviewerliked&&o.comment&&o.comment.hasviewerliked)this.$UFICommentShareLink4()};n.prototype.$UFICommentShareLink3=function(){this.setState({nuxShown:false})};n.prototype.$UFICommentShareLink2=function(){return this.props.contextArgs&&this.props.contextArgs.commentShareNuxConfig&&this.props.contextArgs.commentShareNuxConfig.nuxKey||null};n.prototype.$UFICommentShareLink4=function(){if(m||!this.$UFICommentShareLink2())return;m=true;this.setState({nuxShown:true})};n.prototype.$UFICommentShareLink5=function(){if(!this.state.nuxShown)return null;var o=this.$UFICommentShareLink2();if(!o)return null;return c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("span",{className:"hidden_elem"}),bootloadLoader:c("JSResource")("UFICommentShareNUX.react").__setRef("UFICommentShareLink.react"),nuxContext:this.refs.root,nuxKey:o})};n.prototype.render=function(){var o=this.props.comment;if(!this.constructor.getCanRender(o))return null;var p=i._("Share this comment"),q=i._("Share");return c("React").createElement("a",{className:"share_action_link",href:o.commentshareuri,role:"button",ref:"root",rel:"dialog",title:p},q,this.$UFICommentShareLink5())};n.propTypes={comment:l.object.isRequired,contextArgs:l.object.isRequired};f.exports=n}),null);
__d("XUFISubscribeCommentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/comment/subscribe/",{})}),null);
__d("UFICommentSubscribeLink.react",["fbt","AsyncRequest","React","XUFISubscribeCommentController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l,m){j.constructor.call(this,l,m);var n=l.comment.issubscribed;this.state={isSubscribed:n?n:false}}k.prototype.render=function(){var l=h._("Subscribe to this comment"),m=h._("Subscribe"),n=h._("Unsubscribe to this comment"),o=h._("Unsubscribe");return c("React").createElement("a",{href:"#",role:"button",title:this.state.isSubscribed?n:l,onClick:function(){return this.onLinkClick()}.bind(this)},this.state.isSubscribed?o:m)};k.prototype.onLinkClick=function(){var l=this.props.comment,m=c("XUFISubscribeCommentController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(m).setData({comment_id:l.fbid,ft_ent_identifier:l.ftentidentifier,is_subscribe:!this.state.isSubscribed}).setMethod("POST").setHandler(function(n){this.setState({isSubscribed:!this.state.isSubscribed})}.bind(this)).setErrorHandler(function(n){}).send()};f.exports=k}),null);
__d("XVideoBroadcastPinnedCommentsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/videos/pinnedcomments/",{})}),null);
__d("UFILivePinnedCommentLink.react",["cx","fbt","AsyncRequest","BanzaiODS","React","UFILivePinnedCommentStore","UFISharedDispatcher","UFIStoryAction","UFIVideoPlayerRegistry","XVideoBroadcastPinnedCommentsController","ifRequired"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.onLinkClick=function(){__p&&__p();var r=c("UFILivePinnedCommentStore").getPinnedCommentID(this.props.contextArgs.ftentidentifier);if(this.props.isPinned)c("UFISharedDispatcher").dispatch(c("UFIStoryAction").unpinComment(this.props.contextArgs));else c("UFISharedDispatcher").dispatch(c("UFIStoryAction").pinComment(this.props.contextArgs,this.props.commentID));var s=this.props.contextArgs.isBroadcasterUFI?this.getCurrentBroadcastTime():c("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTime(this.props.contextArgs.instanceid);if(s===null){c("BanzaiODS").bumpEntityKey("streaming_comments","pin_with_no_timestamp");return}var t=c("XVideoBroadcastPinnedCommentsController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(t).setData({video_id:this.props.contextArgs.fluentContentToken,video_time_offset:s,comment_fbid:this.props.isPinned?null:this.props.commentFBID}).setMethod("POST").setErrorHandler(function(u){if(r)c("UFISharedDispatcher").dispatch(c("UFIStoryAction").pinComment(this.props.contextArgs,r));else c("UFISharedDispatcher").dispatch(c("UFIStoryAction").unpinComment(this.props.contextArgs))}.bind(this)).send()}.bind(this),n}l.prototype.getCurrentBroadcastTime=function(){return c("ifRequired")("LiveVideoBroadcastBroadcastStore",function(m){return m.getCurrentBroadcastTime()})};l.prototype.render=function(){var m=i._("Unpin comment"),n=i._("Pin comment");return c("React").createElement("a",{className:"uiLink",href:"#",onClick:this.onLinkClick},this.props.isPinned?m:n)};f.exports=l}),null);
__d("XVideoBroadcastClearPinCommentEventAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/videos/pinnedcomments/clear/",{})}),null);
__d("UFILiveVODUnpinCommentLink.react",["cx","fbt","AsyncRequest","Bootloader","React","UFILivePinnedCommentStore","UFISharedDispatcher","UFIStoryAction","XVideoBroadcastClearPinCommentEventAsyncController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$UFILiveVODUnpinCommentLink1=function(){c("Bootloader").loadModules(["SimpleXUIDialog"],function(r){r.showConfirm(i._("If you unpin this comment, you won't be able to pin it again."),i._("Unpin Comment"),function(s){if(!s)return;new(c("AsyncRequest"))().setURI(c("XVideoBroadcastClearPinCommentEventAsyncController").getURIBuilder().getURI()).setData({pin_event_id:this.props.pinEventID}).setMethod("POST").setHandler(function(t){if(this.props.commentID===c("UFILivePinnedCommentStore").getPinnedCommentID(this.props.contextArgs.ftentidentifier))c("UFISharedDispatcher").dispatch(c("UFIStoryAction").unpinComment(this.props.contextArgs))}.bind(this)).send()}.bind(this))}.bind(this),"UFILiveVODUnpinCommentLink.react")}.bind(this),n}l.prototype.render=function(){return c("React").createElement("a",{className:"uiLink",href:"#",onClick:this.$UFILiveVODUnpinCommentLink1},i._("Unpin comment"))};f.exports=l}),null);
__d("UFIPrivateReplyIndicator.react",["fbt","PagesPrivateReplyConstants","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("PagesPrivateReplyConstants").Status;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.willRender=function(m){return m===k.ALREADY_REPLIED};l.prototype.render=function(){if(this.props.replyStatus===k.ALREADY_REPLIED)return c("React").createElement("span",null,h._("Page responded privately"));return null};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("XPagesMessagingPrivateReplyDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/messaging/private_reply/dialog/",{activity_id:{type:"String",required:true},hide_attachments:{type:"Bool",defaultValue:false}})}),null);
__d("UFIPrivateReplyLink.react",["cx","fbt","ActorURI","BootloadedComponent.react","JSResource","Link.react","PagesPrivateReplyConstants","React","SutroPhase2GatingConfig","XPagesMessagingPrivateReplyDialogController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("PagesPrivateReplyConstants").Status,m=c("PagesPrivateReplyConstants").Type,n=false;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;o.willRender=function(p,q){if(!p)return false;if(p.hasReplyPermission&&q===p.pageID)return true;return false};o.prototype.render=function(){var p=this.props.context;if(p.hasReplyPermission&&this.props.actorID===p.pageID){if(p.status===l.REPLYABLE)return this.$UFIPrivateReplyLink2();else if(p.status===l.ALREADY_REPLIED)return this.$UFIPrivateReplyLink3();return this.$UFIPrivateReplyLink4()}return null};o.prototype.$UFIPrivateReplyLink5=function(){if(!this.props.shouldShowNux||n)return null;n=true;return c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("span",{className:"hidden_elem"}),bootloadLoader:c("JSResource")("UFICommentPrivateReplyNux.react").__setRef("UFIPrivateReplyLink.react"),nuxContext:function(){return this.$UFIPrivateReplyLink1}.bind(this),nuxKey:"pages_comment_pr_nux"})};o.prototype.$UFIPrivateReplyLink2=function(){var p=c("ActorURI").create(c("XPagesMessagingPrivateReplyDialogController").getURIBuilder().setString("activity_id",this.props.activityID).getURI(),this.props.context.pageID),q=c("SutroPhase2GatingConfig").enabled_centered_ufi;return c("React").createElement(c("Link.react"),{className:"_50u0"+(q?" _60p-":"")+" _14hj",href:p,ref:function(r){this.$UFIPrivateReplyLink1=r}.bind(this),rel:"dialog"},this.$UFIPrivateReplyLink6(),this.$UFIPrivateReplyLink5())};o.prototype.$UFIPrivateReplyLink4=function(){__p&&__p();var p=void 0;switch(this.props.context.status){case l.EXPIRED:p=i._({"comments":"You can't send a message response to comments that are more than 6 months old.","reviews":"You can't send a message response to reviews that are more than 6 months old.","posts":"You can't send a message response to posts that are more than 6 months old."},[i["enum"](this.$UFIPrivateReplyLink7(),{comments:"comments",reviews:"reviews",posts:"posts"})]);break;case l.NOT_USER_CREATED:p=i._("Pages can't send private messages to other Pages.");break;case l.CANNOT_MESSAGE:p=i._("This person can't receive a message reply from your Page.");break}var q=c("SutroPhase2GatingConfig").enabled_centered_ufi;return c("React").createElement("span",{className:"_50u0 _50u4"+(q?" _60p-":""),"data-hover":p?"tooltip":null,"data-tooltip-content":p},this.$UFIPrivateReplyLink6())};o.prototype.$UFIPrivateReplyLink3=function(){var p=c("SutroPhase2GatingConfig").enabled_centered_ufi;return c("React").createElement(c("Link.react"),{className:"_50u0 _14hk"+(p?" _60p-":""),href:this.props.context.permalink||"#"},this.props.seeResponseLabel?i._("See response"):this.$UFIPrivateReplyLink6())};o.prototype.$UFIPrivateReplyLink6=function(){return i._("Message")};o.prototype.$UFIPrivateReplyLink7=function(){switch(this.props.context.activityType){case m.COMMENT_PAGE_POST:case m.COMMENT_WALL_POST:case m.COMMENT_REVIEW:return"comments";case m.REVIEW:return"reviews";default:return"posts"}};function o(){j.apply(this,arguments)}f.exports=o}),null);
__d("UFICommentActions.react",["ix","cx","fbt","BootloadedComponent.react","CommentApprovalsResponsibleUserAction","FluxContainer","JSResource","Middot.react","PublicConversationsUnicornTypedLogger","React","ReactFragment","ShimButton.react","UFIAcceptedAnswerStore","UFIAddCommentAction","UFICentralUpdates","UFICommentAction","UFICommentLikeCount.react","UFICommentLikeLink.react","UFICommentMetadata.react","UFICommentReactionCount.react","UFICommentShareLink.react","UFICommentSubscribeLink.react","UFIConfig","UFIConstants","UFILivePinnedCommentLink.react","UFILivePinnedCommentStore","UFILiveVODUnpinCommentLink.react","UFIPrivateReplyIndicator.react","UFIPrivateReplyLink.react","UFISharedDispatcher","UFIStoryAction","WebCommentViewOption","emptyFunction","fbglyph"],(function aa(ba,a,ca,da,b,ea,c,fa,d){"use strict";__p&&__p();var e,f,g=a("React").PropTypes,h=a("UFIConstants").UFIStatus,i="fsm fwn fcg UFICommentActions",j="UFIDeletedMessageIcon",k="UFIDeletedMessage";e=babelHelpers.inherits(l,a("React").Component);f=e&&e.prototype;l.getStores=function(){return[a("UFIAcceptedAnswerStore"),a("UFILivePinnedCommentStore")]};l.calculateState=function(m,n){var o=n.comment,p=n.feedback,q=a("UFIAcceptedAnswerStore").get(o.ftentidentifier,p.acceptedanswer),r=a("UFILivePinnedCommentStore").getPinnedCommentID(o.ftentidentifier),s=this.calculatePinActionLinkState(o,r);return{acceptedAnswerState:q,pinActionLinkState:s}};l.calculatePinActionLinkState=function(m,n){if(m.__typename==="local")return"None";if(n===m.id)return"MayUnpin";return"MayPin"};function l(m){f.constructor.call(this,m);this.$UFICommentActions1=function(){this.context.dispatch(a("UFIStoryAction").changeAcceptedAnswer(this.props.contextArgs,this.props.comment,true))}.bind(this);this.$UFICommentActions2=function(){this.context.dispatch(a("UFIStoryAction").changeAcceptedAnswer(this.props.contextArgs,this.props.comment,false))}.bind(this);this.state=l.calculateState(null,m)}l.prototype.render=function(){__p&&__p();var m,n=this.props,o=n.comment,p=n.permalink,q=n.feedback,r=n.parentCanComment,s=n.markedAsSpamHere,t=o.status===h.SPAM_DISPLAY,u=n.showReplyLink,v=n.hideAsSpamForPageAdmin,w=n.translateLink,x=void 0,y=void 0,z=void 0,A=void 0,B=void 0,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,M=o.__typename!=="local"&&o.status!==h.LIVE_DELETED&&!o.tipOptionIndex;if(M){if(o.needsApproval||o.canAppeal||o.canSecure||o.appealStatus!==null)I=a("React").createElement("a",{onClick:function(event){return this.context.dispatch(a("UFICommentAction").remove(n.contextArgs,n.comment,event.target,a("emptyFunction")))}.bind(this),href:"#",role:"button"},d._("Delete"));if(o.canAppeal&&o.appealStatus!==a("CommentApprovalsResponsibleUserAction").APPEALED)J=a("React").createElement("a",{onClick:function(event){return this.context.dispatch(a("UFICommentAction").appealSpam(n.contextArgs,o,event.target,n.feedback))}.bind(this),href:"#",role:"button"},d._("Not Spam"));if(o.canSecure&&o.appealStatus!==a("CommentApprovalsResponsibleUserAction").SECURED_ACCOUNT)K=a("React").createElement("a",{onClick:function(event){return this.context.dispatch(a("UFICommentAction").secureAccount(n.contextArgs,o,event.target,n.feedback))}.bind(this),href:"#",role:"button"},d._("I didn't post this"));if(o.needsApproval)H=a("React").createElement("a",{onClick:function(event){return this.context.dispatch(a("UFICommentAction").keepSpam(n.contextArgs,o,event))}.bind(this),href:"#",role:"button"},d._("Keep comment"));if(t&&!s){if(n.viewerCanMarkNotSpam)x=a("React").createElement("a",{onClick:function(event){return this.context.dispatch(a("UFICommentAction").markAsNotSpam(n.contextArgs,o,event))}.bind(this),className:"UFICommentNotSpamLink",href:"#",role:"button"},d._("Unhide"));if(v&&q.isthreaded&&o.cancomment&&u)C=this.renderCommentReply(o)}else{y=a("UFICommentLikeLink.react").getCanRender(o)?a("React").createElement(a("UFICommentLikeLink.react"),{comment:o,contextArgs:n.contextArgs,feedback:q}):null;if(q.isthreaded&&o.cancomment&&u||!!o.parentcommentid&&q.cancomment&&r)C=this.renderCommentReply(o);if(o.canviewerreact&&!n.contextArgs.isaskquestion)A=!this.props.hideReactionCount&&o.reactioncount>0?a("React").createElement(a("UFICommentReactionCount.react"),{comment:o,actorForPost:q.actorforpost,supportedReactions:q.supportedreactions,contextArgs:n.contextArgs}):null;else A=!this.props.hideReactionCount&&o.likecount>0?a("React").createElement(a("UFICommentLikeCount.react"),{comment:o,actorForPost:q.actorforpost,contextArgs:n.contextArgs}):null;D=this.renderMessageReply(o,q)}if(o.attachment&&o.attachment.type==="share"&&!o.attachment.disableRemove&&o.canremove){var ga="_460h";E=a("React").createElement("a",{className:ga,href:"#",onClick:function(event){return this.context.dispatch(a("UFICommentAction").removePreview(n.contextArgs,o,event.target))}.bind(this),role:"button"},d._("Remove Preview"))}if(a("UFICommentShareLink.react").getCanRender(o))z=a("React").createElement(a("UFICommentShareLink.react"),{contextArgs:n.contextArgs,comment:o});if(o.cansubscribe)L=a("React").createElement(a("UFICommentSubscribeLink.react"),{contextArgs:n.contextArgs,comment:o})}if(a("UFIConfig").publicConversationsUnicornWhitelist)F=a("React").createElement("a",{className:"share_action_link",href:"#",role:"button",title:"[FB Only] Mark this comment as a great comment for futher review.",onClick:function $(event){return new(a("PublicConversationsUnicornTypedLogger"))().setCommentFbid(o.fbid).log()}},"Unicorn");var ha=n.contextArgs.islivestreaming||n.contextArgs.isLivingRoom,N=ha?null:a("React").createElement(a("UFICommentMetadata.react"),{comment:o,onRetrySubmit:function(){return this.context.dispatch(a("UFIAddCommentAction").retrySubmit(n.contextArgs,o))}.bind(this),permalink:p,shortenTimestamp:n.contextArgs.shortenTimestamp,showPermalink:n.showPermalink,contextArgs:n.contextArgs}),O=null;if(n.contextArgs.enablePinLiveComments&&!o.tipOptionIndex)if(n.contextArgs.islivestreaming&&this.state.pinActionLinkState!=="None")O=a("React").createElement(a("UFILivePinnedCommentLink.react"),{commentID:o.id,commentFBID:o.fbid,contextArgs:n.contextArgs,isPinned:this.state.pinActionLinkState==="MayUnpin"});else if(n.contextArgs.isLiveVOD&&this.state.pinActionLinkState==="MayUnpin"){var P=a("UFILivePinnedCommentStore").getPinEventID(n.contextArgs.ftentidentifier);if(P!==null)O=a("React").createElement(a("UFILiveVODUnpinCommentLink.react"),{commentID:o.id,contextArgs:n.contextArgs,pinEventID:P})}var Q={};if(q.customcommentactionlinks){var R=function R(S){var $=q.customcommentactionlinks[S];if($.showInMenu)return"continue";var Z=function Z(event){return a("UFICentralUpdates").inform($.type,{comment:o,feedback:q})};Q[$.type]=a("React").createElement("a",{href:"#",onClick:Z,role:"button"},$.title)};for(var S in q.customcommentactionlinks){var m=R(S);if(m==="continue")continue}}var T=void 0;if(o.needsApproval)T=babelHelpers["extends"]({keepToggle:H,deleteToggle:I,metadata:N},Q);else if(o.canAppeal||o.canSecure||(o.appealStatus===a("CommentApprovalsResponsibleUserAction").APPEALED||o.appealStatus===a("CommentApprovalsResponsibleUserAction").SECURED_ACCOUNT)&&!o.isApproved)T=babelHelpers["extends"]({appealToggle:J,secureToggle:K,deleteToggle:I,metadata:N},Q);else if(this.props.orderingMode===a("WebCommentViewOption").LIVE_STREAMING)T=babelHelpers["extends"]({likeToggle:y,unicornButton:F,spamToggle:x,likeCount:A,spamCount:B,livePinCommentLink:O,metadata:N},Q,{removePreview:E});else if(q.isqanda)T=babelHelpers["extends"]({likeCount:A,spamCount:B,likeToggle:y,unicornButton:F,commentReply:C,translateLink:w,shareComment:z,messageReply:D,spamToggle:x},Q,{livePinCommentLink:O,metadata:N,removePreview:E});else if(n.contextArgs.isaskquestion&&!o.parentcommentid){if(M)G=this.renderAcceptAnswerButton(n.contextArgs,q,o);T=babelHelpers["extends"]({likeToggle:y,unicornButton:F,commentReply:C,translateLink:w,messageReply:D,spamToggle:x,removePreview:E,shareComment:z,subscribeComment:L,likeCount:A,spamCount:B,acceptAnswerButton:G},Q,{livePinCommentLink:O,metadata:N})}else if(n.contextArgs.entstream)T=babelHelpers["extends"]({livePinCommentLink:O,metadata:N,likeToggle:y,unicornButton:F,likeCount:A,commentReply:C,translateLink:w,messageReply:D,shareComment:z,subscribeComment:L,spamCount:B,spamToggle:x,removePreview:E},Q);else if(q.isthreaded)T=babelHelpers["extends"]({likeToggle:y,unicornButton:F,commentReply:C,translateLink:w,messageReply:D,spamToggle:x,removePreview:E,shareComment:z,subscribeComment:L,likeCount:A,spamCount:B},Q,{livePinCommentLink:O,metadata:N});else T=babelHelpers["extends"]({livePinCommentLink:O,metadata:N,likeToggle:y,unicornButton:F,shareComment:z,subscribeComment:L,likeCount:A,spamCount:B,commentReply:C,translateLink:w,messageReply:D,spamToggle:x,removePreview:E},Q);if(o.status===h.LIVE_DELETED){var U=d._("Comment deleted"),ia=a("React").createElement("span",{className:k},a("React").createElement("i",{"aria-label":U,className:j,"data-hover":"tooltip","data-tooltip-content":U,role:"img"}));T.deletionWarning=ia}if(o.isApproved){var V=d._("This comment was originally marked as spam");T.isApproved=a("React").createElement(a("BootloadedComponent.react"),{bootloadLoader:a("JSResource")("Image.react").__setRef("UFICommentActions.react"),bootloadPlaceholder:a("React").createElement("span",null),"data-hover":"tooltip","data-tooltip-content":V,"aria-label":V,src:c("119369"),"data-tooltip-alignh":"left"})}var W=true,X={};for(var Y in T){var Z=T[Y];if(Z){var ja=a("React").createElement(a("Middot.react"),{key:"middot-"+Y});X[Y]=W?Z:a("ReactFragment").create({middot:ja,action:Z});W=false}}return a("React").createElement("div",{className:i},a("ReactFragment").create(X))};l.prototype.renderCommentReply=function(m){return a("React").createElement("a",{className:"UFIReplyLink _460i",href:"#",onClick:function(){var n=this.props,o=n.contextArgs,p=n.feedback;if(p.isthreaded&&m.cancomment)this.context.dispatch(a("UFIStoryAction").showReplies(o,m.id,m));else if(m.parentcommentid)this.context.dispatch(a("UFIStoryAction").showReplies(o,m.parentcommentid,m));if(p.targetiscomment)a("UFISharedDispatcher").dispatch(a("UFIStoryAction").showComments(o))}.bind(this),role:"button"},d._("Reply"))};l.prototype.renderMessageReply=function(m,n){__p&&__p();if(m.messagereply){if(a("UFIPrivateReplyLink.react").willRender(m.messagereply,n.actorforpost))return a("React").createElement(a("UFIPrivateReplyLink.react"),{actorID:n.actorforpost,activityID:m.id,context:m.messagereply,seeResponseLabel:true,shouldShowNux:this.props.contextArgs.shouldShowCommentPrivateReplyNux});else if(a("UFIPrivateReplyIndicator.react").willRender(m.messagereply.status))return a("React").createElement(a("UFIPrivateReplyIndicator.react"),{replyStatus:m.messagereply.status})}else if(m.chattobuy){var o="_460j";return a("React").createElement("a",{className:o,href:m.chattobuy,role:"button",rel:"async-dialog"},d._("Message"))}return null};l.prototype.renderAcceptAnswerButton=function(m,n,o){__p&&__p();var p=n.actorid===n.actorforpost;if(this.state.acceptedAnswerState.type==="NoneAccepted"){if(!p)return null;var q="_460k";return a("React").createElement(a("ShimButton.react"),{className:q,form:"link",onClick:this.$UFICommentActions1},d._("Accept Answer"))}if(this.state.acceptedAnswerState.id!==o.id)return null;var r="_460l";return p?a("React").createElement(a("ShimButton.react"),{className:r,form:"link",onClick:this.$UFICommentActions2},d._("Unaccept Answer")):d._("Accepted answer")};l.contextTypes={dispatch:g.func};b.exports=a("FluxContainer").create(l,{withProps:true})}),null);
__d("XAnimatedImageInLiveCommentPreviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/gifs/in_live_comment/",{})}),null);
__d("XDonationCommentPreviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/fundraiser_for_story/live_comment_attachment/",{})}),null);
__d("XFileCommentPreviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/files_in_comments/live_comment_attachment/",{})}),null);
__d("XTipJarCommentPreviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/tip_jar/live_comment_attachment/",{})}),null);
__d("XVideoInLiveCommentPreviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/in_live_comment/",{})}),null);
__d("UFICommentAttachment.react",["cx","AsyncRequest","BootloadedComponent.react","CSS","DOM","DOMQuery","HTML","Image.react","JSResource","Link.react","LitestandShareAttachment","Random","React","ReactDOM","SubscriptionsHandler","UFILocallyComposedCommentStore","XAnimatedImageInLiveCommentPreviewController","XDonationCommentPreviewController","XFileCommentPreviewController","XTipJarCommentPreviewController","XUISpinner.react","XVideoInLiveCommentPreviewController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k="ufi_comment_photo",l=80,m="ufi_comment_sticker";i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(o){j.constructor.call(this,o);this.state={localCommentIDs:c("UFILocallyComposedCommentStore").getStateForInstance(this.props.comment.ufiinstanceid),randomInstanceID:Math.floor(c("Random").random()*1e4)}}n.prototype.$UFICommentAttachment2=function(o){return o.photo_comment||o.video_comment||o.file_comment||o.attachment};n.prototype.$UFICommentAttachment3=function(o,p){__p&&__p();var q=void 0,r=void 0,s=void 0;if(p>o){s=l/p;q=o*s;r=p*s}else{s=l/o;q=o*s;r=p*s}return{height:Math.round(q),width:Math.round(r)}};n.prototype.componentDidMount=function(){var o=this.$UFICommentAttachment2(this.props.comment);if(o)this.renderAttachment(o);this.$UFICommentAttachment1=new(c("SubscriptionsHandler"))();this.$UFICommentAttachment1.addSubscriptions(c("UFILocallyComposedCommentStore").addListener(function(){this.setState({localCommentIDs:c("UFILocallyComposedCommentStore").getStateForInstance(this.props.comment.ufiinstanceid)})}.bind(this)))};n.prototype.shouldComponentUpdate=function(o,p){var q=this.$UFICommentAttachment2(this.props.comment),r=this.$UFICommentAttachment2(o.comment);if(!q&&!r)return false;if(!q||!r||q.markup!=r.markup)return true;else return false};n.prototype.componentDidUpdate=function(o){var p=this.$UFICommentAttachment2(this.props.comment);if(!p)return;if(p.type!=="sticker"&&p.type!=="photo")this.renderAttachment(p)};n.prototype.componentWillUnmount=function(){if(this.refs&&this.refs.contents){var o=c("ReactDOM").findDOMNode(this.refs.contents);c("DOM").empty(o)}this.$UFICommentAttachment1&&this.$UFICommentAttachment1.release()};n.prototype.renderAttachment=function(o){__p&&__p();if(o&&this.refs&&this.refs.contents&&o.markup){var p=o.markup;if(c("HTML").isHTML(p.markup))p=c("HTML").replaceJSONWrapper(p.markup).getRootNode();var q=p.parentNode,r=c("ReactDOM").findDOMNode(this.refs.contents);if(q&&q!==r)p=p.cloneNode(true);if(this.props.disableTheater){var s=p.querySelector('a[rel="theater"]');if(s)c("DOM").setAttributes(s,{target:"_blank",rel:""})}c("DOM").setContent(r,p);if(o.type=="share"){var t="_6m2",u=r&&c("CSS").hasClass(r,t)?r:c("DOMQuery").scry(r,"."+t)[0];u=u?u:r;if(u instanceof HTMLElement)c("LitestandShareAttachment").init(u)}}else if(o&&o.type=="video"&&!o.markup){var v=c("XVideoInLiveCommentPreviewController").getURIBuilder();new(c("AsyncRequest"))(v.getURI()).setMethod("POST").setData({video_id:o.target.id}).setHandler(function(w){this.renderAttachment(w.payload.video_preview.video_comment)}.bind(this)).send()}else if(o&&o.type=="gif"&&!o.markup)new(c("AsyncRequest"))(c("XAnimatedImageInLiveCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$UFICommentAttachment4(o.type)}).send();else if(o&&o.type=="file"&&!o.markup)new(c("AsyncRequest"))(c("XFileCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$UFICommentAttachment4(o.type)}).send();else if(o&&o.type=="donation"&&!o.markup)new(c("AsyncRequest"))(c("XDonationCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$UFICommentAttachment4(o.type)}).send();else if(o&&o.type=="TIP_JAR_PAYMENT"&&!o.markup)new(c("AsyncRequest"))(c("XTipJarCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$UFICommentAttachment4(o.type)}).send()};n.prototype.renderSticker=function(o){var p=this.$UFICommentAttachment3(Number(o.metadata.height),Number(o.metadata.width)),q=null,r=null;if(window.devicePixelRatio&&window.devicePixelRatio>1){q=o.metadata.sprite_uri_2x;r=o.metadata.source_uri_2x}else{q=o.metadata.sprite_uri;r=o.metadata.source_uri}return c("React").createElement(c("BootloadedComponent.react"),{accessibilityLabel:o.metadata.accessibilityLabel,bootloadPlaceholder:c("React").createElement(c("XUISpinner.react"),null),bootloadLoader:c("JSResource")("Sticker.react").__setRef("UFICommentAttachment.react"),className:"UFICommentStickerAttachment",animationTrigger:"load_and_hover",frameCount:o.metadata.frameCount,frameRate:o.metadata.frameRate,framesPerCol:o.metadata.framesPerCol,framesPerRow:o.metadata.framesPerRow,spriteURI:q,sourceHeight:p.height,sourceURI:r,sourceWidth:p.width,testID:m})};n.prototype.renderPhoto=function(o){var p="_2rn3 _4-eo";return c("React").createElement("div",{className:"_4iv9"},c("React").createElement(c("Link.react"),{className:p,"data-testid":k,rel:"theater",href:o.metadata.url},c("React").createElement("div",{style:{height:o.metadata.height}},c("React").createElement(c("Image.react"),{src:o.metadata.preview_uri}))))};n.prototype.renderShare=function(o){return c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("span",null),bootloadLoader:c("JSResource")("UFILiveCommentLinkPreview.react").__setRef("UFICommentAttachment.react"),attachment:o})};n.prototype.renderLivePlaceInfo=function(o){return c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("span",null),bootloadLoader:c("JSResource")("PlaceListLiveCommentAttachment.react").__setRef("UFICommentAttachment.react"),commentID:this.props.comment.fbid,data:o,postID:this.props.comment.ftentidentifier})};n.prototype.renderPlaceInfo=function(o){var p=this.props.comment.__typename==="local"||this.state.localCommentIDs[this.props.comment.id];return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:c("React").createElement(c("XUISpinner.react"),null),bootloadLoader:c("JSResource")("MultiPlacePageInfoCard.react").__setRef("UFICommentAttachment.react"),isLocallyComposed:p,postID:this.props.comment.ftentidentifier},o.props))};n.prototype.renderProductInfo=function(o){if(o.props.category==="Books")return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:c("React").createElement(c("XUISpinner.react"),null),bootloadLoader:c("JSResource")("ProductBookRecommendationCard.react").__setRef("UFICommentAttachment.react")},o.props));return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:c("React").createElement(c("XUISpinner.react"),null),bootloadLoader:c("JSResource")("ProductRecommendationCard.react").__setRef("UFICommentAttachment.react")},o.props))};n.prototype.renderUpsellInfo=function(o){if(o.subtype&&o.subtype=="question_triggered_page_msg")return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:c("React").createElement(c("XUISpinner.react"),null),bootloadLoader:c("JSResource")("PageCommentQuestionMessageCard.react").__setRef("UFICommentAttachment.react")},o));return c("React").createElement("span",null)};n.prototype.$UFICommentAttachment4=function(o){return o+"_comment_attachment_"+this.props.comment.id+this.state.randomInstanceID};n.prototype.render=function(){__p&&__p();var o=this.$UFICommentAttachment2(this.props.comment);if(o)if(o.type==="sticker")return this.renderSticker(o);else if(o.type==="gif"||o.type==="donation"||o.type==="TIP_JAR_PAYMENT")return c("React").createElement("div",{ref:"contents",id:this.$UFICommentAttachment4(o.type)},c("React").createElement(c("XUISpinner.react"),null));else if(o.type==="photo")return this.renderPhoto(o);else if(o.type==="live_share")return this.renderShare(o);else if(o.type=="comment_place_info")return this.renderPlaceInfo(o);else if(o.type=="live_comment_place_info")return this.renderLivePlaceInfo(o);else if(o.type=="comment_product_info")return this.renderProductInfo(o);else if(o.type=="upsell_info")return this.renderUpsellInfo(o);else return c("React").createElement("div",{ref:"contents"});return c("React").createElement("span",null)};f.exports=n}),null);
__d("HovercardLinkInterpolator",["cx","fbt","Badge.react","CommentMentionsGatingConfig","HovercardLink","Link.react","React","UFIActorIconContainer.react","URI","isFacebookURI","isRTL"],(function a(b,c,d,e,f,g,h,i){__p&&__p();function j(k,l,m,n,o){__p&&__p();var p=arguments.length<=5||arguments[5]===undefined?null:arguments[5],q=l.entity,r=m||(q.external?"_blank":null),s,t=(!q.external?"profileLink":"")+(q.weakreference?" weakReference":""),u,v=q.hashtag?k.substring(1):k;u=c("isRTL")(v)?"rtl":"ltr";var w=new(c("URI"))(q.url);if(c("isFacebookURI")(w))w.addQueryData({hc_location:o});var x=q.shimhash?q.shimhash:null,y=!q.external&&!q.hashtag&&!q.photo&&!q.note&&!q.statusupdate&&!q.video,z=y?{"data-hovercard":c("HovercardLink").constructEndpointWithGroupLocationAndExtraParams(q,n,q.hovercardlocation?q.hovercardlocation:o,null,p).toString()}:{};if(q.hashtag)s=c("React").createElement("a",babelHelpers["extends"]({},z,{className:"_58cn",dir:u,href:w.toString(),target:r}),c("React").createElement("span",{"aria-label":i._("hashtag"),className:"_58cl"},k.substring(0,1)),c("React").createElement("span",{className:"_58cm"},k.substring(1)));else if(q.type==="user"&&c("CommentMentionsGatingConfig").enabled_rich_comment_mentions)s=c("React").createElement("div",{className:"_35mm"},c("React").createElement(c("Link.react"),babelHelpers["extends"]({},z,{className:t,dir:u,href:{url:w.toString(),shimhash:x},target:r}),c("React").createElement("span",{className:"_35mo"},c("React").createElement("span",{className:"_35mp"},c("React").createElement(c("UFIActorIconContainer.react"),{actorID:q.id.toString(),tinyIcon:true})),c("React").createElement("span",{className:"_35mq"},k))));else{var A=[];if(q.weakreference)A.push(c("React").createElement("i",{key:"weakreference",className:"UFIWeakReferenceIcon"}));A.push(k);if(q.noncoworker)A.push(c("React").createElement(c("Badge.react"),{key:"noncoworker",type:"work_non_coworker"}));if(q.dialogurl)s=c("React").createElement(c("Link.react"),babelHelpers["extends"]({},z,{className:t,dir:u,ajaxify:q.dialogurl,rel:"dialog",href:{url:w.toString(),shimhash:x},target:r}),A);else s=c("React").createElement(c("Link.react"),babelHelpers["extends"]({},z,{className:t,dir:u,href:{url:w.toString(),shimhash:x},target:r}),A)}return s}f.exports=j}),null);
__d("VideoTimestampsClicksWWWTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$VideoTimestampsClicksWWWTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$VideoTimestampsClicksWWWTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$VideoTimestampsClicksWWWTypedLogger1={};return this};h.prototype.updateData=function(j){this.$VideoTimestampsClicksWWWTypedLogger1=babelHelpers["extends"]({},this.$VideoTimestampsClicksWWWTypedLogger1,j);return this};h.prototype.setCommentID=function(j){this.$VideoTimestampsClicksWWWTypedLogger1.comment_id=j;return this};h.prototype.setIsContentTimestamp=function(j){this.$VideoTimestampsClicksWWWTypedLogger1.is_content_timestamp=j;return this};h.prototype.setLocalCommentFeedbackID=function(j){this.$VideoTimestampsClicksWWWTypedLogger1.local_comment_feedback_id=j;return this};h.prototype.setVC=function(j){this.$VideoTimestampsClicksWWWTypedLogger1.vc=j;return this};h.prototype.setVideoTimestamp=function(j){this.$VideoTimestampsClicksWWWTypedLogger1.video_timestamp=j;return this};var i={comment_id:true,is_content_timestamp:true,local_comment_feedback_id:true,vc:true,video_timestamp:true};f.exports=h}),null);
__d("transformTextRanges",["UnicodeUtils"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(i,j,k){__p&&__p();if(!i||!j||!k)return i;j.sort(function(r,s){return r.offset-s.offset});var l=0;for(var m=0;m<j.length;m++){j[m].offset+=l;var n=c("UnicodeUtils").substr(i,j[m].offset,j[m].length),o=c("UnicodeUtils").strlen(n),p=k(n,j[m]),q=c("UnicodeUtils").strlen(p);if(n!==p){i=c("UnicodeUtils").substr(i,0,j[m].offset)+p+c("UnicodeUtils").substr(i,j[m].offset+j[m].length);j[m].length=q;l+=q-o}}return i};f.exports=h}),null);
__d("UFICommentUtils",["HovercardLinkInterpolator","React","TextDelightRange.react","UFIConstants","UFIVideoPlayerRegistry","URI","URITruncator","VideoTimestampsClicksWWWTypedLogger","transformTextRanges"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getCommentTextWithTruncatedURIs:function i(j,k){if(c("UFIConstants").commentURLTruncationLength)if(j&&j.length>0)k=c("transformTextRanges")(k,j,function(l,m){var n=m.entity&&(m.entity.external||m.entity.__type__&&m.entity.__type__.name==="ExternalUrl");return n?c("URITruncator")(l,c("UFIConstants").commentURLTruncationLength):l});return k},getCommentBodyInterpolator:function i(j,k,l,m,n){__p&&__p();return function(o,p){__p&&__p();if(p.videoTimestamp){if(m)return c("React").createElement("span",null,p.entity);var q=function q(t){t.preventDefault();new(c("VideoTimestampsClicksWWWTypedLogger"))().setVideoTimestamp(p.integerTimestamp).setCommentID(l).setIsContentTimestamp(false).log();if(k){c("UFIVideoPlayerRegistry").seekAvailableVideoPlayerController(k,p.integerTimestamp);c("UFIVideoPlayerRegistry").scrollToAvailableVideo(k)}return false};return c("React").createElement("a",{className:"TimestampLink",onClick:q,href:"#"},p.entity)}else if(p.sphericalViewport){var r=function r(t){t.preventDefault();if(k)c("UFIVideoPlayerRegistry").setAvailableVideoPlayerControllerSphericalViewport(k,{yaw:p.yaw,pitch:p.pitch});return false};return c("React").createElement("a",{onClick:r,href:"#"},p.entity)}else if(p.sphericalViewportAndTimestamp){var s=function s(t){t.preventDefault();if(k){c("UFIVideoPlayerRegistry").setAvailableVideoPlayerControllerSphericalViewport(k,{yaw:p.yaw,pitch:p.pitch});c("UFIVideoPlayerRegistry").seekAvailableVideoPlayerController(k,p.integerTimestamp)}return false};return c("React").createElement("a",{onClick:s,href:"#"},p.entity)}else if(p.campaign)return c("React").createElement(c("TextDelightRange.react"),{campaignID:p.campaign.id,commentPrivacy:n||undefined,delightStyles:p.campaign.delight_styles},o);else return c("HovercardLinkInterpolator")(o,p,"_blank",j,"ufi")}},shallowCopyRanges:function i(j){if(!j)return j;var k=[];j.forEach(function(l){k.push(babelHelpers["extends"]({},l))});return k},annotateProfileURIIfPublic:function i(j,k){if(!j)return k;return new(c("URI"))(k).addQueryData("rc","p").toString()},shouldShowTranslateAll:function i(j,k,l,m){__p&&__p();if(!j)return false;var n=0,o=void 0,p=void 0;for(var q=0;q<j.length;q++){o=j[q];if(o.istranslatable&&!o.translationdata&&!m[o.id])n++;if(n>1)return true;if(l[o.id]){p=k?k[o.id]:[];for(var r=0;r<p.length;r++){o=p[r];if(o.istranslatable&&!o.translationdata&&!m[o.id])n++;if(n>1)return true}}}return false}};f.exports=h}),null);
__d("UFIActor.react",["cx","fbt","Badge.react","Focus","HovercardLink","Image.react","Locale","React","ReactDOM","UFICommentUtils","UFIConfig","UserHovercardLocation"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.componentDidMount=function(){if(this.props.focusOnMount)c("Focus").setWithoutOutline(c("ReactDOM").findDOMNode(this.refs.authorName))};l.prototype.render=function(){__p&&__p();var m=this.props.author,n=c("Locale").isRTL()?"rtl":"ltr",o=(this.props.isAuthorWeakReference?"weakReference":"")+" UFICommentActorName",p=[];if(this.props.isAuthorWeakReference)p.push(c("React").createElement("i",{className:"UFIWeakReferenceIcon",key:"icon"}));if(this.props.author.badgeSrc&&this.props.author.badgeSrc.length>0)p.push(c("React").createElement("span",null,c("React").createElement(c("Badge.react"),{type:"subscription",size:"medium",key:"badge"})," "));if(m.persona)p.push(i._("{author} ({persona})",[i.param("author",m.firstName),i.param("persona",m.persona)]));else if(this.props.useFirstName)p.push(m.firstName);else if(this.props.author.isBusinessPersona&&this.props.author.assetRole)p.push(m.name+" "+i._("(")+this.props.author.assetRole+i._(")"));else p.push(m.name);if(this.props.isAuthorNonCoworker)p.push(c("React").createElement(c("Badge.react"),{key:"noncoworker",type:"work_non_coworker"}));else if(this.props.isAuthorBot)p.push(c("React").createElement(c("Badge.react"),{key:"bot",type:"bot"}));var q=this.props.customGlyphTag;if(q&&q.glyph)p.push(c("React").createElement(c("Image.react"),{className:q.classname,key:"customglyphtag",src:q.glyph,alt:q.description,title:q.description}));var r=this.props.isAdminViewer?c("UserHovercardLocation").UFI_ADMIN:c("UserHovercardLocation").UFI,s=Object.assign({},this.props);delete s.author;delete s.customGlyphTag;delete s.delimiter;delete s.dialogUrl;delete s.disableAuthorLink;delete s.focusOnMount;delete s.groupOrEventID;delete s.hovercardLocation;delete s.isAdminViewer;delete s.isAuthorBot;delete s.isAuthorNonCoworker;delete s.isAuthorWeakReference;delete s.isPublic;delete s.showHovercard;delete s.useFirstName;delete s.commonalityString;var t=this.props.showHovercard?c("HovercardLink").constructEndpointWithGroupLocationAndExtraParams(m,this.props.groupOrEventID,this.props.hovercardLocation?this.props.hovercardLocation:r,this.props.isAuthorWeakReference,{is_public:this.props.isPublic}).toString():null,u=m.uri&&!this.props.disableAuthorLink,v=u?c("UFICommentUtils").annotateProfileURIIfPublic(!!this.props.isPublic,m.uri):null,w=u?c("React").createElement("a",babelHelpers["extends"]({},s,{className:o,"data-hovercard":t,"data-ft":this.props["data-ft"],dir:n,href:v,ref:"authorName"}),p):c("React").createElement("span",{className:o,dir:n,ref:"authorName"},p);if(this.props.dialogUrl)w=c("React").createElement("a",babelHelpers["extends"]({},s,{className:o,"data-hovercard":t,"data-ft":this.props["data-ft"],dir:n,ajaxify:this.props.dialogUrl,rel:"dialog",href:v,ref:"authorName"}),p);return c("React").createElement("span",{className:c("UFIConfig").showCommonalityContext&&this.props.commonalityString?"UFICommentActorNameSpan":""},w,c("React").Children.map(this.props.children,function(x){return x?[x.key==="badge"||x.key==="constituentTitle"||x.key==="commonalityContext"||x.key==="neighborBadge"?"":this.props.delimiter,x]:null}.bind(this)))};function l(){j.apply(this,arguments)}l.defaultProps={delimiter:" \xb7 ",isAdminViewer:false,isPublic:false};f.exports=l}),null);
__d("UFICommonalityContext.react",["React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){return c("React").createElement("span",{className:"UFICommentCommonalityContext",title:this.props.commonalityString},this.props.commonalityString)};function k(){h.apply(this,arguments)}k.PropTypes={commonalityString:j.string.isRequired};f.exports=k}),null);
__d("UFISocialContext.react",["fbt","HovercardLink","ProfileBrowserLink","ProfileBrowserTypes","React","URI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=27;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){__p&&__p();var m=this.props.topMutualFriend,n=this.props.otherMutualCount,o=this.props.commentAuthor,p=c("HovercardLink").constructEndpoint(m).toString(),q=c("React").createElement("a",{href:m.uri,"data-hovercard":p,key:"top"},m.name),r=o.name.length+m.name.length,s=void 0;if(n===0)s=h._("Friends with {name}",[h.param("name",q)]);else if(r<k){var t=void 0;if(n==1)t=h._("1 other");else t=h._({"*":"{count} others"},[h.param("count",n,[0])]);s=h._("Friends with {name} and {others}",[h.param("name",q),h.param("others",this.getOthersLink(t,o,m))])}else{var u=h._({"*":"{count} mutual friends"},[h.param("count",n+1,[0])]);s=this.getOthersLink(u,o)}return c("React").createElement("span",{className:"UFICommentSocialContext"},s)};l.prototype.getOthersLink=function(m,n,o){var p=c("ProfileBrowserTypes").MUTUAL_FRIENDS,q={uid:n.id},r=new(c("URI"))("/ajax/mutual_friends/tooltip.php").setQueryData({friend_id:n.id});if(o)r.addQueryData({exclude_id:o.id});var s=c("ProfileBrowserLink").constructDialogURI(p,q).toString();return c("React").createElement("a",{ajaxify:s,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":r.toString(),href:c("ProfileBrowserLink").constructPageURI(p,q).toString(),key:"others",rel:"dialog"},m)};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("UFICommentAuthorName.react",["Badge.react","BootloadedComponent.react","JSResource","React","TrackingNodes","UFIActor.react","UFICommonalityContext.react","UFIConfig","UFISocialContext.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.props,m=l.author,n=c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.USER_NAME),o=null,p=l.isAuthorOriginalPoster&&!l.isFeatured;if(p)o=c("React").createElement("div",{className:"UFIOPIconContainer","data-tooltip-alignh":"center","data-hover":"tooltip","data-tooltip-content":"Original poster",key:"badge"},c("React").createElement("i",{className:"UFIOriginalPosterIcon"}));return c("React").createElement(c("UFIActor.react"),{author:m,"data-ft":n,commonalityString:l.commonalityString,disableAuthorLink:l.disableAuthorLink,focusOnMount:l.focusOnMount,customGlyphTag:l.customGlyphTag,groupOrEventID:l.groupOrEventID,hovercardLocation:l.hovercardLocation,isAdminViewer:l.isAdminViewer,isAuthorBot:l.isAuthorBot,isAuthorNonCoworker:l.isAuthorNonCoworker,isAuthorWeakReference:l.isAuthorWeakReference,isPublic:this.props.isPublic,key:"author",dialogUrl:l.dialogUrl,showHovercard:l.showHovercard,useFirstName:l.useFirstName},o,l.isFeatured?c("React").createElement(c("Badge.react"),{key:"badge",size:"xsmall",type:"verified"}):null,this.$UFICommentAuthorName1(m),this.$UFICommentAuthorName2(l.neighborBadge),l.socialContext?c("React").createElement(c("UFISocialContext.react"),{topMutualFriend:l.authorProfiles[l.socialContext.topmutualid],otherMutualCount:l.socialContext.othermutualcount,commentAuthor:m}):null,c("UFIConfig").showCommonalityContext&&l.commonalityString?c("React").createElement(c("UFICommonalityContext.react"),{commonalityString:l.commonalityString,key:"commonalityContext"}):null)};k.prototype.$UFICommentAuthorName1=function(l){var m=this.props.constituentBadge;if(m&&m.officeTitle&&m.representativeName&&m.commentId)return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ConstituentBadge.react").__setRef("UFICommentAuthorName.react"),bootloadPlaceholder:c("React").createElement("div",null),authorFirstName:l.firstName,authorId:l.id,commentId:m.commentId,ftId:m.ftId,isOwner:m.isOwner,key:"constituentTitle",officeTitle:m.officeTitle,representativeName:m.representativeName,representativeId:m.representativeId,upsellEnabled:m.upsellEnabled});if(this.props.hasConstituentBadge)return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ConstituentBadge.react").__setRef("UFICommentAuthorName.react"),bootloadPlaceholder:c("React").createElement("div",null),authorFirstName:l.firstName,authorId:l.id,commentId:this.props.commentID,key:"constituentTitle"});return null};k.prototype.$UFICommentAuthorName2=function(l){if(l&&l.component&&l.component instanceof Function){var m=l.component,n=l.props;return c("React").createElement(m,babelHelpers["extends"]({key:"neighborBadge"},n))}return null};function k(){h.apply(this,arguments)}k.propTypes={author:j.object.isRequired,authorProfiles:j.object.isRequired,commentID:j.string,commonalityString:j.string,constituentBadge:j.object,customGlyphTag:j.object,dialogUrl:j.string,disableAuthorLink:j.bool,focusOnMount:j.bool,groupOrEventID:j.string,hasConstituentBadge:j.bool,hovercardLocation:j.string,isAdminViewer:j.bool,isAuthorBot:j.bool,isAuthorNonCoworker:j.bool,isAuthorWeakReference:j.bool,isAuthorOriginalPoster:j.bool,isFeatured:j.bool,isPublic:j.bool,neighborBadge:j.object,showHovercard:j.bool,socialContext:j.object,useFirstName:j.bool};f.exports=k}),null);
__d("IntlLang",["UnicodeBidi"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={HE:"\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05cf\u05d0-\u05ea\u05eb-\u05ef\u05f0-\u05f2\u05f3-\u05f4\u05f5-\u05ff\u07c0-\u07c9\u07ca-\u07ea\u07f4-\u07f5\u07fa\u07fb-\u07ff\u0800-\u0815\u081a\u0824\u0828\u082e-\u082f\u0830-\u083e\u083f\u0840-\u0858\u085c-\u085d\u085e\u085f-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb37\ufb38-\ufb3c\ufb3d\ufb3e\ufb3f\ufb40-\ufb41\ufb42\ufb43-\ufb44\ufb45\ufb46-\ufb4f"},i=new RegExp("["+h.HE+"]");function j(l){var m=c("UnicodeBidi").firstStrongChar(l);if(m===null)return null;if(i.exec(m))return"he";return null}var k={getLang:j};f.exports=k}),null);
__d("findSplitPointForText",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k){__p&&__p();var l=null,m=i.split("\n");if(j&&i.length>j)l=j;if(k&&m.length>k){var n=m.slice(0,k).join("\n").length;if(l!==null)l=Math.min(n,l);else l=n}return l}f.exports=h}),null);
__d("partitionTextAndRanges",["UnicodeUtils"],(function a(b,c,d,e,f,g){__p&&__p();function h(k,l){var m=k.offset+k.length;return l>k.offset&&l<m}function i(k,l){for(var m=0;m<k.length;m++){var n=k[m];if(h(n,l))return n.offset}return l}var j=function j(k,l,m,n){__p&&__p();var o=[],p=[],q=[],r=[],s=i(l.concat(m),n);for(var t=0;t<l.length;t++){var u=l[t];if(u.offset<s)o.push(u);else p.push(babelHelpers["extends"]({},u,{offset:u.offset-s}))}for(var v=0;v<m.length;v++){var w=m[v];if(w.offset<s)q.push(w);else r.push(babelHelpers["extends"]({},w,{offset:w.offset-s}))}return{before:{ranges:o,delightRanges:q,text:c("UnicodeUtils").substr(k,0,s)},after:{ranges:p,delightRanges:r,text:c("UnicodeUtils").substr(k,s)}}};f.exports=j}),null);
__d("TruncatedTextWithEntities.react",["fbt","React","SeeMore.react","TextWithEntities.react","findSplitPointForText","partitionTextAndRanges"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=30;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$TruncatedTextWithEntities1=function(r){if(!this.props.allowSeeMoreLinebreakOnLongWords||!r)return false;if(r.length<=k)return false;var s=/(^|\s)(\S+)$/,t=s.exec(r),u=t?t[2]:null;return!!(u&&u.length>k)}.bind(this),n}l.prototype.render=function(){"use strict";__p&&__p();var m=this.props.text||"",n=this.props.ranges||[],o=this.props.textDelightRanges||[];m=m.replace(/\s*$/,"");var p=this.props.maxLines,q=this.props.maxLength;if(q&&m.length>q){var r=this.props.truncationPercent||.6;q=Math.floor(r*q)}var s=null;if(!this.props.shouldExpand)s=c("findSplitPointForText")(m,q,p);if(s!==null){while(m[s-1]==="\n")s--;var t=c("partitionTextAndRanges")(m,n,o,s),u=c("React").createElement(c("TextWithEntities.react"),{aggregatedRanges:this.props.aggregatedRanges,interpolator:this.props.interpolator,ranges:t.before.ranges,textDelightRanges:t.before.delightRanges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:t.before.text});if(!this.props.showSeeMore)return c("React").createElement("span",{className:this.props.className,"data-ft":this.props["data-ft"],dir:this.props.dir,lang:this.props.lang},u,c("React").createElement("span",null,h._("...")));var v=this.$TruncatedTextWithEntities1(t.before.text);return c("React").createElement("span",{"data-ft":this.props["data-ft"],dir:this.props.dir,lang:this.props.lang},c("React").createElement(c("SeeMore.react"),{allowSeeMoreLinebreak:v,className:this.props.className,clickCallback:this.props.markViewerHasInteracted},u,c("React").createElement(c("TextWithEntities.react"),{aggregatedRanges:this.props.aggregatedRanges,interpolator:this.props.interpolator,ranges:t.after.ranges,textDelightRanges:t.after.delightRanges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:t.after.text})))}else return c("React").createElement("span",{"data-ft":this.props["data-ft"],dir:this.props.dir,lang:this.props.lang},c("React").createElement(c("TextWithEntities.react"),{aggregatedRanges:this.props.aggregatedRanges,className:this.props.className,imageRanges:this.props.imageRanges,interpolator:this.props.interpolator,ranges:n,showEmojisStandalone:this.props.showEmojisStandalone,textDelightRanges:this.props.textDelightRanges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:m}))};l.defaultProps={showSeeMore:true};f.exports=l}),null);
__d("UFICommentBody.react",["cx","CommentPrivacyValue","IntlLang","Locale","React","TrackingNodes","TruncatedTextWithEntities.react","UFICommentUtils","UFIConfig","UFIConstants","UnicodeBidi"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.commentText,o=c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.USER_MESSAGE),p=c("UnicodeBidi").isDirectionLTR(n),q=!p,r=p&&c("Locale").isRTL()?"ltr":q&&!c("Locale").isRTL()?"rtl":null,s=c("IntlLang").getLang(n),t=c("UFICommentUtils").getCommentBodyInterpolator(m.groupOrEventID,m.ufiInstanceID,m.commentFBID,!!m.isLiveStreaming,m.commentPrivacy),u=c("React").createElement(c("TruncatedTextWithEntities.react"),{key:"comment-body",className:"UFICommentBody"+(m.showEmojisStandalone?" _iqk":""),interpolator:t,ranges:m.commentRanges,textDelightRanges:m.textDelightRanges,text:n,truncationPercent:c("UFIConstants").commentTruncationPercent,maxLength:m.maxLength,maxLines:m.maxLines,renderEmoticons:c("UFIConfig").renderEmoticons,renderEmoji:c("UFIConfig").renderEmoji,showEmojisStandalone:m.showEmojisStandalone,"data-ft":o,dir:r,lang:s,markViewerHasInteracted:this.props.markViewerHasInteracted,allowSeeMoreLinebreakOnLongWords:true,shouldExpand:this.props.shouldExpand});if(m.socialContext)u=c("React").createElement("div",{key:"body"},u);else{var v=(p&&c("Locale").isRTL()?"_5wjy":"")+(p&&c("Locale").isRTL()?" _5wjz":"")+(q&&!c("Locale").isRTL()?" _5wj-":"")+(q&&!c("Locale").isRTL()?" _5wj_":"");u=v?c("React").createElement("div",{key:"body",className:v},u):[" ",u]}return c("React").createElement("span",null,u)};function l(){i.apply(this,arguments)}l.propTypes={commentText:k.string.isRequired,commentRanges:k.array,commentPrivacy:k.oneOf(Object.values(c("CommentPrivacyValue"))),textDelightRanges:k.array,showEmojisStandalone:k.bool,groupOrEventID:k.string,maxLength:k.number,maxLines:k.number,socialContext:k.object,markViewerHasInteracted:k.func,ufiInstanceID:k.string,commentFBID:k.oneOfType([k.string,k.number]),isLiveStreaming:k.bool,shouldExpand:k.bool};f.exports=l}),null);
__d("LiveVideoAnnouncementGlyph",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BULB:"bulb",COMMENT:"comment",EYE:"eye",LIKE:"like",LIVE_VIDEO:"live-video",FOLLOW:"follow",FOLLOWING:"following",CHECKMARK:"checkmark",AVATAR:"avatar"})}),null);
__d("UFICommentLiveVideoAnnouncementImage.react",["ix","cx","CurrentUser","Image.react","LiveVideoAnnouncementGlyph","React","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.render=function(){var m=this.$UFICommentLiveVideoAnnouncementImage1();if(!m)return c("React").createElement("span",null);var n=c("CurrentUser").isWorkUser();return this.props.isJoinEvent?c("React").createElement("div",{className:"_15lj"},c("React").createElement(c("Image.react"),{className:"_24l1",src:m})):c("React").createElement("div",{className:"_15lj"+(this.props.contextArgs.isLiveVideoSutroAnnouncementEnabled&&!n?" _z79":"")+(this.props.contextArgs.isLiveVideoSutroAnnouncementEnabled&&n?" _66n8":"")},c("React").createElement(c("Image.react"),{className:"_15lk",height:20,src:m,width:20}))};l.prototype.$UFICommentLiveVideoAnnouncementImage1=function(){__p&&__p();if(this.props.contextArgs.isLiveVideoSutroAnnouncementEnabled&&!this.props.isJoinEvent)if(c("CurrentUser").isWorkUser())return h("127093");else return h("114228");if(this.props.image)return this.props.image;switch(this.props.glyphName){case c("LiveVideoAnnouncementGlyph").COMMENT:return h("114673");case c("LiveVideoAnnouncementGlyph").EYE:return h("114860");case c("LiveVideoAnnouncementGlyph").BULB:return h("114492");case c("LiveVideoAnnouncementGlyph").LIKE:return h("115160");default:return null}};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("ReactPropTransfererCore",["emptyFunction","joinClasses"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(m){return function(n,o,p){if(!Object.prototype.hasOwnProperty.call(n,o))n[o]=p;else n[o]=m(n[o],p)}}var i=h(function(m,n){return Object.assign({},n,m)}),j={children:c("emptyFunction"),className:h(c("joinClasses")),style:i};function k(m,n){__p&&__p();for(var o in n){if(!Object.prototype.hasOwnProperty.call(n,o))continue;var p=j[o];if(p&&Object.prototype.hasOwnProperty.call(j,o))p(m,o,n[o]);else if(!Object.prototype.hasOwnProperty.call(m,o))m[o]=n[o]}return m}var l={mergeProps:function m(n,o){return k(Object.assign({},n),o)}};f.exports=l}),null);
__d("ReactPropTransferer",["ReactPropTransfererCore"],(function a(b,c,d,e,f,g){f.exports=c("ReactPropTransfererCore")}),null);
__d("cloneWithProps_DEPRECATED",["React","ReactPropTransferer","warning"],(function a(b,c,d,e,f,g){"use strict";var h="children",i=false;function j(k,l){var m=c("ReactPropTransferer").mergeProps(l,k.props);if(!Object.prototype.hasOwnProperty.call(m,h)&&Object.prototype.hasOwnProperty.call(k.props,h))m.children=k.props.children;return c("React").createElement(k.type,m)}f.exports=j}),null);
__d("AbstractButton.react",["cx","Link.react","React","cloneWithProps_DEPRECATED","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").Component,l=c("React").PropTypes;i=babelHelpers.inherits(m,k);j=i&&i.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.handleLinkClick=function(event){if(this.props.disabled)event.preventDefault();else if(this.props.onClick)this.props.onClick(event)}.bind(this),o}m.prototype.render=function(){"use strict";__p&&__p();var n=this.props,o=n.depressed,p=n.disabled,q=n.image,r=n.imageRight,s=n.label,t=n.labelIsHidden,u=babelHelpers.objectWithoutProperties(n,["depressed","disabled","image","imageRight","label","labelIsHidden"]);delete u.shade;var v="_42ft"+(p?" _42fr":"")+(o?" _42fs":""),w=q;if(w){var x={};if(s){x.alt="";if(!t)x.className="_3-8_"}w=c("cloneWithProps_DEPRECATED")(w,x)}var y=r;if(y){var z={};if(s){z.alt="";if(!t)z.className="_3-99"}y=c("cloneWithProps_DEPRECATED")(y,z)}if(this.props.href){var A=this.props,B=A.disabled,C=A.role,D=B&&C==="button";return c("React").createElement(c("Link.react"),babelHelpers["extends"]({},u,{"aria-disabled":D?true:undefined,className:c("joinClasses")(this.props.className,v),onClick:this.handleLinkClick,tabIndex:B?-1:this.props.tabIndex}),w,t?c("React").createElement("span",{className:"accessible_elem"},s):s,y)}else if(this.props.type&&this.props.type!=="submit")return c("React").createElement("button",babelHelpers["extends"]({},u,{className:c("joinClasses")(this.props.className,v),disabled:p,type:this.props.type}),w,t?c("React").createElement("span",{className:"accessible_elem"},s):s,y);else return c("React").createElement("button",babelHelpers["extends"]({},u,{className:c("joinClasses")(this.props.className,v),disabled:p,type:"submit",value:"1"}),w,t?c("React").createElement("span",{className:"accessible_elem"},s):s,y)};m.propTypes={image:l.element,imageRight:l.element,depressed:l.bool,label:l.node,onClick:l.func,labelIsHidden:l.bool};m.defaultProps={disabled:false,depressed:false,labelIsHidden:false};f.exports=m}),null);
__d("XUIAbstractGlyphButton.react",["cx","AbstractButton.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("AbstractButton.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_5upp"),label:this.props.label}))};function k(){i.apply(this,arguments)}k.propTypes=c("AbstractButton.react").propTypes;f.exports=k}),null);
__d("XUICloseButton.react",["cx","fbt","XUIAbstractGlyphButton.react","React","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";var n=this.props.size,o=this.props.shade,p="_50zy"+(n==="small"?" _50zz":"")+(n==="medium"?" _50-0":"")+(o==="light"?" _50z_":"")+(o==="dark"?" _50z-":""),q=this.props.label,r=this.props.title;if(!this.props.title&&!this.props.tooltip)r=q;return c("React").createElement(c("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{label:q,title:r,type:this.props.href?undefined:this.props.type,"data-hover":this.props.tooltip&&"tooltip","data-tooltip-alignh":this.props.tooltip&&"center","data-tooltip-content":this.props.tooltip,className:c("joinClasses")(this.props.className,p)}))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={shade:l.oneOf(["light","dark"]),size:l.oneOf(["small","medium"]),title:l.string,tooltip:l.string,type:l.oneOf(["submit","button","reset"])};m.defaultProps={label:i._("Remove"),size:"medium",shade:"dark",type:"button"};f.exports=m}),null);
__d("XUIDotsButton.react",["cx","fbt","XUIAbstractGlyphButton.react","React","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";var n=this.props.size,o=this.props.shade,p=(n==="small"?"_xw0":"")+(n==="medium"?" _xw1":"")+(o==="light"?" _xw7":"")+(o==="dark"?" _xw9":""),q=this.props.label,r=this.props.title;if(!this.props.title&&!this.props.tooltip)r=q;return c("React").createElement(c("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{label:q,title:r,"data-hover":this.props.tooltip&&"tooltip","data-tooltip-alignh":this.props.tooltip&&"center","data-tooltip-content":this.props.tooltip,className:c("joinClasses")(this.props.className,p)}))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={shade:l.oneOf(["light","dark"]),size:l.oneOf(["small","medium"]),title:l.string,tooltip:l.string};m.defaultProps={label:i._("Manage"),size:"small",shade:"dark"};f.exports=m}),null);
__d("XUIEditButton.react",["cx","fbt","XUIAbstractGlyphButton.react","React","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){"use strict";var m=this.props.label,n=this.props.title;if(!this.props.title&&!this.props.tooltip)n=m;return c("React").createElement(c("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{label:m,title:n,"data-hover":this.props.tooltip&&"tooltip","data-tooltip-alignh":this.props.tooltip&&"center","data-tooltip-content":this.props.tooltip,className:c("joinClasses")(this.props.className,"_5upq _5upr")}))};function l(){"use strict";j.apply(this,arguments)}l.defaultProps={label:i._("Edit")};f.exports=l}),null);
__d("UFICommentMenu.react",["ix","cx","Bootloader","Image.react","React","XUICloseButton.react","XUIDotsButton.react","XUIEditButton.react","fbglyph","joinClasses","keyMirror"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m,n,o,p=c("React").PropTypes,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,v=c("keyMirror")({EDIT:true,CLOSE:true,CHEVRON:true,DOTS:true,TOOLTIP:true});j=babelHelpers.inherits(w,c("React").Component);k=j&&j.prototype;function w(){__p&&__p();var z,A;for(var B=arguments.length,C=Array(B),D=0;D<B;D++)C[D]=arguments[D];return A=(z=k.constructor).call.apply(z,[this].concat(C)),this.state={bootloading:false,bootloaded:false,needsExpand:false},this.onClickGuard=function(event){__p&&__p();if(this.state.bootloading)return;else if(!this.state.bootloaded&&this.props.menuData){this.setState({bootloading:true});c("Bootloader").loadModules(["ContextualDialogArrow","PopoverMenu.react","ReactXUIMenu","XUIMenuSeparator.react"],function(E,F,G,H){q=E;r=F;s=G;t=G.Item;u=H;this.setState({bootloading:false,bootloaded:true,needsExpand:true})}.bind(this),"UFICommentMenu.react")}if(this.props.onClick)this.props.onClick(event)}.bind(this),A}w.prototype.shouldComponentUpdate=function(z,A){if(this.state.needsExpand&&!A.needsExpand)return false;return true};w.prototype.render=function(){__p&&__p();var z=void 0;switch(this.props.menuType){case v.EDIT:z=c("XUIEditButton.react");break;case v.CLOSE:z=c("XUICloseButton.react");break;case v.DOTS:z=c("XUIDotsButton.react");break;case v.TOOLTIP:z=x;break;case v.CHEVRON:default:z=y;break}var A=function A(F){switch(F){case"ufi_comment_menu_delete":return c("React").createElement(c("Image.react"),{src:h("142908")});case"ufi_comment_menu_edit":return c("React").createElement(c("Image.react"),{src:h("142574")});case"ufi_comment_menu_delete_comment_and_remove_commenter":return c("React").createElement(c("Image.react"),{src:h("141941")});case"ufi_comment_menu_mute_member":return c("React").createElement(c("Image.react"),{src:h("142840")});case"ufi_comment_hide_text_delights":return c("React").createElement(c("Image.react"),{src:h("142815")});case"ufi_comment_menu_hide":return c("React").createElement(c("Image.react"),{src:h("142331")});default:return null}};if(this.props.menuData&&this.state.bootloaded){var B=this.props.menuData.map(function(F){var G=A(F.testid);return c("React").createElement(t,{"data-testid":F.testid,key:F.value,value:F.value,icon:G},F.label)});if(this.props.menuUserSection){var C=this.props.menuUserSection.map(function(F){var G=A(F.testid);return c("React").createElement(t,{"data-testid":F.testid,key:F.value,value:F.value,icon:G},F.label)}),D=c("React").createElement(u,{key:"xui_separator"});B=B.concat(D,C)}var E=c("React").createElement(s,{onItemClick:this.props.onAction},B);return c("React").createElement(r,babelHelpers["extends"]({},this.props,{alignh:"right",layerBehaviors:[q],menu:E,ref:"menu"}),c("React").createElement(z,babelHelpers["extends"]({},this.props,{href:"#",onClick:this.onClickGuard})))}return c("React").createElement(z,babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_1-be"),href:"#",onClick:this.onClickGuard}))};w.prototype.componentDidUpdate=function(){if(this.state.needsExpand){this.refs.menu.showPopover();this.setState({needsExpand:false})}};w.MenuType=v;w.propTypes={menuData:p.array,menuUserSection:p.array,menuType:p.oneOf(Object.keys(v)).isRequired,onAction:p.func,onClick:p.func};l=babelHelpers.inherits(x,c("React").Component);m=l&&l.prototype;x.prototype.render=function(){return c("React").createElement("a",this.props,c("React").createElement(c("Image.react"),{"data-hover":"tooltip","data-tooltip-content":this.props.tooltip,"aria-label":this.props.tooltip,src:h("126426"),"data-tooltip-alignh":"center"}))};function x(){l.apply(this,arguments)}n=babelHelpers.inherits(y,c("React").Component);o=n&&n.prototype;y.prototype.render=function(){return c("React").createElement("a",this.props,c("React").createElement(c("Image.react"),{"data-hover":"tooltip","data-tooltip-content":this.props.tooltip,"aria-label":this.props.tooltip,src:h("125792")}))};function y(){n.apply(this,arguments)}f.exports=w}),null);
__d("UFICommentPlayerStatsCard.react",["cx","fbt","Image.react","Link.react","React","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l="\xb7";j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.shouldComponentUpdate=function(){return false};m.prototype.$UFICommentPlayerStatsCard1=function(){return c("React").createElement(c("Link.react"),{href:"#"},c("React").createElement(c("Image.react"),{className:"_3yk8"}))};m.prototype.$UFICommentPlayerStatsCard2=function(){return c("React").createElement(c("Link.react"),{href:"#"},c("React").createElement(c("XUIText.react"),{weight:"bold"},"Linkable"))};m.prototype.$UFICommentPlayerStatsCard3=function(n){return c("React").createElement("span",null,i._("{Stat Label}: {Stat Value}",[i.param("Stat Label",n.label),i.param("Stat Value",n.value)]))};m.prototype.$UFICommentPlayerStatsCard4=function(n){__p&&__p();var o=n.stats.map(this.$UFICommentPlayerStatsCard3,this),p=[];for(var q=0;q<o.length;q+=2){var r=[];r.push(c("React").createElement("span",{key:"first_stat"},o[q]));if(q+1<o.length){r.push(c("React").createElement("span",{key:"separator"},c("React").createElement(c("XUIText.react"),{size:"header3"}," ",l," ")));r.push(c("React").createElement("span",{key:"second_stat"},o[q+1]))}p.push(c("React").createElement("div",{key:"stat_row_"+q},r))}return c("React").createElement("div",{className:"_3yk9"},c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold"},n.persona)),p)};m.prototype.render=function(){var n=this.props.comment.playerStatsCardData;if(!n)return c("React").createElement("div",null);return c("React").createElement("div",{className:"_3yk7"},this.$UFICommentPlayerStatsCard4(n))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("UFICommentTranslation.react",["cx","ContentTranslationStrings","Link.react","React","TranslationTrigger","TruncatedTextWithEntities.react","UFIConfig","UFIConstants","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);var m=this.props.translationData;this.state={shouldExpand:this.props.shouldExpand||!!m&&m.trigger===c("TranslationTrigger").SEE_TRANSLATION}}k.prototype.render=function(){__p&&__p();if(!this.props.showTranslation)return c("React").createElement(c("Link.react"),{className:"UFITranslateLink",onClick:function(){return this.$UFICommentTranslation1()}.bind(this)},c("ContentTranslationStrings").SEE_TRANSLATION);var l=this.props.translationData;if(!l)return c("React").createElement("div",{className:"UFITranslateLink"},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"small"}));var m=l.translatedText;if(!m||!m.text)return c("React").createElement("div",{className:"UFITranslationErrorText"},c("ContentTranslationStrings").NO_TRANSLATION_AVAILABLE);var n=this.props.isShowingOriginal||l.trigger===c("TranslationTrigger").LOGGED_OUT_AUTO_TRANSLATION,o=n?null:c("React").createElement("div",{className:"UFITranslateAttribution"},c("ContentTranslationStrings").getTranslatedFrom(l.sourceDialectName)),p=n?c("React").createElement("div",{className:"UFITranslateAttribution"},c("ContentTranslationStrings").AUTOMATICALLY_TRANSLATED):c("React").createElement(c("Link.react"),{className:"UFITranslateLink",onClick:function(){return this.$UFICommentTranslation2()}.bind(this)},c("ContentTranslationStrings").SEE_ORIGINAL_LINK);return c("React").createElement("div",null,o,c("React").createElement("div",{className:"UFITranslatedText"},c("React").createElement(c("TruncatedTextWithEntities.react"),{className:"UFICommentBody",ranges:m.ranges,text:m.text,truncationPercent:c("UFIConstants").commentTruncationPercent,maxLength:c("UFIConstants").commentTruncationLength,maxLines:c("UFIConstants").commentTruncationMaxLines,renderEmoticons:c("UFIConfig").renderEmoticons,renderEmoji:c("UFIConfig").renderEmoji,dir:m.dir,shouldExpand:this.state.shouldExpand,markViewerHasInteracted:function(){return this.setState({shouldExpand:!this.state.shouldExpand})}.bind(this)}),p))};k.prototype.$UFICommentTranslation1=function(){this.props.onSeeTranslation&&this.props.onSeeTranslation()};k.prototype.$UFICommentTranslation2=function(){this.props.onSeeOriginal&&this.props.onSeeOriginal()};k.defaultProps={shouldExpand:false};f.exports=k}),null);
__d("UFICommentTranslationLink.react",["cx","ContentTranslationStrings","Link.react","React","TranslationTrigger","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){__p&&__p();if(!this.props.showTranslation)return c("React").createElement(c("Link.react"),{className:"UFITranslateLink",onClick:function(){return this.$UFICommentTranslationLink1()}.bind(this)},c("ContentTranslationStrings").SEE_TRANSLATION);var l=this.props.translationData;if(!l)return c("React").createElement("div",{className:"UFITranslateLink"},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"small"}));var m=l.translatedText;if(!m||!m.text)return c("React").createElement("div",{className:"UFITranslationErrorText"},c("ContentTranslationStrings").NO_TRANSLATION_AVAILABLE);var n=this.props.isShowingOriginal||l.trigger===c("TranslationTrigger").LOGGED_OUT_AUTO_TRANSLATION,o=n?c("React").createElement("div",{className:"UFITranslateAttribution"},c("ContentTranslationStrings").AUTOMATICALLY_TRANSLATED):c("React").createElement(c("Link.react"),{className:"UFITranslateLink",onClick:function(){return this.$UFICommentTranslationLink2()}.bind(this)},this.props.shownInCommentActions?c("React").createElement("div",null,c("React").createElement("span",null,c("ContentTranslationStrings").SEE_ORIGINAL_LINK),c("React").createElement("span",null," ("+l.sourceDialectName+")")):c("ContentTranslationStrings").SEE_ORIGINAL_LINK);return o};k.prototype.$UFICommentTranslationLink1=function(){this.props.onSeeTranslation&&this.props.onSeeTranslation()};k.prototype.$UFICommentTranslationLink2=function(){this.props.onSeeOriginal&&this.props.onSeeOriginal()};function k(){i.apply(this,arguments)}k.defaultProps={shownInCommentActions:false};f.exports=k}),null);
__d("UFICommentTranslationText.react",["cx","React","TranslationTrigger","TruncatedTextWithEntities.react","UFIConfig","UFIConstants"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);var m=this.props.translationData;this.state={shouldExpand:this.props.shouldExpand||!!m&&m.trigger===c("TranslationTrigger").SEE_TRANSLATION}}k.prototype.render=function(){var l=this.props.translationData;if(!l||!this.props.showTranslation)return null;var m=l.translatedText;return c("React").createElement(c("TruncatedTextWithEntities.react"),{className:"UFICommentBody",ranges:m.ranges,text:m.text,truncationPercent:c("UFIConstants").commentTruncationPercent,maxLength:c("UFIConstants").commentTruncationLength,maxLines:c("UFIConstants").commentTruncationMaxLines,renderEmoticons:c("UFIConfig").renderEmoticons,renderEmoji:c("UFIConfig").renderEmoji,dir:m.dir,shouldExpand:this.state.shouldExpand,markViewerHasInteracted:function(){return this.setState({shouldExpand:!this.state.shouldExpand})}.bind(this)})};k.defaultProps={shouldExpand:false};f.exports=k}),null);
__d("UFIStreamingCommentsMode",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:0,LIVE:1,ON_DEMAND:2,LIVE_LIVING_ROOM:3})}),null);
__d("UFICommentVPVDLogging",["csx","Banzai","Parent","UFIConfig","UFIOrderingModeStore","UFIStopWatch","UFIStreamingCommentsMode","WebCommentViewOption"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("UFIConfig").commentVPVD;function j(k){__p&&__p();var l=k.renderedComment,m=l.comment,n=l.isLivePinnedComment,o=k.contextArgs,p=k.node,q=k.stopWatch;if(q.state()===c("UFIStopWatch").COUNTING)return{state:"still visible - not logged",instanceid:o.instanceid,fbid:m.fbid,duration_ms:q.milliseconds()};var r=q.milliseconds();if(r>=0&&r<i.min_duration_to_log)return{state:"small duration - not logged",instanceid:o.instanceid,fbid:m.fbid,duration_ms:r};var s=null,t=null;if(p){var u=c("Parent").byClass(p,"public/feedobject/root");if(u){var v=u.getAttribute("data-ft");if(v)s=JSON.parse(v);t=u.getAttribute("data-referrer")}}var w=c("UFIOrderingModeStore").getState().get(o.instanceid),x=c("UFIStreamingCommentsMode").NONE;if(w===c("WebCommentViewOption").LIVE_STREAMING)if(o.islivestreaming)x=c("UFIStreamingCommentsMode").LIVE;else if(o.isLiveVOD)x=c("UFIStreamingCommentsMode").ON_DEMAND;var y={comment_fbid:m.fbid,comment_id:m.id,container_module:o.location,duration_ms:r,is_live_pinned_comment:n,is_on_sponsored_story:!!o.isSponsored,is_page_comment:!!o.isPage,is_reply:!!m.parentcommentid,mf_story_key:s?s.mf_story_key:null,order_mode:w,qid:s?s.qid:null,referrer_source:t,streaming_comments_mode:x};q.reset();c("Banzai").post("comment_vpvd",y);return babelHelpers["extends"]({state:"logged",instanceid:o.instanceid,fbid:m.fbid,duration_ms:r},y)}f.exports={log:j}}),null);
__d("UFICommentVPVDState",["invariant","Arbiter","Parent","UFICommentVisibilityStore","UFICommentVPVDLogging","UFIConfig","UFIRootRegistry","UFIStopWatch","UFIVisibility","UserActivity","ViewportTrackingHelper","getActiveElement"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("UFIConfig").commentVPVD,j=Object.freeze({INFOCUS:"INFOCUS",BLURRED_NEW:"BLURRED_NEW",BLURRED_INACTIVE:"BLURRED_INACTIVE",BLURRED_SNOWLIFT_OTHER:"BLURRED_SNOWLIFT_OTHER",BLURRED_UNDER_LAYER:"BLURRED_UNDER_LAYER",BLURRED_NO_NODE:"BLURRED_NO_NODE"}),k="changed",l=new(c("Arbiter"))(),m=null,n=false,o=false,p={};function q(w){if(!i.debug_console)return;console.table&&console.table([{isFocusInLayer:n,isSnowliftOpen:o,userIsActive:c("UserActivity").isActive(i.idle_timeout)}]);console.table&&console.table(Object.keys(p).map(function(x){var y=p[x];return{instanceID:y.contextArgs.instanceid,fbid:y.renderedComment.comment.fbid,state:y.state,visibility:y.visibility,counting:y.stopWatch.state()}}))}function r(w){var x=Object.keys(w);if(!x.length)return;x.forEach(function(y){return t(w[y])});p=babelHelpers["extends"]({},p,w);l.inform(k)}function s(w,x){var y;r((y={},y[w]=x,y))}function t(w){if(w.visibility==c("UFIVisibility").VISIBLE&&w.state==j.INFOCUS)w.stopWatch.start();else w.stopWatch.pause()}function u(w){__p&&__p();if(!c("UserActivity").isActive(i.idle_timeout))return j.BLURRED_INACTIVE;if(n&&!o){if(!w.node)return j.BLURRED_NO_NODE;if(!m)return j.BLURRED_UNDER_LAYER;w.node||h(0);m||h(0);var x=c("ViewportTrackingHelper").isDescendantOf(w.node,m);return x?j.INFOCUS:j.BLURRED_UNDER_LAYER}if(o)if(c("UFIRootRegistry").isSnowliftNode(w.contextArgs.rootid))return j.INFOCUS;else return j.BLURRED_SNOWLIFT_OTHER;return j.INFOCUS}var v={subscribe:function w(x){return l.subscribe(k,x)},unsubscribe:function w(x){l.unsubscribe(x)},getState:function w(){return p},getKey:function w(x,y){var z=x.isLivePinnedComment?"/P":"";return y.instanceid+"/"+x.comment.fbid+z},initComment:function w(x,y,z){__p&&__p();var A=v.getKey(x,y),B=p[A];if(!B&&!z)return;else if(!B){var C={renderedComment:x,contextArgs:y,node:z,state:j.BLURRED_NEW,stopWatch:new(c("UFIStopWatch"))(),visibility:c("UFICommentVisibilityStore").getVisibility(c("UFICommentVisibilityStore").getState(),y,x)};C.state=u(C);s(A,C)}else if(!z){B.stopWatch.pause();s(A,babelHelpers["extends"]({},B,{state:j.BLURRED_NO_NODE}))}else s(A,babelHelpers["extends"]({},B,{node:z,state:u(B)}))},updateAllStates:function w(x){r(Object.keys(p).reduce(function(y,z){y[z]=babelHelpers["extends"]({},p[z],{state:u(p[z])});return y},{}));q(x)},cleanupUFIInstance:function w(x){__p&&__p();var y=[];Object.keys(p).filter(function(z){return p[z].contextArgs.instanceid==x}).forEach(function(z){p[z].stopWatch.pause();var A=c("UFICommentVPVDLogging").log(p[z]);if(i.debug_console)y.push(A);delete p[z]});if(i.debug_console)console.table&&console.table(y)},onCommentVisibilityChanged:function w(){var x=c("UFICommentVisibilityStore").getState();r(Object.keys(p).reduce(function(y,z){var A=p[z],B=A.renderedComment,C=A.contextArgs,D=A.visibility,E=c("UFICommentVisibilityStore").getVisibility(x,C,B),F=D!=E;if(!F)return y;y[z]=babelHelpers["extends"]({},p[z],{visibility:E});return y},{}));q("UFICommentVisibilityStore.changed")},onClickDocument:function w(){var x=c("getActiveElement")();if(!x){m=null;n=false}else{m=c("Parent").byClass(x,"uiContextualLayerParent");n=!!m}},onSnowliftOpen:function w(){o=true},onSnowliftClose:function w(){o=false},debug:function w(){q("debug")}};f.exports=v}),null);
__d("UserActivityEmitter",["invariant","EventEmitter","UserActivity","TimeSlice","clearTimeout","setTimeout"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="change",j={};k.factory=function(l){if(!j[l])j[l]=new k(l);return j[l]};function k(l){__p&&__p();this.$UserActivityEmitter5=250;this.$UserActivityEmitter6=function(){if(this.$UserActivityEmitter4=="INACTIVE"){this.$UserActivityEmitter4="ACTIVE";this.$UserActivityEmitter2.emit(i,"ACTIVE")}if(this.$UserActivityEmitter3)c("clearTimeout")(this.$UserActivityEmitter3);this.$UserActivityEmitter3=c("setTimeout")(c("TimeSlice").guard(this.$UserActivityEmitter7,"UserActivityEmitter idleTimeout",{propagationType:c("TimeSlice").PropagationType.EXECUTION}),this.$UserActivityEmitter5)}.bind(this);this.$UserActivityEmitter7=function(){this.$UserActivityEmitter4="INACTIVE";this.$UserActivityEmitter2.emit(i,"INACTIVE");c("clearTimeout")(this.$UserActivityEmitter3);this.$UserActivityEmitter3=null}.bind(this);l>c("UserActivity").EVENT_INTERVAL_MS||h(0);this.$UserActivityEmitter5=l;this.$UserActivityEmitter2=new(c("EventEmitter"))();this.$UserActivityEmitter4=c("UserActivity").isActive(l)?"ACTIVE":"INACTIVE";this.$UserActivityEmitter1=c("UserActivity").subscribe(this.$UserActivityEmitter6);if(this.$UserActivityEmitter4=="ACTIVE")this.$UserActivityEmitter6()}k.prototype.subscribe=function(l){return this.$UserActivityEmitter2.addListener(i,l)};k.prototype.getState=function(){return this.$UserActivityEmitter4};f.exports=k}),null);
__d("UFICommentVPVD",["Arbiter","Event","SubscriptionsHandler","UFICommentVisibilityStore","UFICommentVPVDLogging","UFICommentVPVDState","UFIConfig","UFIInstanceActionType","UFISharedDispatcher","UserActivityEmitter"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("UFIConfig").commentVPVD,i=false,j=null,k=new(c("SubscriptionsHandler"))(),l=null,m=null;function n(){__p&&__p();if(j)return;j=setTimeout(function(){j=null;var p=c("UFICommentVPVDState").getState(),q=[];Object.keys(p).forEach(function(r){var s=c("UFICommentVPVDLogging").log(p[r]);if(h.debug_console)q.push(s)});if(h.debug_console)console.table&&console.table(q)},10)}var o={init:function p(){__p&&__p();if(i||!c("UFICommentVPVDState"))return;i=true;m=c("UFISharedDispatcher").register(function(q){if(q.type==c("UFIInstanceActionType").REMOVE)c("UFICommentVPVDState").cleanupUFIInstance(q.instanceID)});l=c("UserActivityEmitter").factory(h.idle_timeout);k=new(c("SubscriptionsHandler"))();k.addSubscriptions(c("UFICommentVisibilityStore").addListener(function(){var q=c("UFICommentVPVDState").getState();c("UFICommentVPVDState").onCommentVisibilityChanged();if(q!==c("UFICommentVPVDState").getState())n()}),{remove:function q(){if(m){c("UFISharedDispatcher").unregister(m);m=null}}},c("Event").listen(document.documentElement,"click",function(){c("UFICommentVPVDState").onClickDocument();c("UFICommentVPVDState").updateAllStates("document onClick");n()}),l.subscribe(function(q){c("UFICommentVPVDState").updateAllStates("user-active = "+q);if(q!="ACTIVE")n()}),c("Arbiter").subscribe("reflow",function(){c("UFICommentVPVDState").updateAllStates("reflow");n()}),c("Arbiter").subscribe("PhotoSnowlift.OPEN",function(){c("UFICommentVPVDState").onSnowliftOpen();c("UFICommentVPVDState").updateAllStates("PhotoSnowlift.OPEN");n()}),c("Arbiter").subscribe("PhotoSnowlift.CLOSE",function(){c("UFICommentVPVDState").onSnowliftClose();c("UFICommentVPVDState").updateAllStates("PhotoSnowlift.CLOSE");n()}))},enableVPVDLogging:function p(q){if(!q.location||!h.locations)return false;return h.everywhere||h.locations.includes(q.location)}};f.exports=o}),null);
__d("UFICommentVPVDTracker.react",["cx","React","ReactDOM","SubscriptionsHandler","UFICommentAction","UFICommentVisibilityStore","UFICommentVPVD","UFICommentVPVDState","UFIConfig","UFISharedDispatcher","UFIVisibility","ViewportTrackingHelper","onCommentIsVisible"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").Children,l=c("React").PropTypes,m=c("UFIConfig").commentVPVD;function n(p){return c("UFICommentVisibilityStore").getVisibility(c("UFICommentVisibilityStore").getState(),p.contextArgs)===c("UFIVisibility").VISIBLE}i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;function o(p){__p&&__p();j.constructor.call(this,p);this.state={isVisible:false};this.isCommentVisible=function(q){if(!n(this.props))return false;var r={height:q.bottom-q.top,width:0};return c("ViewportTrackingHelper").isVisibleInDimension(r,c("ReactDOM").findDOMNode(this),m.min_visible_size)}.bind(this);this.onCommentVisibilityChanged=function(q){this.setState({isVisible:q});c("UFISharedDispatcher").dispatch(c("UFICommentAction").changeVisibility(this.props.contextArgs,this.props.renderedComment,q?c("UFIVisibility").VISIBLE:c("UFIVisibility").HIDDEN))}.bind(this);if(c("UFICommentVPVD").enableVPVDLogging(p.contextArgs))c("UFICommentVPVD").init();this.$UFICommentVPVDTracker1=new(c("SubscriptionsHandler"))()}o.prototype.componentDidMount=function(){if(c("UFICommentVPVD").enableVPVDLogging(this.props.contextArgs))this.$UFICommentVPVDTracker1.addSubscriptions(c("onCommentIsVisible")(this.isCommentVisible,this.onCommentVisibilityChanged))};o.prototype.componentWillUnmount=function(){this.$UFICommentVPVDTracker1.release()};o.prototype.render=function(){var p=this.props,q=this.state,r=k.only(p.children);if(!c("UFICommentVPVD").enableVPVDLogging(p.contextArgs))return r;var s=m.debug_html;return c("React").createElement("div",{"data-debugstate":s?q.isVisible?"fully visible":"not fully visible":null,className:"_3b-9"+(s?" _3b-a":"")+(s&&q.isVisible?" _3b-b":"")+(s&&!q.isVisible?" _3b-c":""),ref:function t(u){return c("UFICommentVPVDState").initComment(p.renderedComment,p.contextArgs,u)}},r)};o.propTypes={renderedComment:l.object.isRequired,contextArgs:l.object.isRequired};f.exports=o}),null);
__d("UFICommentVPVTracker.react",["OnVisible.react","React","UFICommentVPVs","UFIConfig","clearTimeout","setTimeout"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={timer:null},this.maybeScheduleVPVLogging=function(){if(this.state.timer!==null)return;var q=this.props.comment.id,r=this.props.contextArgs.instanceid;if(c("UFICommentVPVs").hasLoggedVPV(r,q))return;this.setState({timer:c("setTimeout")(function(){c("UFICommentVPVs").logVPV(r,q);this.setState({timer:null})}.bind(this),c("UFIConfig").vpvLoggingTimeout)})}.bind(this),this.cancelScheduledVPVLogging=function(){if(this.state.timer===null)return;c("clearTimeout")(this.state.timer);this.setState({timer:null})}.bind(this),m}k.prototype.render=function(){var l=this.props.comment.id,m=this.props.contextArgs.instanceid,n=this.props.children,o=c("UFICommentVPVs").hasLoggedVPV(m,l);return c("React").createElement(c("OnVisible.react"),{onVisible:o?null:this.maybeScheduleVPVLogging,onHidden:o?null:this.cancelScheduledVPVLogging},n)};k.prototype.shouldComponentUpdate=function(l,m){return m.timer===this.state.timer};k.prototype.componentWillReceiveProps=function(){this.cancelScheduledVPVLogging()};k.prototype.componentWillUnmount=function(){this.cancelScheduledVPVLogging()};k.propTypes={comment:j.object.isRequired,contextArgs:j.object.isRequired};f.exports=k}),null);
__d("TimeOffset",[],(function a(b,c,d,e,f,g){"use strict";var h={timeToTimestamp:function i(j){if(j<=0)return"0:00";var k=Math.floor(j/3600),l=k?k+":":"";l+=((k?"0":"")+Math.floor(j%3600/60)).slice(-2)+":";return l+("0"+j%60).slice(-2)}};f.exports=h}),null);
__d("UFILiveCommentTimestamp.react",["cx","fbt","CommentPostedLiveState","Middot.react","React","ShimButton.react","TimeOffset","Tooltip.react","UFIVideoPlayerRegistry","VideoTimestampsClicksWWWTypedLogger"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){__p&&__p();var n,o=this.props,p=o.comment,q=o.contextArgs,r=!p.parentcommentid,s=null;if(r)(function(){var u=typeof p.videoTimeOffset==="number"?p.videoTimeOffset:0;s=c("React").createElement(c("ShimButton.react"),{className:"_39g5",form:"link",onClick:function v(event){event.preventDefault();var w=new(c("VideoTimestampsClicksWWWTypedLogger"))().setVideoTimestamp(u).setIsContentTimestamp(true);if(p.__typename==="local")w.setLocalCommentFeedbackID(p.ftentidentifier);else w.setCommentID(p.fbid);w.log();c("UFIVideoPlayerRegistry").seekAvailableVideoPlayerController(q.instanceid,u)}},c("TimeOffset").timeToTimestamp(u))})();var t=null;if(p.postedLiveState===c("CommentPostedLiveState").LIVE)t=c("React").createElement(c("Tooltip.react"),{tooltip:i._("Comment posted while the video was live")},c("React").createElement(c("Middot.react"),{className:"_5rr7"}));else if(p.postedLiveState===c("CommentPostedLiveState").ON_DEMAND)t=c("React").createElement(c("Tooltip.react"),{tooltip:i._("Comment posted after the live video ended")},c("React").createElement(c("Middot.react"),{className:"_5rra"}));else t=c("React").createElement(c("Middot.react"),{className:"_5rra"});return c("React").createElement("span",null,t,s)};function m(){j.apply(this,arguments)}m.propTypes={comment:l.shape({fbid:l.string,__typename:l.string,postedLiveState:l.oneOf([c("CommentPostedLiveState").LIVE,c("CommentPostedLiveState").ON_DEMAND]),videoTimeOffset:l.number,parentcommentid:l.string}).isRequired,contextArgs:l.shape({instanceid:l.string.isRequired}).isRequired};f.exports=m}),null);
__d("VideoTipJarCommentBackground.react",["ix","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=[h("99652"),h("99653"),h("99654")];i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m=k[parseInt(this.props.tipOptionIndex,10)];return m?c("React").createElement(c("Image.react"),{src:m}):null};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("UFIComment.react",["ix","cx","fbt","AsyncRequest","BootloadedComponent.react","Bootloader","CommentApprovalsResponsibleUserAction","CommentPrivacyValue","Dialog","DOMContainer.react","EmojiRenderer","Event","FBFeedLocations","FluxContainer","HovercardLink","HTML","Image.react","InlineBlock.react","JSResource","LiveVideoAnnouncementCTAType","LiveWWWFeedbackTypedLogger","LoadingDialog.react","PrivateCommentsConfig","React","ReactDOM","ShareNowConstants","ShimButton.react","SutroPhase2GatingConfig","Text.react","TextDelightNuxID","TrackingNodes","TranslationTrigger","UFIAcceptedAnswerStore","UFIActorIconContainer.react","UFICentralUpdates","UFICommentAction","UFICommentActions.react","UFICommentAttachment.react","UFICommentAuthorName.react","UFICommentBody.react","UFICommentLiveVideoAnnouncementImage.react","UFICommentMenu.react","UFICommentPlayerStatsCard.react","UFIComments","UFICommentTranslation.react","UFICommentTranslationLink.react","UFICommentTranslationText.react","UFICommentUtils","UFICommentVPVDTracker.react","UFICommentVPVTracker.react","UFIConfig","UFIConstants","UFIImageBlock.react","UFILiveCommentTimestamp.react","UFIRootRegistry","UFISharedDispatcher","UserHovercardLocation","VideoTipJarCommentBackground.react","WebCommentViewOption","XUIButton.react","asset","bind","emptyFunction","fbglyph","joinClasses","keyMirror","uniqueID"],(function aa(ba,a,ca,da,ea,fa,b,ga,c){"use strict";__p&&__p();var d,e,f=a("React").PropTypes,g=a("UFIConstants").UFIStatus,ha=Object.freeze({NEWSSTAND:"newsstand"}),h=a("keyMirror")({edit:true,hide:true,remove:true,embed:true,manageConstituentBadge:true,delete_comment_and_remove_commenter:true,mute_member:true,hide_text_delights:true}),ia="ufi_comment_close_button",ja="ufi_highlighted_comment",i="ufi_comment_menu_delete",ka="ufi_comment_menu_edit",la="ufi_comment_menu_hide",ma="ufi_comment_menu_embed",na="ufi_comment_menu_manage_constituent_badge",oa="ufi_comment_menu_delete_comment_and_remove_commenter",j="ufi_comment_menu_mute_member",k="ufi_comment_hide_text_delights",l={testid:i,value:h.remove,label:c._("Delete Comment...")},m={testid:la,value:h.hide,label:c._("Hide Comment")},pa={testid:ma,value:h.embed,label:c._("Embed")},qa={testid:oa,value:h.delete_comment_and_remove_commenter,label:c._("Delete Comment and Remove Member...")},n={testid:i,value:h.remove,label:c._("Delete...")},ra={testid:na,value:h.manageConstituentBadge,label:c._("Manage Constituent Badge")},sa={testid:j,value:h.mute_member,label:c._("Mute Member...")},ta={testid:j,value:h.mute_member,label:c._("Unmute Member")},ua={testid:k,value:h.hide_text_delights,label:c._("Remove text effects")},va={testid:k,value:h.hide_text_delights,label:c._("Add text effects")},wa=14,xa=3,o=null,ya=function ya(q){var r=q.status;return r===g.FAILED_ADD||r===g.FAILED_EDIT},za=function za(q,r){return!!q.tipOptionIndex&&r===ha.NEWSSTAND};function Aa(q){return q.commenterIsFOF!==undefined&&q.userIsMinor!==undefined&&q.reportLink!==undefined&&q.isBroadcast!==undefined&&q.showStreamBanControls!==undefined}d=babelHelpers.inherits(p,a("React").Component);e=d&&d.prototype;p.getStores=function(){return[a("UFIAcceptedAnswerStore")]};p.calculateState=function(q,r){var s=r.comment,t=r.feedback,u=a("UFIAcceptedAnswerStore").get(s.ftentidentifier,t.acceptedanswer),v=u.type==="Accepted"&&u.id==s.id;return babelHelpers["extends"]({},q,{isAcceptedAnswer:v})};function p(q){e.constructor.call(this,q);Ba.call(this);var r=q.comment;this.state={isHighlighting:r.highlightcomment,wasHighlighted:r.highlightcomment,markedAsSpamHere:false,isAcceptedAnswer:false,isInlinePageDeleted:false,isInlineBanned:false,isInlineStreamBanned:false,loggedLiveUpdate:false,showBody:false,hideSpamComment:this.$UFIComment2(),loadingDialogWhenSharing:false}}p.prototype.$UFIComment9=function(event){this.context.dispatch(a("UFICommentAction").toggle_text_delights(this.props.contextArgs,this.props.comment,event.target));a("Bootloader").loadModules(["TextDelightNUXLogger"],function(q){q.menuItemClick(this.props.comment.fbid)}.bind(this),"UFIComment.react")};p.prototype.$UFIComment15=function(){return[l,m]};p.prototype.$UFIComment16=function(){return[{testid:ka,value:h.edit,label:c._("Edit...")},n]};p.prototype.$UFIComment17=function(){this.setState({showBody:!a("UFIConfig").shouldTranslationsReplaceContent});if(!this.props.comment.translationdata)this.context.dispatch(a("UFICommentAction").translate(this.props.contextArgs,this.props.comment,a("TranslationTrigger").SEE_TRANSLATION))};p.prototype.$UFIComment18=function(){__p&&__p();var q=null,r=null,s=null,t=null,u=a("UFICommentMenu.react").MenuType.CLOSE,v=this.props.comment,w=v.canEditConstituentTitle,x=v.canembed&&a("UFIConfig").showCommentEmbedOption,y=a("SutroPhase2GatingConfig").enabled_bubble_comments;if(this.$UFIComment2()){var z=void 0;if(v.needsApproval)z=this.props.authorProfiles[v.author].name;else z=this.props.feedback.actorname;return{closeTooltip:c._("Only you and {author_name} can see this comment",[c.param("author_name",z)]),menuType:a("UFICommentMenu.react").MenuType.TOOLTIP,onClick:q,menuData:r,menuUserSection:s}}var A=this.props.contextArgs.feedLocationType===a("FBFeedLocations").FUNDRAISER_PAGE?false:this.props.hideAsSpamForPageAdmin;if(v.canremove&&!A)if(this.props.viewerIsAuthor&&v.canedit){t=x?c._("Edit, delete or embed this"):c._("Edit or delete this");u=a("UFICommentMenu.react").MenuType.EDIT;if(w){r=[ra];r=r.concat(this.$UFIComment16())}else r=this.$UFIComment16()}else if(this.props.showRemoveReportMenu){t=x?c._("Remove, report or embed this"):c._("Remove or report this");r=this.$UFIComment15()}else if(this.props.feedback.customcommentactionlinks){t=x?c._("Remove this"):c._("Remove or embed this");r=[l];u=a("UFICommentMenu.react").MenuType.EDIT}else{t=x?c._("Remove or embed this"):c._("Remove this");if(!x)q=this.$UFIComment6;else r=[n]}else if(this.props.feedback.customcommentactionlinks){t=x?c._("Hide or embed this"):c._("Hide this");r=[m];u=a("UFICommentMenu.react").MenuType.EDIT}else if(v.canreport){t=x?c._("Hide or embed this"):c._("Hide this");if(!x&&!y)q=this.$UFIComment3;else r=[m]}if(x){if(!r)r=[];r.push(pa);u=a("UFICommentMenu.react").MenuType.CHEVRON}if(v.canremove&&!this.props.viewerIsAuthor&&v.canviewerremovecommenter){if(!s)s=[];s.push(qa)}if(v.canmutemembers&&!this.props.viewerIsAuthor){if(!s)s=[];if(v.ismuted)s.push(ta);else s.push(sa)}if(v.canedit&&this.props.viewerIsAuthor&&this.$UFIComment19(v)){if(!r)r=[];if(v.text_delights_are_hidden)r.push(va);else r.push(ua)}if(this.props.feedback.customcommentactionlinks)for(var B in this.props.feedback.customcommentactionlinks){var C=this.props.feedback.customcommentactionlinks[B];if(!C.showInMenu)continue;if(!r)r=[];r.push({testid:C.type,value:C.type,label:C.title})}var D=r?r.length:0,E=s?s.length:0;if(D+E>1||a("SutroPhase2GatingConfig").enabled_bubble_comments&&u===a("UFICommentMenu.react").MenuType.CLOSE)u=a("UFICommentMenu.react").MenuType.DOTS;return{closeTooltip:t,menuType:u,onClick:q,menuData:r,menuUserSection:s}};p.prototype.$UFIComment19=function(q){if(q.body&&q.body.ranges&&q.canhidetextdelights){for(var r=0;r<q.body.ranges.length;r++)if(q.body.ranges[r].campaign)return true;return q.text_delights_are_hidden}return false};p.prototype.$UFIComment20=function(){__p&&__p();if(this.props.contextArgs.feedLocationType===a("FBFeedLocations").CE_PII_STRIPPED_FEED)return a("React").createElement("div",null);var q=this.props.comment,r=this.$UFIComment18(),s=r.onClick,t=r.menuData,u=r.menuUserSection,v=r.closeTooltip,w=r.menuType,x=null;if(this.props.comment.canedit&&this.props.viewerIsAuthor&&this.$UFIComment19(this.props.comment)){x=a("React").createElement(a("BootloadedComponent.react"),{bootloadPlaceholder:a("React").createElement("div",null),bootloadLoader:a("JSResource")("TextDelightNUX.react").__setRef("UFIComment.react"),container:this,contextRef:function(){return this.refs.comment_menu}.bind(this),nuxId:a("TextDelightNuxID").COMMENT_OPT_OUT_NUX,instance:this.props.comment.fbid},c._("You can control whether you and your friends see text colour and animation on this comment."));if(s===null)s=function(){a("Bootloader").loadModules(["TextDelightNUXLogger"],function(B){B.menuClick(this.props.comment.fbid)}.bind(this),"UFIComment.react")}.bind(this)}var y=(!this.$UFIComment2()?"UFICommentCloseButton":"")+(s===null&&t===null&&!this.$UFIComment2()?" hdn":"")+(x!==null?" UFICommentCloseButtonNux":"")+(this.$UFIComment2()?" UFICommentSpamTooltip":""),z=null,A=null;if(this.props.contextArgs.viewas){z="/ajax/profile/link_disabled_in_viewas.php";A="dialog";s=null}return a("React").createElement("span",{className:"_36rj"},a("React").createElement(a("UFICommentMenu.react"),{ajaxify:z,"aria-label":v,className:y,"data-testid":ia,onClick:s,rel:A,tooltip:v,menuUserSection:u,menuData:t,menuType:w,onAction:this.$UFIComment14,ref:"comment_menu"}),x)};p.prototype.componentDidMount=function(){__p&&__p();var q,r=this;if(this.state.isHighlighting)(function(){__p&&__p();var s=r.props.contextArgs.feedLocationType===a("FBFeedLocations").WORKPLACE_HUB_PREVIEW,t=a("ReactDOM").findDOMNode(r),u=r.props.comment.body&&r.props.comment.body.text;if(a("SutroPhase2GatingConfig").enabled_bubble_comments&&u)t=r.$UFIComment1;var v=parseInt(r.props.comment.scrolltopoffset||0,10);a("Bootloader").loadModules(["UFIScrollHighlight"],function(w){setTimeout(function(){if(a("UFIRootRegistry").isSnowliftNode(this.props.contextArgs.rootid)||s)if(s)w.actOnWorkplaceHubSnowliftElem(t,v);else w.actOnSnowliftElem(t,v);else if(this.props.comment.privacy_value===a("CommentPrivacyValue").OWNER_OR_COMMENTER&&a("PrivateCommentsConfig").dark_comment_theme_enabled)w.actOnPrivateComment(t,v);else w.actOn(t,v,u)}.bind(this),0)}.bind(r),"UFIComment.react");r.setState({isHighlighting:false})})();if(this.props.comment.fbid)a("UFISharedDispatcher").dispatch(a("UFICommentAction").mounted(this.props.contextArgs,{comment:this.props.comment,isLivePinnedComment:Boolean(this.props.isLivePinnedComment)}))};p.prototype.componentWillUnmount=function(){if(this.props.comment.fbid)a("UFISharedDispatcher").dispatch(a("UFICommentAction").unmounted(this.props.contextArgs,{comment:this.props.comment,isLivePinnedComment:Boolean(this.props.isLivePinnedComment)}))};p.prototype.shouldComponentUpdate=function(q,r){var s=this.props,t=this.state;return q.comment!==s.comment||q.showReplyLink!==s.showReplyLink||q.isFirst!==s.isFirst||q.isLast!==s.isLast||q.isFirstCommentComponent!==s.isFirstCommentComponent||q.isLastCommentComponent!==s.isLastCommentComponent||q.isFirstComponent!==s.isFirstComponent||q.isLastComponent!==s.isLastComponent||q.isFeatured!==s.isFeatured||q.hasPartialBorder!==s.hasPartialBorder||q.showTranslation!==s.showTranslation||r.wasHighlighted!==t.wasHighlighted||r.isHighlighting!==t.isHighlighting||r.markedAsSpamHere!==t.markedAsSpamHere||r.isInlinePageDeleted!==t.isInlinePageDeleted||r.isInlineBanned!==t.isInlineBanned||r.isInlineStreamBanned!==t.isInlineStreamBanned||r.showBody!==t.showBody||r.hideSpamComment!==t.hideSpamComment||q.isLocallyComposed===true&&q.comment.id!==a("UFIComments").getCacheVariable("lastComment")||r.loadingDialogWhenSharing!==t.loadingDialogWhenSharing};p.prototype.$UFIComment2=function(){var q=this.props.comment,r=q.needsApproval,s=q.canAppeal,t=q.canSecure,u=q.appealStatus,v=q.isApproved;return r||s||t||(u===a("CommentApprovalsResponsibleUserAction").APPEALED||u===a("CommentApprovalsResponsibleUserAction").SECURED_ACCOUNT)&&!v};p.prototype.render=function(){__p&&__p();var q=this.props,r=q.contextArgs,s=q.comment,t=q.feedback,u=s.status===g.DELETED,v=s.status===g.LIVE_DELETED,w=s.status===g.SPAM_DISPLAY,x=this.state.hideSpamComment;if(u)return null;var y=this.state.markedAsSpamHere,z=this.state.isInlinePageDeleted,A=this.props.hideAsSpamForPageAdmin,B=this.state.isInlineBanned,C=this.state.isInlineStreamBanned;if(s.islive&&!this.state.loggedLiveUpdate){new(a("LiveWWWFeedbackTypedLogger"))().setEvent("update_view").setUpdateType("comment").setCommentID(s.id).log();this.setState({loggedLiveUpdate:true})}var D=Aa(s),E=!s.status&&(s.isunseen||s.__typename==="local");if(!s.status&&t.lastseentime){var F=s.originalTimestamp||s.timestamp.time;E=E||F>t.lastseentime}var G=r.markedcomments;if(G&&G[s.legacyid])E=true;if(this.props.orderingMode===a("WebCommentViewOption").LIVE_STREAMING||this.props.isLivePinnedComment)E=false;var H="UFIRow"+(this.props.isFirst?" _48ph":"")+(this.props.isLast?" UFILastComment":"")+(this.props.isFirstCommentComponent?" _48pi":"")+(this.props.isLastCommentComponent?" UFILastCommentComponent":"")+(this.props.isFirstComponent||a("SutroPhase2GatingConfig").enabled_bling_above_ufi&&this.props.isFirstCommentComponent?" _4204":"")+(this.props.isLastComponent?" _2o9m":"")+(this.state.isAcceptedAnswer?" UFIAcceptedAnswer":"")+(this.props.isLivePinnedComment?" UFILivePinnedComment":"")+(!!this.props.comment.neighborBadge?" uiContextualLayerParent":""),I=c._("Comment"),J=c._("Comment reply"),K=s.parentcommentid?J:I;if(D)if(o){var L=null,M=null,N=null,O=null,P=null;if(A){N=B?this.$UFIComment11:this.$UFIComment10;O=C?this.$UFIComment13:this.$UFIComment12;if(z)L=c._("You've deleted this comment so no one can see it.");else if(y){L=c._("Now this is only visible to the person who wrote it and their friends.");P=this.$UFIComment5;M=this.$UFIComment4}}else if(y){L=c._("This comment has been hidden.");P=this.$UFIComment5;M=this.$UFIComment4}if(L)return a("React").createElement("div",{className:H,role:"article","aria-label":K},a("React").createElement(o,{notice:L,comment:this.props.comment,authorProfiles:this.props.authorProfiles,onUndo:M,onBanAction:N,onStreamBanAction:O,onDeleteAction:P,isInlineBanned:B,isInlinePageDeleted:z,isInlineStreamBanned:C,hideAsSpamForPageAdmin:A,pageID:this.props.feedback.ownerid}))}else a("Bootloader").loadModules(["UFICommentRemovalControls.react"],function(U){o=U;setTimeout(function(){this.forceUpdate()}.bind(this))}.bind(this),"UFIComment.react");var Q="comment_"+a("uniqueID")(),R=a("joinClasses")(H,"UFIComment"+(ya(s)?" UFICommentFailed":"")+(a("PrivateCommentsConfig").dark_comment_theme_enabled&&s.privacy_value===a("CommentPrivacyValue").OWNER_OR_COMMENTER?" UFIPrivateCommentDarkTheme":"")+(za(s,r.location)?" UFITipJarComment":"")+(v||w||this.$UFIComment2()&&!x||s.parentNeedsApproval?" UFITranslucentComment":"")+(this.state.isHighlighting?" highlightComment":"")+" _4oep"+(this.props.hasPartialBorder?" UFIPartialBorder":"")+(E?" UFIUnseenItem":"")+(s.isAnnouncement?" UFICommentLiveVideoAnnouncement":"")),S=this.renderComment(),T=r.mayLogVPVs&&this.props.orderingMode===a("WebCommentViewOption").FILTERED;if(s.__typename!=="local"&&!s.isAnnouncement){if(T)S=a("React").createElement(a("UFICommentVPVTracker.react"),{comment:s,contextArgs:r},S);S=a("React").createElement(a("UFICommentVPVDTracker.react"),{renderedComment:{comment:s,isLivePinnedComment:Boolean(this.props.isLivePinnedComment)},contextArgs:this.props.contextArgs},S)}return a("React").createElement("div",{id:Q,className:R,role:"article","aria-label":K,"data-testid":this.state.wasHighlighted?ja:null,"data-ft":this.props["data-ft"]},S)};p.prototype.$UFIComment21=function(q,r){__p&&__p();var s=this.props,t=s.comment,u=s.feedback,v=this.state.hideSpamComment,w=t.appealStatus,x=t.body?t.body.text:"",y=a("UFICommentUtils").shallowCopyRanges(t.body&&t.body.ranges),z=a("UFICommentUtils").shallowCopyRanges(t.body&&t.body.delight_ranges),A=a("React").createElement(a("ShimButton.react"),{className:"UFICommentShowComment",form:"link",onClick:function(){return this.setState({hideSpamComment:false})}.bind(this)},c._("Show Comment"));if(v&&this.$UFIComment2()){var B=void 0;if(w===a("CommentApprovalsResponsibleUserAction").SECURED_ACCOUNT&&t.needsApproval===false){B=a("React").createElement(a("Text.react"),null,c._({"*":"Thanks for securing your account. We recommend deleting this comment now. If you don't, it will be automatically deleted in {number} days.","_1":"Thanks for securing your account. We recommend deleting this comment now. If you don't, it will be automatically deleted in 1 day."},[c.plural(t.daysToExpire,"number")]));var C=a("React").createElement(a("ShimButton.react"),{className:"UFICommentShowComment",form:"link",onClick:function(event){return this.$UFIComment6(event)}.bind(this)},c._("Delete"));return a("React").createElement("span",null,B,A,c._("or"),C)}B=t.needsApproval?a("React").createElement(a("Text.react"),null,c._("{name}'s comment was marked as spam.",[c.param("name",r)])):a("React").createElement(a("Text.react"),null,c._("Your comment was marked as spam."));return a("React").createElement("span",null,B,A)}x=a("UFICommentUtils").getCommentTextWithTruncatedURIs(y,x);var D=null,E=null;if(!s.isLocallyComposed&&!this.state.wasHighlighted){E=a("UFIConstants").commentTruncationLength;D=a("UFIConstants").commentTruncationMaxLines}if(t.body&&t.body.markdown_enabled&&t.body.markup)if(a("HTML").isHTML(t.body.markup))return a("React").createElement("span",{dangerouslySetInnerHTML:t.body.markup});else return a("React").createElement(a("DOMContainer.react"),null,t.body.markup);if(t.isJoinEvent)return a("React").createElement(a("BootloadedComponent.react"),{bootloadLoader:a("JSResource")("UFIJoinEvent.react").__setRef("UFIComment.react"),bootloadPlaceholder:a("React").createElement("span",null),comment:t});var F=this.$UFIComment22(x);return a("React").createElement(a("UFICommentBody.react"),{socialContext:t.socialcontext,commentText:x,commentRanges:y,commentPrivacy:t.privacy_value,textDelightRanges:z,showEmojisStandalone:F,groupOrEventID:u.grouporeventid,maxLength:E,maxLines:D,markViewerHasInteracted:this.props.markViewerHasInteracted,shouldExpand:q,ufiInstanceID:this.props.contextArgs.instanceid,commentFBID:t.fbid,isLiveStreaming:s.contextArgs.islivestreaming})};p.prototype.$UFIComment22=function(q){if(!q||!a("SutroPhase2GatingConfig").enabled_bubble_comments||q.length>wa*xa)return false;var r=a("EmojiRenderer").parse(q);if(!r)return false;var s=0;r.forEach(function(t){s+=t.length});return q.length==s&&r.length<=xa};p.prototype.$UFIComment23=function(q){this.setState({loadingDialogWhenSharing:true});var r=q&&q.shareOptions&&q.shareOptions.shareNowURI?q.shareOptions.shareNowURI:null;if(r)new(a("AsyncRequest"))().setURI(r).setMethod("POST").setHandler(function(s){this.setState({loadingDialogWhenSharing:false});this.$UFIComment24(s.payload.message||a("ShareNowConstants").success)}.bind(this)).setErrorHandler(function(s){this.setState({loadingDialogWhenSharing:false});this.$UFIComment24(s.payload.message||a("ShareNowConstants").error)}.bind(this)).send()};p.prototype.$UFIComment24=function(q){return new(a("Dialog"))().setBody(q).setAutohide(2500).setModal(true).show()};p.prototype.$UFIComment25=function(q){return this.$UFIComment26(q)?a("React").createElement("span",{className:"UFICommentShareOptionsItem"},a("React").createElement(a("XUIButton.react"),{image:a("React").createElement(a("Image.react"),{src:b("363444")}),label:c._("Send a Message"),href:"#",ajaxify:q&&q.shareOptions&&q.shareOptions.shareMessageURI?q.shareOptions.shareMessageURI:null,rel:"dialog",use:"default"})):null};p.prototype.$UFIComment27=function(q){return this.$UFIComment28(q)?a("React").createElement("span",{className:"UFICommentShareOptionsItem"},a("React").createElement(a("XUIButton.react"),{image:a("React").createElement(a("Image.react"),{src:b("363577")}),label:c._("Share..."),href:"#",ajaxify:q&&q.shareOptions&&q.shareOptions.sharePostURI?q.shareOptions.sharePostURI:null,rel:"dialog",use:"default"})):null};p.prototype.$UFIComment29=function(q){var r=q&&q.shareOptions&&q.shareOptions.privacyText?c._("Share Now ({privacyText})",[c.param("privacyText",q.shareOptions.privacyText)]):"";return this.$UFIComment30(q)?a("React").createElement("span",{className:"UFICommentShareOptionsItem"},a("React").createElement(a("XUIButton.react"),{image:a("React").createElement(a("Image.react"),{src:b("113894")}),label:r,href:"#",onClick:function(){return this.$UFIComment23(q)}.bind(this),use:"default"})):null};p.prototype.$UFIComment30=function(q){return q!=null&&q.shareOptions!=null&&q.shareOptions.shareNowURI!=null};p.prototype.$UFIComment26=function(q){return q!=null&&q.shareOptions!=null&&q.shareOptions.shareMessageURI!=null};p.prototype.$UFIComment28=function(q){return q!=null&&q.shareOptions!=null&&q.shareOptions.sharePostURI!=null};p.prototype.$UFIComment31=function(){return a("React").createElement("div",null,c._("Share post:"))};p.prototype.$UFIComment32=function(q){var r=q.contextArgs.shareLinkConfig,s=this.$UFIComment29(r),t=this.$UFIComment27(r),u=this.$UFIComment25(r),v=this.$UFIComment31(),w=this.$UFIComment33(),x=s||t||u;return x?a("React").createElement("span",{className:"UFICommentShareOptionsContainer"},a("React").createElement("span",{className:"UFICommentShareOptionsDescription"},v),a("React").createElement("span",{className:"UFICommentShareOptions"},s,t,u,w)):null};p.prototype.$UFIComment33=function(){return a("React").createElement(a("LoadingDialog.react"),{shown:this.state.loadingDialogWhenSharing})};p.prototype.renderComment=function(){__p&&__p();var q=this.props,r=q.comment,s=q.permalink,t=q.feedback,u=q.authorProfiles[r.author],v=r.status===g.SPAM_DISPLAY,w=r.status===g.LIVE_DELETED,x=!(v||w||r.isAnnouncement),y=false;if(this.props.featuredCommentIDs&&this.props.featuredCommentIDs.indexOf(this.props.comment.fbid)>-1)y=true;var z=t.canremoveall||r.hiddenbyviewer,A=a("TrackingNodes").getTrackingInfo(a("TrackingNodes").types.SMALL_ACTOR_PHOTO),B=void 0;if(!q.contextArgs.viewas&&!r.isAnnouncement){if(!u)throw new Error("Got unexpected null author on comment "+JSON.stringify(r)+" with profiles "+JSON.stringify(q.authorProfiles));B=a("HovercardLink").constructEndpointWithGroupLocationAndExtraParams(u,t.grouporeventid,r.hovercardlocation?r.hovercardlocation:a("UserHovercardLocation").UFI,r.isauthorweakreference,{on_public_ufi:t.ispublic}).toString()}var C=q.contextArgs.disableCommentAuthorLink,D=r.isAnnouncement?null:a("React").createElement(a("UFICommentAuthorName.react"),{author:u,authorProfiles:q.authorProfiles,commentID:r.id?r.id.toString():null,commonalityString:r.commonalityString,constituentBadge:r.constituentTitle,disableAuthorLink:C,focusOnMount:q.focusOnMount,customGlyphTag:r.customglyphtag,groupOrEventID:t.grouporeventid,isAdminViewer:q.feedback.isadminviewer,isAuthorBot:r.isauthorbot,isAuthorNonCoworker:r.isauthornoncoworker,isAuthorWeakReference:r.isauthorweakreference,isAuthorOriginalPoster:r.isauthororiginalposter,isFeatured:q.isFeatured,isPublic:t.ispublic,dialogUrl:r.dialogurl,hasConstituentBadge:r.hasConstituentBadge,hovercardLocation:r.hovercardlocation,neighborBadge:r.neighborBadge,showHovercard:!!B,socialContext:r.socialcontext}),E=this.$UFIComment21(y,D),F=r.translationdata,G=F&&F.translatedText&&F.translatedText.text,H=!G||this.state.showBody||F.trigger===a("TranslationTrigger").LOGGED_OUT_AUTO_TRANSLATION,I=this.props.showTranslation&&!F||!!F&&(!a("UFIConfig").shouldTranslationsReplaceContent||!H||!G||F.trigger===a("TranslationTrigger").LOGGED_OUT_AUTO_TRANSLATION),J=void 0;if(r.isAnnouncement)J=a("React").createElement("div",{className:"UFICommentLiveVideoAnnouncementBody"+(q.contextArgs.isLiveVideoSutroAnnouncementEnabled?" _4qkn":"")},a("React").createElement(a("InlineBlock.react"),{alignv:"middle",className:"UFICommentLiveVideoAnnouncementMessage",height:a("SutroPhase2GatingConfig").enabled_bubble_comments?0:32},E),a("React").createElement(a("BootloadedComponent.react"),{bootloadLoader:a("JSResource")("UFILiveVideoAnnouncementCTAContainer.react").__setRef("UFIComment.react"),bootloadPlaceholder:a("React").createElement("span",null),comment:r,contextArgs:q.contextArgs}));else{var K=void 0;if(r.istranslatable||!!F)if(a("SutroPhase2GatingConfig").enabled_bubble_comments)K=a("React").createElement(a("UFICommentTranslationText.react"),{shouldExpand:y,showTranslation:I,translationData:F});else K=a("React").createElement(a("UFICommentTranslation.react"),{translationData:F,showTranslation:I,isShowingOriginal:H,shouldExpand:y,onSeeTranslation:function(){return this.$UFIComment17()}.bind(this),onSeeOriginal:function(){return this.setState({showBody:true})}.bind(this)});J=a("React").createElement("span",null,H?E:null,K)}var L=null;if(q.contextArgs.isLiveVOD||!q.contextArgs.islivestreaming&&q.contextArgs.showVODCommentTimestamps&&q.comment.videoTimeOffset)L=a("React").createElement(a("UFILiveCommentTimestamp.react"),{comment:r,contextArgs:q.contextArgs});var M=void 0;if(r.attachment_status)M=a("React").createElement("div",{className:"_50f8"},r.attachment_status);var N=a("React").createElement(a("UFICommentAttachment.react"),{comment:q.comment}),O=a("React").createElement(a("UFICommentPlayerStatsCard.react"),{comment:q.comment}),P=void 0;if(this.state.hideSpamComment)P=a("React").createElement("div",null);else if(r.isAnnouncement)P=a("React").createElement(a("UFICommentLiveVideoAnnouncementImage.react"),{accentColor:r.accentColor,contextArgs:q.contextArgs,glyphName:r.glyphName,image:r.image,isJoinEvent:r.isJoinEvent});else{var Q=u.uri||u.isBusinessPersona,R=Q?a("UFICommentUtils").annotateProfileURIIfPublic(t.ispublic,u.uri):null;P=a("React").createElement(a("UFIActorIconContainer.react"),{actorID:r.author});if(r.dialogurl)P=a("React").createElement("a",{"data-ft":A,"data-hovercard":B,ajaxify:r.dialogurl,rel:"dialog",href:R},P);else if(Q)P=a("React").createElement("a",{"data-ft":A,"data-hovercard":B,href:R},P)}var S=null;if(this.state.isAcceptedAnswer)S=a("React").createElement("span",{className:"UFIAcceptedAnswerLabel"},c._("Accepted answer"));else if(this.props.isLivePinnedComment){var T=c._("Pinned comment");S=a("React").createElement("span",{className:"UFILivePinnedCommentLabel"},a("React").createElement(a("Image.react"),{className:"UFILivePinnedCommentGlyph",src:b("139486")}),T)}var U=r.tipOptionIndex?a("React").createElement(a("VideoTipJarCommentBackground.react"),{tipOptionIndex:r.tipOptionIndex}):null,V=r.body&&r.body.text,Ca=false,W=false;if(V)W=this.$UFIComment22(r.body.text);var Da=!this.state.hideSpamComment&&(r.photo_comment||r.video_comment||r.attachment);if(Da&&W)J=a("React").createElement("div",{className:"_26f8"},J,x?this.$UFIComment20():null);var X=null;if(!this.state.hideSpamComment&&!r.parentcommentid&&r.privacy_value===a("CommentPrivacyValue").OWNER_OR_COMMENTER&&(a("PrivateCommentsConfig").privacy_text_above_comment_enabled||a("PrivateCommentsConfig").privacy_text_inside_comment_enabled)){var Ea=q.viewerIsAuthor?t.actorshortname||t.actorname:u.firstName||u.name;X=a("React").createElement("div",{className:"UFIPrivateCommentLabel"+(!V&&!r.isAnnouncement||W?" UFIPrivateCommentActorOnly":"")},a("React").createElement("div",{className:"UFIPrivateCommentLabelIcon"}),a("React").createElement("div",{className:"UFIPrivateCommentLabelText"},c._("Only you and {user} can see this",[c.param("user",Ea)])))}var Y=a("React").createElement("span",{className:(!V&&!r.isAnnouncement?"UFICommentActorOnly":"")+(V||r.isAnnouncement?" UFICommentActorAndBody":"")+(r.isJoinEvent&&q.contextArgs.isLiveVideoSutroAnnouncementEnabled?" _4ql9":"")+(r.isAnnouncement&&r.ctaAction!==a("LiveVideoAnnouncementCTAType").NONE&&q.contextArgs.isLiveVideoSutroAnnouncementEnabled?" _4qla":"")+(W?" _3re2":""),ref:function($){this.$UFIComment1=$}.bind(this)},!this.state.hideSpamComment?D:null,L,D||L?" ":null,a("PrivateCommentsConfig").privacy_text_inside_comment_enabled?X:null,J),Fa=a("SutroPhase2GatingConfig").enabled_narrow_bubble_attachments?r.attachment&&(r.attachment.type==="comment_place_info"||r.attachment.type==="comment_product_info"||r.attachment.type==="gif"||r.attachment.type==="TIP_JAR_PAYMENT")&&!r.photo_comment&&!r.video_comment:r.attachment&&(r.attachment.type==="share"||r.attachment.type==="comment_place_info"||r.attachment.type==="comment_product_info"||r.attachment.type==="gif"||r.attachment.type==="TIP_JAR_PAYMENT")&&!r.photo_comment&&!r.video_comment,Ga=a("SutroPhase2GatingConfig").enabled_narrow_bubble_attachments&&r.attachment&&r.attachment.type==="share";if(a("SutroPhase2GatingConfig").enabled_bubble_comments&&a("SutroPhase2GatingConfig").reaction_badge_module){var Z=a("SutroPhase2GatingConfig").reaction_badge_module;if(Da)N=a("React").createElement(Z,{comment:r,feedback:t,contextArgs:q.contextArgs,isFlexibleWidthAttachment:Ga,isFullWidthAttachment:Fa},N);else if(W)Y=a("React").createElement("span",{className:(!V&&!r.isAnnouncement?"UFICommentActorOnly":"")+(V||r.isAnnouncement?" UFICommentActorAndBody":"")+(r.isJoinEvent&&q.contextArgs.isLiveVideoSutroAnnouncementEnabled?" _4ql9":"")+(W?" _3re2":""),ref:function($){this.$UFIComment1=$}.bind(this)},!this.state.hideSpamComment?D:null,L,D||L?" ":null,a("PrivateCommentsConfig").privacy_text_inside_comment_enabled?X:null,a("React").createElement("div",{className:"_26f8"},a("React").createElement(Z,{comment:r,feedback:t,contextArgs:q.contextArgs},J),x?this.$UFIComment20():null));else Y=a("React").createElement(Z,{comment:r,feedback:t,contextArgs:q.contextArgs},Y);Ca=true}if(a("SutroPhase2GatingConfig").enabled_bubble_comments)if(!V&&N)N=a("React").createElement("div",{className:"_26f8"},N,x?this.$UFIComment20():null);else if(!W&&(V&&!N||V&&N))Y=a("React").createElement("div",{className:"_26f8"},Y,x?this.$UFIComment20():null);var Ha=void 0;if(a("SutroPhase2GatingConfig").enabled_bubble_comments&&(r.istranslatable||!!F))Ha=a("React").createElement(a("UFICommentTranslationLink.react"),{translationData:F,showTranslation:I,isShowingOriginal:H,onSeeTranslation:function(){return this.$UFIComment17()}.bind(this),onSeeOriginal:function(){return this.setState({showBody:true})}.bind(this),shownInCommentActions:a("SutroPhase2GatingConfig").enabled_bubble_comments});var Ia=r.isAnnouncement||this.state.hideSpamComment||this.props.contextArgs.feedLocationType===a("FBFeedLocations").CE_PII_STRIPPED_FEED?null:a("React").createElement(a("UFICommentActions.react"),{comment:r,feedback:t,hideReactionCount:Ca,parentCanComment:q.parentCanComment,permalink:s,viewerCanMarkNotSpam:Boolean(z),showPermalink:q.showPermalink,showReplyLink:q.showReplyLink,translateLink:Ha,contextArgs:q.contextArgs,markedAsSpamHere:this.state.markedAsSpamHere,hideAsSpamForPageAdmin:q.hideAsSpamForPageAdmin||this.state.hideSpamComment,hideSpamComment:this.state.hideSpamComment,orderingMode:q.orderingMode}),Ja=this.props.contextArgs.feedLocationType===a("FBFeedLocations").TAHOE&&this.props.isLocallyComposed&&a("UFIComments").getCacheVariable("lastComment")===r.id&&!r.parentcommentid?this.$UFIComment32(q):null;return a("React").createElement("div",null,S,a("PrivateCommentsConfig").privacy_text_above_comment_enabled?X:null,a("React").createElement(a("UFIImageBlock.react"),{spacing:"medium"},P,a("React").createElement("div",{className:"UFICommentContentBlock"},a("React").createElement("div",{className:"UFICommentContent"},Y,!this.state.hideSpamComment?N:null,!this.state.hideSpamComment?O:null),M,Ia,Ja,x&&!a("SutroPhase2GatingConfig").enabled_bubble_comments?this.$UFIComment20():null),U))};p.propTypes={authorProfiles:f.object.isRequired,comment:f.object.isRequired,contextArgs:f.object.isRequired,feedback:f.object.isRequired,"data-ft":f.string,featuredCommentIDs:f.array,focusOnMount:f.bool,hasPartialBorder:f.bool,hideAsSpamForPageAdmin:f.bool,isFeatured:f.bool,isFirst:f.bool,isFirstCommentComponent:f.bool,isFirstComponent:f.bool,isLast:f.bool,isLastCommentComponent:f.bool,isLastComponent:f.bool,isLivePinnedComment:f.bool,isLocallyComposed:f.bool,parentCanComment:f.bool,permalink:f.string,showPermalink:f.bool,showRemoveReportMenu:f.bool,showReplyLink:f.bool,viewerIsAuthor:f.bool,orderingMode:f.string,markViewerHasInteracted:f.func,showTranslation:f.bool};p.contextTypes={dispatch:f.func};var Ba=function Ba(){__p&&__p();this.$UFIComment1=null;this.$UFIComment3=function(event){this.context.dispatch(a("UFICommentAction").markAsSpam(this.props.contextArgs,this.props.comment,event.target));this.setState({markedAsSpamHere:true})}.bind(this);this.$UFIComment4=function(event){this.context.dispatch(a("UFICommentAction").markAsNotSpam(this.props.contextArgs,this.props.comment,event));this.setState({markedAsSpamHere:false})}.bind(this);this.$UFIComment5=function(event){this.context.dispatch(a("UFICommentAction").remove(this.props.contextArgs,this.props.comment,event.target,function(){return this.setState({isInlinePageDeleted:true})}.bind(this)))}.bind(this);this.$UFIComment6=function(event){this.context.dispatch(a("UFICommentAction").remove(this.props.contextArgs,this.props.comment,event.target,a("emptyFunction")))}.bind(this);this.$UFIComment7=function(event){this.context.dispatch(a("UFICommentAction").delete_comment_and_remove_commenter(this.props.contextArgs,this.props.comment,event.target,a("emptyFunction")))}.bind(this);this.$UFIComment8=function(event){this.context.dispatch(a("UFICommentAction").mute_member(this.props.contextArgs,this.props.comment,event.target,a("emptyFunction")))}.bind(this);this.$UFIComment10=function(event){this.context.dispatch(a("UFICommentAction").inlineBan(this.props.contextArgs,this.props.comment,event,this.props.feedback.ownerid));this.setState({isInlineBanned:true})}.bind(this);this.$UFIComment11=function(event){this.context.dispatch(a("UFICommentAction").undoInlineBan(this.props.contextArgs,this.props.comment,event,this.props.feedback.ownerid));this.setState({isInlineBanned:false})}.bind(this);this.$UFIComment12=function(event){this.context.dispatch(a("UFICommentAction").inlineStreamBan(this.props.contextArgs,this.props.comment,event,this.props.feedback.ownerid));this.setState({isInlineStreamBanned:true})}.bind(this);this.$UFIComment13=function(event){this.context.dispatch(a("UFICommentAction").undoInlineStreamBan(this.props.contextArgs,this.props.comment,event,this.props.feedback.ownerid));this.setState({isInlineStreamBanned:false})}.bind(this);this.$UFIComment14=function(event,q){__p&&__p();var r=q.item,s=r.getValue();setTimeout(function(){__p&&__p();var t=this.props,u=t.comment,v=t.contextArgs,w=t.feedback;if(s===h.remove)this.$UFIComment6(event);else if(s===h.delete_comment_and_remove_commenter)this.$UFIComment7(event);else if(s===h.edit)this.context.dispatch(a("UFICommentAction").edit(v,u));else if(s===h.hide)this.$UFIComment3(event);else if(s===h.mute_member)this.$UFIComment8(event);else if(s===h.hide_text_delights)this.$UFIComment9(event);else if(s===h.embed)this.context.dispatch(a("UFICommentAction").embed(v,u));else if(s===h.manageConstituentBadge)this.context.dispatch(a("UFICommentAction").manageConstituentBadge(v,u));else a("UFICentralUpdates").inform(s,{comment:u,feedback:w})}.bind(this),0)}.bind(this)};ea.exports=a("FluxContainer").create(p,{pure:false,withProps:true})}),null);
__d("UFICommentDisabledNotice.react",["cx","React","TextWithEntities.react","linkifyEntityRange"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.feedback,n=m.commentdisablednotice;if(m.isviewermuted)n=m.mutednotice;if(m.arecommentsdisabled)n=m.commentdisablednotice;var o=c("React").createElement("div",{className:"UFINotice"},c("React").createElement(c("TextWithEntities.react"),{interpolator:c("linkifyEntityRange"),ranges:n.ranges,aggregatedranges:n.aggregated_ranges,text:n.text}));return c("React").createElement("div",{className:"UFIRow _4204 _2o9m _4oep"},o)};function l(){i.apply(this,arguments)}l.propTypes={feedback:k.object.isRequired};f.exports=l}),null);
__d("UFICommentFilters",["UFIConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getAuthors:function i(j){return j.reduce(function(k,l){if(l.author)k=k.concat(l.author);if(l.socialcontext)k=k.concat(l.socialcontext.topmutualid);if(l.replyauthors&&l.replyauthors.length)k=k.concat(l.replyauthors);return k},[])},isDeleted:function i(j){return j.status===c("UFIConstants").UFIStatus.DELETED},isSpam:function i(j){return j.status===c("UFIConstants").UFIStatus.SPAM},collectSpamBuckets:function i(j,k){__p&&__p();var l=j.reduce(function(l,m){__p&&__p();if(h.isSpam(m))if(l.spamBucket){l.spamBucket.spamCommentIDs.push(m.id);l.collected.push(null)}else{l.spamBucket={status:c("UFIConstants").UFIStatus.SPAM,id:m.id,spamCommentIDs:[m.id]};l.collected.push(l.spamBucket)}else if(m.isAnnouncement||k[m.author]){l.spamBucket=null;l.collected.push(m)}return l},{spamBucket:null,collected:[]});return l.collected}};f.exports=h}),null);
__d("UFICommentHeader.react",["cx","fbt","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("h6",babelHelpers["extends"]({},this.props,{className:"accessible_elem"}),i._("Comments"))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("UFICommentListVisibilityTracker.react",["cx","Arbiter","DOMQuery","OnVisible.react","React","ReactDOM","SubscriptionsHandler","UFICommentVPVD","UFIConfig","UFIInstanceAction","UFISharedDispatcher","UFIVisibility"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").Children,l=c("React").Component,m=c("React").PropTypes,n=c("UFIConfig").commentVPVD;i=babelHelpers.inherits(o,l);j=i&&i.prototype;function o(p){__p&&__p();j.constructor.call(this,p);this.state={isVisible:false};this.onVisible=function(){if(this.$UFICommentListVisibilityTracker2())this.setState({isVisible:true});c("UFISharedDispatcher").dispatch(c("UFIInstanceAction").changeCommentListVisibility(this.props.contextArgs,c("UFIVisibility").VISIBLE))}.bind(this);this.onHidden=function(){if(this.$UFICommentListVisibilityTracker2())this.setState({isVisible:false});c("UFISharedDispatcher").dispatch(c("UFIInstanceAction").changeCommentListVisibility(this.props.contextArgs,c("UFIVisibility").HIDDEN))}.bind(this);this.$UFICommentListVisibilityTracker1=new(c("SubscriptionsHandler"))()}o.prototype.componentDidMount=function(){if(this.$UFICommentListVisibilityTracker2()&&this.props.contextArgs.location==="conversation_nub")this.$UFICommentListVisibilityTracker1.addSubscriptions(c("Arbiter").subscribe("ConversationNubUtils/recheckTabVisibility",function(p,q){var r=q||{},s=r.tab,t=s&&s.getRootDOM(),u=this.refs.onVisibleRoot,v=u&&c("ReactDOM").findDOMNode(u);if(t&&u&&v&&c("DOMQuery").contains(t,v))u.check()}.bind(this)))};o.prototype.componentWillUnmount=function(){this.$UFICommentListVisibilityTracker1.release()};o.prototype.shouldComponentUpdate=function(p,q){if(!n.debug_html&&this.state.isVisible!==q.isVisible)return false;return true};o.prototype.$UFICommentListVisibilityTracker2=function(){return!!c("UFIConfig").enableCommentListVisibilityTracking||c("UFICommentVPVD").enableVPVDLogging(this.props.contextArgs)};o.prototype.render=function(){var p=k.only(this.props.children);if(!this.$UFICommentListVisibilityTracker2())return p;var q=n.debug_html;return c("React").createElement("div",{"data-debugstate":q?this.state.isVisible?"partially visible":"hidden":null,className:"_3b-9"+(q?" _3b-a":"")+(q&&this.state.isVisible?" _3b-b":"")+(q&&!this.state.isVisible?" _3b-c":"")+" _j6a"},c("React").createElement(c("OnVisible.react"),{ref:"onVisibleRoot",onVisible:this.onVisible,onHidden:this.onHidden},p))};o.propTypes={contextArgs:m.shape({instanceid:m.string.isRequired,location:m.string}).isRequired};f.exports=o}),null);
__d("UFICommentScrollableArea.react",["React","ScrollableArea.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").Children;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.props,m=l.children,n=l.scrollcomments,o=l.scrollwidth;if(n&&o)return c("React").createElement(c("ScrollableArea.react"),{width:o},j.only(m));return j.only(m)};function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("CommentsTimeSpentTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$CommentsTimeSpentTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$CommentsTimeSpentTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$CommentsTimeSpentTypedLogger1={};return this};h.prototype.updateData=function(j){this.$CommentsTimeSpentTypedLogger1=babelHelpers["extends"]({},this.$CommentsTimeSpentTypedLogger1,j);return this};h.prototype.setEndTime=function(j){this.$CommentsTimeSpentTypedLogger1.end_time=j;return this};h.prototype.setOrderingMode=function(j){this.$CommentsTimeSpentTypedLogger1.ordering_mode=j;return this};h.prototype.setPostFbid=function(j){this.$CommentsTimeSpentTypedLogger1.post_fbid=j;return this};h.prototype.setStartTime=function(j){this.$CommentsTimeSpentTypedLogger1.start_time=j;return this};h.prototype.setTimeSpentID=function(j){this.$CommentsTimeSpentTypedLogger1.time_spent_id=j;return this};h.prototype.setViewerHasInteracted=function(j){this.$CommentsTimeSpentTypedLogger1.viewer_has_interacted=j;return this};var i={end_time:true,ordering_mode:true,post_fbid:true,start_time:true,time_spent_id:true,viewer_has_interacted:true};f.exports=h}),null);
__d("CommentsTimeSpentTracker.react",["invariant","Banzai","CommentsTimeSpentTypedLogger","Event","OnVisible.react","React","SubscriptionsHandler","TimeSlice","UFIOrderingModeStore","UserActivity","pageID","setTimeout"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"CommentsTimeSpentTracker",firstVisibleTime:0,listeners:new(c("SubscriptionsHandler"))(),propTypes:{contextArgs:i.object.isRequired,targetFBID:i.string.isRequired,viewerHasInteracted:i.bool.isRequired,timeToConsiderViewerInactiveMillis:i.number,pollViewerActivityIntervalMillis:i.number},getDefaultProps:function k(){return{timeToConsiderViewerInactiveMillis:3e4,pollViewerActivityIntervalMillis:1e3}},render:function k(){return c("React").createElement(c("OnVisible.react"),{ref:"onVisibleElement",onVisible:this.startInterval,onHidden:this.finishInterval},this.props.children)},startInterval:function k(){if(this.firstVisibleTime===0){this.firstVisibleTime=this._getTimeInSeconds();this._checkForIdleViewer()}},finishInterval:function k(){var l=c("UFIOrderingModeStore").getState().get(this.props.contextArgs.instanceid);if(this.firstVisibleTime&&this.isMounted()){var m=this._getTimeInSeconds();if(m>this.firstVisibleTime)new(c("CommentsTimeSpentTypedLogger"))().setViewerHasInteracted(this.props.viewerHasInteracted).setOrderingMode(l).setPostFbid(this.props.targetFBID).setStartTime(this.firstVisibleTime).setEndTime(m).setTimeSpentID(c("pageID")).log();this.firstVisibleTime=0}},componentWillReceiveProps:function k(){this.finishInterval()},componentDidMount:function k(){this.listeners.addSubscriptions(c("Banzai").subscribe(c("Banzai").SHUTDOWN,this.finishInterval),c("Event").listen(window,"blur",this.finishInterval),c("Event").listen(window,"focus",this._checkVisibility))},componentWillUnmount:function k(){this.finishInterval();this.listeners.release()},componentDidUpdate:function k(){this._checkVisibility()},_getTimeInSeconds:function k(){return Math.floor(Date.now()/1e3)},_checkVisibility:function k(){if(this.isMounted()){this.refs.onVisibleElement!==null||h(0);this.refs.onVisibleElement.reset()}},_checkForIdleViewer:function k(){__p&&__p();if(this.firstVisibleTime===0)return;if(c("UserActivity").isActive(this.props.timeToConsiderViewerInactiveMillis))c("setTimeout")(c("TimeSlice").guard(function(){this._checkForIdleViewer()}.bind(this),"CommentsTimeSpentTracker checkForIdleViewer",{propagationType:c("TimeSlice").PropagationType.EXECUTION}),this.props.pollViewerActivityIntervalMillis);else{this.finishInterval();c("UserActivity").subscribeOnce(function(){if(this.isMounted())this._checkVisibility()}.bind(this))}}});f.exports=j}),null);
__d("UFISeenTracker.react",["BanzaiODS","OnVisible.react","React","setTimeout"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;function j(l){var m=false;return function(){if(!m){l();m=true}}}h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.state={seen:false};this.$UFISeenTracker1=j(this.logSeen.bind(this))}k.prototype.render=function(){if(this.state.seen)return this.props.children;return c("React").createElement(c("OnVisible.react"),{onVisible:this.$UFISeenTracker1},this.props.children)};k.prototype.logSeen=function(){c("setTimeout")(function(){return this.setState({seen:true})}.bind(this),100);c("BanzaiODS").bumpEntityKey("unsampled_feedback","rendered_ufi_client")};k.defaultProps={children:null};f.exports=k}),null);
__d("UFIComponentLogger.react",["CommentsTimeSpentTracker.react","React","UFIConfig","UFISeenTracker.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){__p&&__p();var l=this.props,m=l.children,n=l.contextArgs,o=l.feedback,p=l.hasComments,q=l.isPermalink,r=l.viewerHasInteractedWithComments;if(!m)return null;var s=c("React").createElement("div",null,m);if(p&&c("UFIConfig").logCommentsTimespent){var t=r||q;s=c("React").createElement(c("CommentsTimeSpentTracker.react"),{contextArgs:n,viewerHasInteracted:t,targetFBID:o.commentstargetfbid},s)}if(c("UFIConfig").logWhetherUFISeen)s=c("React").createElement(c("UFISeenTracker.react"),null,s);return s};function k(){h.apply(this,arguments)}k.propTypes={contextArgs:j.object.isRequired,feedback:j.object.isRequired,hasComments:j.bool.isRequired,isPermalink:j.bool.isRequired,viewerHasInteractedWithComments:j.bool.isRequired};k.defaultProps={children:null};f.exports=k}),null);
__d("UFIComponents",["React","UFICommentFilters"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(k){if(!k)return false;if(k.props.comment&&c("UFICommentFilters").isDeleted(k.props.comment))return false;return true},i=function i(k,l,m){var n=void 0,o=m?k.length-1:0,p=m?-1:k.length,q=m?-1:1;for(n=o;n!=p;n+=q)if(h(k[n])){l(k,n);return k}return k},j={applyToUFIComponents:function k(l,m,n){l=i(l,function(o,p){if(o[p])o[p]=c("React").cloneElement(o[p],m)},false);l=i(l,function(o,p){if(o[p])o[p]=c("React").cloneElement(o[p],n)},true);return l}};f.exports=j}),null);
__d("UFIContainer.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:(!this.props.isReplyList?"UFIList":"")+(this.props.isAcceptedAnswerReply?" UFIAcceptedAnswerReply":"")+(this.props.isPrivateComment?" UFIPrivateCommentDarkTheme":"")+(this.props.isReplyList?" UFIReplyList":"")+(this.props.isParentLiveDeleted?" UFITranslucentReplyList":"")+(this.props.isFirstCommentComponent?" _48pi":"")+(this.props.isLastCommentComponent?" UFILastCommentComponent":"")+(this.props.isFirstComponent?" _4204":"")+(this.props.isLastComponent?" _2o9m":"")+(this.props.shouldHide?" hidden_elem":"")},this.props.children)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("UFILikeSentenceText.react",["cx","ActorURI","HovercardLinkInterpolator","ProfileBrowserLink","ProfileBrowserTypes","React","TextWithEntities.react","URI","XUFIReactionProfileBrowserController","XUFIReactionProfileDialogController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;function l(n,o,p,q){__p&&__p();if(q.count!=null){var r=c("ProfileBrowserTypes").LIKES,s={id:n.targetfbid,actorid:n.actorid},t=[],u=void 0;for(var v=0;v<o.length;v++)if(!o[v].count){u=o[v];var w=u.entity;t.push(w.id)}var x=new(c("URI"))("/ajax/like/tooltip.php").setQueryData({comment_fbid:n.targetfbid,comment_from:n.actorforpost,seen_user_fbids:t.length?t:true});x=c("ActorURI").create(x,n.actorforpost);var y=void 0,z=void 0;if(n.displayreactions){y=c("XUFIReactionProfileDialogController").getURIBuilder().setString("ft_ent_identifier",n.entidentifier).getURI();y=c("ActorURI").create(y,n.actorforpost);z=c("XUFIReactionProfileBrowserController").getURIBuilder().setString("ft_ent_identifier",n.entidentifier).getURI();z=c("ActorURI").create(z,n.actorforpost)}else{y=c("ProfileBrowserLink").constructDialogURI(r,s).toString();z=c("ProfileBrowserLink").constructPageURI(r,s).toString()}return c("React").createElement("a",{"data-testid":"n_other_people_link",className:"_375l",rel:"dialog",ajaxify:y,href:z,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":x.toString(),role:"button"},p)}else{var A={source_feedback_owner_id:n.ownerid,source_feedback_identifier:n.entidentifier};return c("HovercardLinkInterpolator")(p,q,null,null,"ufi",A)}}i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.render=function(){var n=this.props.feedback,o=this.props.likeSentenceData,p=void 0,q=o.aggregatedranges||o.aggregated_ranges;p=l;p=p.bind(null,n,o.ranges);return c("React").createElement(c("TextWithEntities.react"),{interpolator:p,ranges:Object.values(o.ranges),aggregatedRanges:q,text:o.text})};function m(){i.apply(this,arguments)}m.propTypes={contextArgs:k.object.isRequired,feedback:k.object.isRequired,likeSentenceData:k.object.isRequired};f.exports=m}),null);
__d("XUFIReactionTooltipController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/reaction/tooltip/",{ft_ent_identifier:{type:"String",required:true},seen_user_fbids:{type:"IntVector",defaultValue:[]},reaction_type:{type:"Enum",enumType:0},user_count:{type:"Int"}})}),null);
__d("UFIReactionsSocialSentence.react",["cx","ActorURI","BanzaiLogger","Bootloader","FeedbackSourceType","HideFeedbackCounts","React","UFIConfig","UFIReactionsBlingTokens.react","UFIReactionsProfileBrowserUtils","XUFIReactionsSocialSentenceTooltipController","XUFIReactionTooltipController"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){__p&&__p();var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.onSentenceClick=function(event){if(this.props.reactionsLink)return;var q=this.props.feedback,r=c("UFIReactionsProfileBrowserUtils").getDialogURI({actorID:q.actorforpost,feedbackTargetID:q.entidentifier}).toString();c("BanzaiLogger").log("WebReactionsBlingLoggerConfig",{feedback_id:q.entidentifier,"interface":"www",action:"click",target_type:"social_sentence"});c("Bootloader").loadModules(["AsyncDialog"],function(s){s.bootstrap(r,event.currentTarget,"dialog")},"UFIReactionsSocialSentence.react");event.preventDefault()}.bind(this),m}k.prototype.$UFIReactionsSocialSentence1=function(l){"use strict";var m=l.actorforpost,n=l.entidentifier,o=c("UFIConfig").reactionsHasTooltipBreakdown?c("XUFIReactionsSocialSentenceTooltipController"):c("XUFIReactionTooltipController");return{"data-hover":"tooltip","data-tooltip-uri":c("ActorURI").create(o.getURIBuilder().setString("ft_ent_identifier",n).getURI(),m)}};k.prototype.render=function(){"use strict";__p&&__p();var l=this.props.feedback,m=this.props.contextArgs,n=l.likesentences,o=l.reactioncountreduced,p=l.reactionsentences,q=l.viewerreaction,r=l.reactioncount||0,s=q?r>3:r>2;if(c("UFIConfig").reactionsHasTooltipBreakdown)s=r>1;var t=c("HideFeedbackCounts").hideReactionCount,u=null;if(s)u=this.$UFIReactionsSocialSentence1(l);var v=null;if(p&&p.current){v=p.current.text;if(t&&v)if(!isNaN(v.replace(/[.,\s]/g,"")))v=""}else if(n&&n.current)v=n.current.text;else v=o;var w=null;if(v)w=c("React").createElement("span",{className:"_4arz"},c("React").createElement("span",u,v));var x=null;if(r)x=c("React").createElement("span",{"aria-hidden":!!w,className:"_1g5v"},c("React").createElement("span",u,t?c("React").createElement("br",null):o));var y=c("UFIReactionsProfileBrowserUtils").getPageURI({actorID:l.actorforpost,feedbackTargetID:l.entidentifier});if(this.props.reactionsLink)y=this.props.reactionsLink;var z=c("UFIConfig").reactionsDirectReactTokensModule?c("UFIConfig").reactionsDirectReactTokensModule:c("UFIReactionsBlingTokens.react"),A=m&&m.source===c("FeedbackSourceType").TAHOE;return c("React").createElement("div",{className:"_1vaq"},c("React").createElement("div",{className:"_ipp"},c("React").createElement(z,{className:"_4ar- _ipn",contextArgs:m,showCounts:c("UFIConfig").reactionsHasDirectReactTokensCounts,feedback:l,max:3},c("React").createElement("a",{className:"_2x4v",href:y,onClick:this.onSentenceClick,rel:"ignore",role:"button"},x,!A?w:null))))};f.exports=k}),null);
__d("XUFIGroupSeenByProfileBrowserController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/group/seenby/profile/browser/",{id:{type:"Int",required:true}})}),null);
__d("XUFIGroupSeenByProfileDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/group/seenby/profile/dialog/",{id:{type:"Int",required:true},__asyncDialog:{type:"Int"}})}),null);
__d("UFILikeSentence.react",["cx","fbt","invariant","ActorURI","Bootloader","FeedbackSourceType","LeftRight.react","React","SutroPhase2GatingConfig","UFILikeSentenceText.react","UFIReactionsSocialSentence.react","URI","XUFIGroupSeenByProfileBrowserController","XUFIGroupSeenByProfileDialogController","intlSummarizeNumber","isEmpty","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n=null;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={bootloadedSelectorModule:false,hasSelectorModule:!!n},q}o.rendersSocialSentence=function(p){var q=p.feedback,r=p.contextArgs,s=q.likesentences,t=q.reactionsentences;if(r.hideSocialSentence)return false;return s&&!c("isEmpty")(s.current)||t&&t.current&&t.current.text};o.prototype.componentWillMount=function(){this.$UFILikeSentence1(this.props)};o.prototype.componentWillReceiveProps=function(p){this.$UFILikeSentence1(p)};o.prototype.$UFILikeSentence1=function(p){if(p.showOrderingModeSelector&&!this.state.bootloadedSelectorModule){!p.contextArgs.entstream||j(0);c("Bootloader").loadModules(["UFIOrderingModeSelectorContainer.react"],function(f){n=f;this.setState({hasSelectorModule:true})}.bind(this),"UFILikeSentence.react");this.setState({bootloadedSelectorModule:true})}};o.prototype.$UFILikeSentence2=function(){var p=this.props.feedback,q=p.likesentences,r=q||{},s=r.current;return s||{}};o.prototype.$UFILikeSentence3=function(){var p=this.props,q=p.feedback,r=p.contextArgs;if(!this.constructor.rendersSocialSentence(p))return null;if(r.hasReactions)return c("React").createElement(c("UFIReactionsSocialSentence.react"),{feedback:q,contextArgs:r});var s=this.$UFILikeSentence2();if(s&&s.text)return c("React").createElement("div",{className:"UFILikeSentenceText"},c("React").createElement(c("UFILikeSentenceText.react"),{contextArgs:r,feedback:q,likeSentenceData:s}));return null};o.prototype.$UFILikeSentence4=function(){__p&&__p();var p=this.props,q=p.contextArgs,r=p.commentCounts;if(!q.showCommentHeader)return null;var s=void 0,t=r[q.ftentidentifier];if(t){t=c("intlSummarizeNumber")(t);s=i._("Comments ({commentCount})",[i.param("commentCount",t)])}else s=i._("Comments");return c("React").createElement("div",{className:"_4bsb"},s)};o.prototype.renderOrderingModeSelector=function(){if(!this.props.showOrderingModeSelector||!this.state.hasSelectorModule||!n)return null;return c("React").createElement(n,{key:"orderingmodeselector",contextArgs:this.props.contextArgs,feedback:this.props.feedback})};o.prototype.renderSeenState=function(){__p&&__p();var p=this.props.feedback;if(!p.seencount||p.seencount===0||this.props.contextArgs.entstream)return null;var q=null;if(p.seenbyall)if(p.seencount==1)q=i._("Seen by both of you");else q=i._("Seen by everyone");else q=p.seencount==1?i._("Seen by 1"):i._("Seen by {count}",[i.param("count",p.seencount)]);var r=new(c("URI"))("/ajax/ufi/seen_list_hovercard.php").setQueryData({id:p.entidentifier}),s=c("ActorURI").create(c("XUFIGroupSeenByProfileDialogController").getURIBuilder().setInt("id",p.entidentifier).getURI(),p.actorforpost),t=c("ActorURI").create(c("XUFIGroupSeenByProfileBrowserController").getURIBuilder().setInt("id",p.entidentifier).getURI(),p.actorforpost);return c("React").createElement("a",{key:"seenstate",rel:"dialog",ajaxify:s,href:t,"data-hovercard":r.toString(),className:"UFISeenCount UFISeenCountRight"},c("React").createElement("span",{className:"UFISeenCountIcon"}),q)};o.prototype.render=function(){__p&&__p();var p=c("SutroPhase2GatingConfig").enabled_bling_above_ufi,q=this.$UFILikeSentence3(),r=this.renderOrderingModeSelector(),s=this.renderSeenState(),t=[s,r].filter(function(y){return y!==null}),u=null;if(t.length===1)u=t[0];else if(t.length>1)u=c("React").createElement("div",{className:"_oql"},t);var v=null,w=null;if(p)v=r;else{v=q;w=u}if(!v&&!w)return null;else if(!v){v=this.$UFILikeSentence4();if(!v&&w)v=c("React").createElement("div",null)}var x=null;if(v)x=c("React").createElement(c("LeftRight.react"),{direction:c("LeftRight.react").DIRECTION.right},v,w);else x=w;return c("React").createElement("div",{className:c("joinClasses")("UFIRow"+(this.props.feedback.likesentences.isunseen?" UFIUnseenItem":"")+" UFILikeSentence"+(!p&&this.props.isFirstComponent||p&&this.props.isFirstComponent&&u!==null?" _4204":"")+(this.props.isLastComponent?" _2o9m":"")+(this.props.contextArgs.hasReactions?" _4_dr":"")+(p?" _y2x":""))},x)};o.propTypes={contextArgs:m.object.isRequired,feedback:m.object.isRequired,commentCounts:m.object,isFirstComponent:m.bool,isLastComponent:m.bool,onOrderingModeChange:m.func,hasCommentOrderInverted:m.bool,showOrderingModeSelector:m.bool};o.contextTypes={dispatch:m.func};f.exports=o}),null);
__d("UFILiveTypingIndicatorContainer.react",["BootloadOnRender.react","FluxContainer","JSResource","LazyComponent.react","React","UFIConfig","UFILiveTypingStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.state={everHadTyping:false,hasTyping:false,friendTyping:false}}k.getStores=function(){return[c("UFILiveTypingStore")]};k.calculateState=function(l,m){if(!c("UFIConfig").typingIndicator.showInline)return{everHadTyping:false,hasTyping:false,friendTyping:false};var n=!!c("UFILiveTypingStore").getState()[m.feedbackTargetID];return{everHadTyping:(l||{}).everHadTyping||n,hasTyping:n,friendTyping:c("UFILiveTypingStore").isFriendTyping(m.feedbackTargetID)}};k.prototype.shouldComponentUpdate=function(l,m){return l.feedbackTargetID!=this.props.feedbackTargetID||m.everHadTyping!=this.state.everHadTyping||m.hasTyping!=this.state.hasTyping};k.prototype.render=function(){if(this.state.everHadTyping)return c("React").createElement(c("BootloadOnRender.react"),{loader:c("JSResource")("UFILiveTypingIndicator.react").__setRef("UFILiveTypingIndicatorContainer.react"),placeholder:c("React").createElement("div",null),component:c("React").createElement(c("LazyComponent.react"),babelHelpers["extends"]({},this.props,this.state))});return null};f.exports=c("FluxContainer").create(k,{pure:false,withProps:true})}),null);
__d("UFIReplySocialSentence.react",["cx","fbt","Badge.react","Image.react","LiveTimer","Middot.react","NumberFormat","React","Timestamp.react","UFIImageBlock.react","WebCommentViewOption","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=43200;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){__p&&__p();var n=this.props.isLoading?"UFIReplySocialSentenceLoading":"",o=c("joinClasses")("UFIRow UFIReplySocialSentenceRow"+(this.props.isFirstComponent?" _4204":"")+(this.props.isLastComponent?" _2o9m":"")),p=void 0,q=void 0,r=c("NumberFormat").formatInteger(this.props.replies);if(this.props.isExpanded)p=this.props.replies>1?i._({"*":"Hide {count} Replies"},[i.param("count",r,[0,this.props.replies])]):i._("Hide 1 Reply");else{p=this.props.replies>1?i._({"*":"{count} Replies"},[i.param("count",r,[0,this.props.replies])]):i._("1 Reply");var s=this.props.timestamp;if(s){var t=c("LiveTimer").getApproximateServerTime()/1e3-s.time;if(t<l||this.props.orderingMode==c("WebCommentViewOption").RECENT_ACTIVITY)q=c("React").createElement("span",{className:"fcg"},c("React").createElement(c("Middot.react"),{key:"middot-timestamp"}),c("React").createElement(c("Timestamp.react"),{shorten:this.props.contextArgs.shortenTimestamp,time:s.time,text:s.text,verbose:s.verbose}))}}var u=this.props.author,v=null,w=void 0;if(u&&!this.props.isExpanded){v=c("React").createElement(c("Image.react"),{alt:"",src:u.thumbSrc,className:"img UFIActorImage _54ru"});var x=null;if(this.props.showVerified)x=c("React").createElement(c("Badge.react"),{size:"xsmall",type:"verified"});var y=u.persona&&u.firstName?i._("{author} ({persona})",[i.param("author",u.firstName),i.param("persona",u.persona)]):u.name;if(u.i18nGender)w=[i._({"*":"{author}{verified_badge} replied"},[i.param("author",y,[1,u.i18nGender]),i.param("verified_badge",x)])];else w=[i._("{author}{verified_badge} replied",[i.param("author",y),i.param("verified_badge",x)])];w.push(c("React").createElement(c("Middot.react"),{key:"middot-author"}),p)}else w=p;var z=u&&!this.props.isExpanded;return c("React").createElement("div",{className:o,"data-ft":this.props["data-ft"]},c("React").createElement("a",{className:"UFICommentLink",onClick:this.props.onClick,href:"#",role:"button"},c("React").createElement(c("UFIImageBlock.react"),null,c("React").createElement("div",{className:(z?"UFIReplyActorPhotoWrapper":"")+(z?" UFIReplyActor":"")},c("React").createElement("i",{className:(!this.props.isExpanded?"UFIPagerIcon":"")+(this.props.isExpanded?" UFICollapseIcon":"")+(z?" UFIIconWithActor":"")}),v),c("React").createElement("span",{className:n},c("React").createElement("span",{className:"UFIReplySocialSentenceLinkText"+(this.props.showVerified?" UFIReplySocialSentenceVerified":"")},w),q))))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("XUFICommentTooltipController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/comment/tooltip/",{ft_ent_identifier:{type:"String",required:true},seen_user_fbids:{type:"IntVector",defaultValue:[]}})}),null);
__d("UFICommentCount.react",["cx","fbt","ActorURI","NumberFormat","React","XUFICommentTooltipController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.$UFICommentCount1=function(){var n=this.props.commentCount,o=n==1;if(typeof n==="number")n=c("NumberFormat").formatInteger(n);return i._({"Comment":"{count} comment","Comments":"{count} comments"},[i.param("count",n),i["enum"](o?"Comment":"Comments",{Comment:"Comment",Comments:"Comments"})])};m.prototype.render=function(){var n=this.props.feedback,o=n.entidentifier,p=n.actorforpost,q=this.$UFICommentCount1(),r="fcg",s=null;if(o&&p)s=c("ActorURI").create(c("XUFICommentTooltipController").getURIBuilder().setString("ft_ent_identifier",o).getURI(),p);if(s)return c("React").createElement("span",{"aria-live":"polite",className:r,"data-hover":"tooltip","data-tooltip-uri":s},q);else return c("React").createElement("span",{className:r},q)};function m(){j.apply(this,arguments)}m.propTypes={commentCount:l.oneOfType([l.number,l.string]).isRequired,feedback:l.object.isRequired};f.exports=m}),null);
__d("XUFIShareTooltipController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/share/tooltip/",{ft_ent_identifier:{type:"String",required:true},seen_user_fbids:{type:"IntVector",defaultValue:[]}})}),null);
__d("XUFIShareTooltipController.flow",["XUFIShareTooltipController"],(function a(b,c,d,e,f,g){f.exports=c("XUFIShareTooltipController")}),null);
__d("UFIShareRow.react",["cx","fbt","invariant","ActorURI","Layout.react","NumberFormat","React","UFICommentCount.react","URI","XUFIShareTooltipController.flow","intlSummarizeNumber"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("Layout.react").Column,n=c("Layout.react").FillColumn;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;o.prototype.$UFIShareRow1=function(){var p=this.props,q=p.feedback,r=p.shownCommentCount;if(r&&Number(r)!==0)return c("React").createElement(c("UFICommentCount.react"),{feedback:q,commentCount:r});return null};o.prototype.render=function(){__p&&__p();var p=this.props.feedback.sharefbid||this.props.feedback.targetfbid,q=new(c("URI"))("/ajax/shares/view").setQueryData({target_fbid:p}),r=new(c("URI"))("/shares/view").setSubdomain("www").setQueryData({id:p}),s=this.props.contextArgs.loggedOutLinkConfig;if(s&&s.showShareLink){q=s.shareAjaxifyURI;q||j(0)}var t=void 0;if(this.props.feedback.sharecount>1){var u=this.props.useReducedShareCount?c("intlSummarizeNumber")(this.props.feedback.sharecount):c("NumberFormat").formatInteger(this.props.feedback.sharecount);t=i._("{count} shares",[i.param("count",u)])}else t=i._("1 share");var v="UFIRow UFIShareRow"+(this.props.isFirstComponent?" _4204":"")+(this.props.isLastComponent?" _2o9m":""),w=c("ActorURI").create(c("XUFIShareTooltipController.flow").getURIBuilder().setString("ft_ent_identifier",this.props.feedback.entidentifier).getURI(),this.props.feedback.actorforpost),x=c("React").createElement("a",{className:"UFIShareLink",rel:"dialog","data-hover":"tooltip","data-tooltip-uri":w,ajaxify:q.toString(),href:r.toString()},t),y=this.$UFIShareRow1();if(y)x=c("React").createElement(c("Layout.react"),null,c("React").createElement(n,null,x),c("React").createElement(m,null,y));return c("React").createElement("div",{className:v},x)};function o(){k.apply(this,arguments)}f.exports=o}),null);
__d("UFISpamPlaceholder.react",["fbt","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){if(this.props.isLoading)return c("React").createElement("div",{className:"UFIRow"},c("React").createElement("span",{className:"UFISpamCommentWrapper"},c("React").createElement(c("XUISpinner.react"),{className:"mls",background:"light",size:"small"})));return c("React").createElement("div",{className:"UFIRow"},c("React").createElement("a",{href:"#",role:"button",className:"UFISpamCommentLink",onClick:this.props.onClick,"aria-label":h._("Show comments marked as spam")},c("React").createElement("span",{"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":h._("{count} hidden",[h.param("count",this.props.numHidden)]),className:"UFISpamCommentWrapper"},c("React").createElement("i",{className:"placeholderIcon"}))))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("UFISpamPlaceholderContainer.react",["FluxContainer","React","UFISharedDispatcher","UFISpamPlaceholder.react","UFISpamStore","UFIStoryAction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state={isLoading:true,numHidden:0,onClick:function p(){}},l}j.getStores=function(){return[c("UFISpamStore")]};j.calculateState=function(k,l){var m=l.contextArgs,n=l.viewas,o=l.comment,p=l.parentCommentID;return{isLoading:!!c("UFISpamStore").getState()[o.id],numHidden:o.spamCommentIDs.length,onClick:function q(){return c("UFISharedDispatcher").dispatch(c("UFIStoryAction").spamFetched(m,n,o.spamCommentIDs,p))}}};j.prototype.shouldComponentUpdate=function(k,l){return k.contextArgs!=this.props.contextArgs||k.viewas!=this.props.viewas||k.parentCommentID!=this.props.parentCommentID||l.isLoading!=this.state.isLoading||l.numHidden!=this.state.numHidden};j.prototype.render=function(){return c("React").createElement(c("UFISpamPlaceholder.react"),this.state)};f.exports=c("FluxContainer").create(j,{pure:false,withProps:true})}),null);
__d("UFITranslateAllRow.react",["cx","ContentTranslationStrings","Link.react","React","UFIInstanceAction","UFISharedDispatcher"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$UFITranslateAllRow1=function(){c("UFISharedDispatcher").dispatch(c("UFIInstanceAction").translateAll(this.props.contextArgs))}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"UFIRow"},c("React").createElement("div",{className:"_4upo"},c("React").createElement(c("Link.react"),{onClick:this.$UFITranslateAllRow1},c("ContentTranslationStrings").TRANSLATE_ALL_TEXT)))};f.exports=k}),null);
__d("StaticUFI.react",["csx","cx","invariant","Arbiter","BanzaiODS","BlueBar","BootloadedComponent.react","BootloadOnRender.react","CommentPrivacyUtils","CommentPrivacyValue","CommentSection","DOM","Event","FbFeedCommentUFIScroller","FluxContainer","JSLogger","JSResource","LazyComponent.react","LogHistory","Parent","PrivateConversationsTreatment","React","ReactDOM","SearchableEntry","SubscriptionsHandler","SutroPhase2GatingConfig","TrackingNodes","UFIAcceptedAnswerStore","UFIAddComment.react","UFIAddCommentLink.react","UFIComment.react","UFICommentDisabledNotice.react","UFICommentEditIDStore","UFICommentFilters","UFICommentHeader.react","UFICommentListVisibilityTracker.react","UFIComments","UFICommentScrollableArea.react","UFICommercialBreakStore","UFIComponentLogger.react","UFIComponents","UFIConfig","UFIConstants","UFIContainer.react","UFIInteractionStore","UFILikeSentence.react","UFILivePinnedCommentStore","UFILiveTypingIndicatorContainer.react","UFILocallyComposedCommentStore","UFIOrderingModeStore","UFIPagerGenerator","UFIPaging","UFIPlayLiveVODHighlightsStore","UFIReplySocialSentence.react","UFIShareRow.react","UFISpamPlaceholderContainer.react","UFIStoryAction","UFITranslateAllRow.react","URI","WebCommentViewOption","XUISpinner.react","distinctArrayBy","emptyFunction","getElementPosition","getElementRect","getUnboundedScrollPosition","shallowEqual","throttle"],(function aa(ba,a,ca,da,ea,fa,ga,ha,b){"use strict";__p&&__p();var c,ia,d=a("UFIConfig").UFICommentFilterFallbackWarning||null,e=a("UFIConstants").UFIFeedbackSourceType,f=a("UFIConstants").UFIPayloadSourceType,ja=a("UFIConstants").UFIStatus,ka=a("React").PropTypes,la=a("JSLogger").create("StaticUFI"),g=a("React").createElement("div",{className:"UFICommentsLoadingSpinnerContainer _48pi UFIRow"},a("React").createElement(a("XUISpinner.react"),{size:"large"})),ma=a("React").createElement("div",{className:"_xtv _32k4"},a("React").createElement("i",null));c=babelHelpers.inherits(h,a("React").Component);ia=c&&c.prototype;function h(i){__p&&__p();ia.constructor.call(this,i);this.loadMoreComments=function(){if(this.$StaticUFI1&&this.refs.topLevelBottomPager&&!(this.props.contextArgs.ftentidentifier in this.props.isActiveLoading)){var k=a("ReactDOM").findDOMNode(this.refs.topLevelBottomPager),l=a("getUnboundedScrollPosition")(window).y,m=l+(document.documentElement?document.documentElement.clientHeight:0)+a("UFIConstants").infiniteScrollRangeForQANDAPermalinks;if(k instanceof HTMLElement&&k.offsetHeight&&k.offsetTop<m)this.refs.topLevelBottomPager.props.onPagerClick()}}.bind(this);this.onComment=function(){__p&&__p();var k=a("ReactDOM").findDOMNode(this),l=null,m=null;if(k instanceof Node){l=a("Parent").byTag(k,"form");m=a("Parent").bySelector(k,"._3g6d")}var n=[function(){return this.refs.toplevelcomposer}.bind(this),function(){return this.$StaticUFI40(l)}.bind(this),function(){return this.$StaticUFI40(m)}.bind(this)],o=n.reduce(function(p,q){return p||q()},null);if(o){o.focus();a("FbFeedCommentUFIScroller").reveal(a("ReactDOM").findDOMNode(o))}}.bind(this);var j=this.props.focusReply;this.state={acceptedAnswerState:{type:"NoneAccepted"},focusReply:j,viewerHasClickedCommentComposer:false,viewerHasClickedSeeMore:false,editcommentid:a("UFICommentEditIDStore").getForInstance(this.props.contextArgs.instanceid),localCommentIDs:a("UFILocallyComposedCommentStore").getStateForInstance(this.props.contextArgs.instanceid),inCommercialBreak:a("UFICommercialBreakStore").getValueFor(this.props.contextArgs.instanceid),isPlayingLiveVODHighlights:a("UFIPlayLiveVODHighlightsStore").getValueFor(this.props.contextArgs.instanceid)}}h.getStores=function(){return[a("UFIAcceptedAnswerStore")]};h.calculateState=function(i,j){var k=j.contextArgs,l=j.feedback,m=a("UFIAcceptedAnswerStore").get(k.ftentidentifier,l.acceptedanswer);return babelHelpers["extends"]({},i,{acceptedAnswerState:m})};h.prototype.componentDidMount=function(){__p&&__p();this.$StaticUFI1=true;a("Arbiter").inform("UFI/displayDone-"+this.props.contextArgs.instanceid);this.$StaticUFI2=new(a("SubscriptionsHandler"))();if(this.props.feedback.isqanda&&this.props.feedback.infinitescroll){var i=a("throttle")(this.loadMoreComments,20);this.$StaticUFI2.addSubscriptions(a("Event").listen(window,"scroll",i),a("Event").listen(window,"resize",i))}this.$StaticUFI5();this.$StaticUFI2.addSubscriptions(a("UFICommentEditIDStore").addListener(function(){this.setState({editcommentid:a("UFICommentEditIDStore").getForInstance(this.props.contextArgs.instanceid)})}.bind(this)),a("UFILocallyComposedCommentStore").addListener(function(){this.setState({localCommentIDs:a("UFILocallyComposedCommentStore").getStateForInstance(this.props.contextArgs.instanceid)})}.bind(this)),a("UFICommercialBreakStore").addListener(function(){this.setState({inCommercialBreak:a("UFICommercialBreakStore").getValueFor(this.props.contextArgs.instanceid)})}.bind(this)),a("UFIPlayLiveVODHighlightsStore").addListener(function(){this.setState({isPlayingLiveVODHighlights:a("UFIPlayLiveVODHighlightsStore").getValueFor(this.props.contextArgs.instanceid)})}.bind(this)))};h.prototype.componentWillReceiveProps=function(i){if(this.props.focusReply!==i.focusReply)this.setState({focusReply:i.focusReply})};h.prototype.componentWillUnmount=function(){this.$StaticUFI1=false;this.$StaticUFI2&&this.$StaticUFI2.release()};h.prototype.shouldComponentUpdate=function(i,j){var k=this.props,l=this.state;return!a("shallowEqual")(l,j)||!a("shallowEqual")(l.loadingSpamIDs,j.loadingSpamIDs)||!a("shallowEqual")(l.localCommentIDs,j.localCommentIDs)||!a("shallowEqual")(l.inCommercialBreak,j.inCommercialBreak)||!a("shallowEqual")(k,i)||!a("shallowEqual")(k.feedback,i.feedback)||!a("shallowEqual")(k.repliesMap,i.repliesMap)||!a("shallowEqual")(k.commentCounts,i.commentCounts)||!a("shallowEqual")(k.deletedCounts,i.deletedCounts)||!a("shallowEqual")(k.availableComments,i.availableComments)||!a("shallowEqual")(k.availablePrivateComments,i.availablePrivateComments)||!a("shallowEqual")(k.ranges,i.ranges)||!a("shallowEqual")(k.authorProfiles,i.authorProfiles)||!a("shallowEqual")(k.commentPermalinks,i.commentPermalinks)||!a("shallowEqual")(k.canAddCommentMap,i.canAddCommentMap)||!a("shallowEqual")(k.canReplyMap,i.canReplyMap)||!a("shallowEqual")(k.isActiveLoading,i.isActiveLoading)||!a("shallowEqual")(k.allSeenActiveLoadDirectionData,i.allSeenActiveLoadDirectionData)||!a("shallowEqual")(k.repliesExpandedMap,i.repliesExpandedMap)||!a("shallowEqual")(k.loadingTranslationsMap,i.loadingTranslationsMap)||!a("shallowEqual")(l.isPlayingLiveVODHighlights,j.isPlayingLiveVODHighlights)||!a("shallowEqual")(k.privateCommentsRange,i.privateCommentsRange)||k.privateCommentsCount!==i.privateCommentsCount||!a("shallowEqual")(k.loadingCommentsForSection,i.loadingCommentsForSection)};h.prototype.componentWillUpdate=function(i,j){this.$StaticUFI3=this.$StaticUFI3||!this.$StaticUFI6(this.props.payloadSource)&&this.props.source===e.NEWS_FEED&&a("BlueBar").hasFixedBlueBar();if(this.$StaticUFI3&&!this.$StaticUFI4){var k=a("ReactDOM").findDOMNode(this);if(k instanceof Element)this.$StaticUFI4=a("getElementRect")(k)}};h.prototype.componentDidUpdate=function(i,j){this.$StaticUFI5(i);if(this.$StaticUFI3&&this.$StaticUFI4){var k=this.$StaticUFI7(this.$StaticUFI4);if(k!==null)a("Arbiter").inform("ufi/didUpdate",{offsetY:k});this.$StaticUFI3=false;this.$StaticUFI4=null}};h.prototype.$StaticUFI6=function(i){return i===f.UNKNOWN||i===f.INITIAL_SERVER||i===f.USER_ACTION||i===f.COLLAPSE_ACTION};h.prototype.$StaticUFI7=function(i){var j=a("getElementPosition")(a("BlueBar").getMaybeFixedRoot());if(i.bottom<j.height){var k=i.bottom-i.top,l=a("ReactDOM").findDOMNode(this);if(l instanceof HTMLElement)return l.offsetHeight-k}return null};h.prototype.$StaticUFI8=function(){var i=this.props,j=i.contextArgs,k=i.commentCounts,l=i.deletedCounts,m=i.feedback,n=m.commentcountreduced,o=j.ftentidentifier,p=null;if(this.$StaticUFI9())if(n&&isNaN(n))p=n;else p=k[o]-l[o];return p};h.prototype.$StaticUFI5=function(i){__p&&__p();if(this.props.loadingComments)return;if(this.props.focusTopLevelComposer)this.onComment();if(this.state.focusReply){var j=this.state.focusReply,k=j.replyID,l=j.initiatorComment;if(!(k in this.refs))return;var m=this.refs[k]&&this.refs[k].refs&&this.refs[k].refs.mentionsinput;if(!m)return;m.focus();a("FbFeedCommentUFIScroller").reveal(a("ReactDOM").findDOMNode(m));this.setState({focusReply:null});if(!l)return;var n=m.hasEnteredText(),o=l.author===this.props.feedback.actorforpost,p=!!l.parentcommentid;if(!n&&!o&&p)m.insertMention(this.$StaticUFI10(l.author))}};h.prototype.$StaticUFI10=function(i){var j=this.props.authorProfiles[i],k=j.type;return new(a("SearchableEntry"))({uniqueID:j.id,title:j.name,type:k==="friend"?"user":k})};h.prototype.$StaticUFI11=function(){return this.props.source===e.ADS};h.prototype.$StaticUFI12=function(){return this.props.source===e.LIVE_VIDEO};h.prototype.$StaticUFI13=function(){var i=this.props.contextArgs,j=i.feedcontext&&JSON.parse(i.feedcontext);return!!(j&&j.is_narrow)};h.prototype.$StaticUFI14=function(){return this.props.source===e.COMPACT_SEARCH};h.prototype.$StaticUFI15=function(){var i=this.props,j=i.hideOrderingModeSelector,k=i.feedback,l=i.commentCounts,m=i.contextArgs;return!j&&k.orderingmodes&&!this.$StaticUFI14()&&l[m.ftentidentifier]>=a("UFIConstants").minCommentsForOrderingModeSelector};h.prototype.$StaticUFI16=function(){return!!this.props.contextArgs.hasReactions&&(this.props.contextArgs.feedbackMode==="none"||this.props.contextArgs.feedbackMode==="toggle")&&this.props.feedback.displayreactions&&!this.$StaticUFI17()&&!this.$StaticUFI18()&&this.props.feedback.orderingmodes&&!this.props.hideOrderingModeSelector};h.prototype.$StaticUFI18=function(){return a("CommentPrivacyUtils").getTreatment(this.props.contextArgs)===a("PrivateConversationsTreatment").FRIEND_CONVERSATIONS};h.prototype.$StaticUFI19=function(){var i=this.props,j=i.contextArgs,k=i.ranges,l=j.ftentidentifier,m=k[l].getLength();return this.$StaticUFI20(l,m)};h.prototype.$StaticUFI20=function(i,j){var k=this.props.commentCounts;return k[i]==j};h.prototype.$StaticUFI21=function(){var i=this.props,j=i.contextArgs,k=i.feedback;return k.seencount>0&&!j.entstream};h.prototype.$StaticUFI22=function(){return a("UFILikeSentence.react").rendersSocialSentence(this.props)};h.prototype.$StaticUFI23=function(){var i=this.props;return Boolean(i.contextArgs.showCommentHeader)};h.prototype.$StaticUFI24=function(){var i=this.props,j=i.contextArgs,k=i.feedback;return this.$StaticUFI11()||this.$StaticUFI12()||this.$StaticUFI18()||j.search||this.hasReactions(k,j)};h.prototype.$StaticUFI17=function(){if(this.$StaticUFI24())return false;return this.$StaticUFI22()||this.$StaticUFI21()||this.$StaticUFI15()||this.$StaticUFI23()};h.prototype.$StaticUFI25=function(){var i=this.props,j=i.contextArgs,k=i.feedback;if(this.$StaticUFI11())return false;return Boolean(j.showshares&&k.sharecount&&!this.hasReactions(k,j))};h.prototype.$StaticUFI26=function(){var i=a("SutroPhase2GatingConfig").enabled_bling_above_ufi;return this.$StaticUFI25()&&!this.$StaticUFI18()&&!this.props.contextArgs.entstream&&!i};h.prototype.$StaticUFI9=function(){if(this.$StaticUFI11()||this.$StaticUFI14())return false;var i=this.props,j=i.availableComments,k=i.availablePrivateComments;return!!(j&&j.length||k&&k.length)};h.prototype.$StaticUFI27=function(){var i=this.props,j=i.canAddCommentMap,k=i.contextArgs,l=i.feedback;return l.cancomment&&Boolean(k.showaddcomment)&&Boolean(l.actorforpost)&&j[k.ftentidentifier]};h.prototype.$StaticUFI28=function(){return this.$StaticUFI27()&&this.$StaticUFI29()&&this.props.hasPagedToplevel};h.prototype.$StaticUFI30=function(){var i=this.props.feedback;return i.arecommentsdisabled===true&&i.cancomment===false};h.prototype.$StaticUFI31=function(){var i=this.props.feedback;return i.isviewermuted===true&&i.cancomment===false};h.prototype.$StaticUFI32=function(){if(!this.$StaticUFI26())return false;var i=this.props.contextArgs.isPermalink,j=i?this.$StaticUFI8():null;return Boolean(j)&&Number(j)!==0};h.prototype.$StaticUFI33=function(){if(!this.$StaticUFI26())return null;var i=this.props,j=i.contextArgs,k=i.feedback,l=this.$StaticUFI32()?this.$StaticUFI8():null;return a("React").createElement(a("UFIShareRow.react"),{contextArgs:j,feedback:k,shownCommentCount:l})};h.prototype.$StaticUFI34=function(){var i=this.props,j=i.feedback,k=i.contextArgs,l=i.commentCounts;if(this.$StaticUFI17())return a("React").createElement(a("UFILikeSentence.react"),{contextArgs:k,feedback:j,commentCounts:l,showOrderingModeSelector:this.$StaticUFI15(),hasCommentOrderInverted:this.$StaticUFI29(),key:"ufi_like_sentence"});return null};h.prototype.render=function(){__p&&__p();var i=this.props,j=i.feedback,k=i.contextArgs,l=i.source,m=this.$StaticUFI30(),n=this.$StaticUFI31(),o=this.$StaticUFI25(),p=this.$StaticUFI34(),q=!!p,r=m||n?a("React").createElement(a("UFICommentDisabledNotice.react"),{feedback:i.feedback}):null,s=this.$StaticUFI33();if(i.loadingComments)return a("React").createElement(a("UFIContainer.react"),{shouldHide:this.state.inCommercialBreak||this.state.isPlayingLiveVODHighlights},p,s,g);if(this.$StaticUFI18())return this.renderFriendConversationsTreatment();var t=this.$StaticUFI9(),u=i.ranges[k.ftentidentifier],v=Number(i.loggingOffset)-u.getOffset(),w=j.targetiscomment,x=null;if(t)x=this.renderCommentArray(i.availableComments,v,w,null);var y=null,z=null,A=j.cancomment,B=q||o||t||A,C=null,D=this.state.acceptedAnswerState.type==="Accepted"?this.state.acceptedAnswerState.id:null,E=a("UFILivePinnedCommentStore").getPinnedCommentID(k.ftentidentifier)||D;if(E){var F=a("UFIComments").getComment(E);if(F&&!i.authorProfiles[F.author])a("BanzaiODS").bumpEntityKey("unsampled_feedback","missing_pinned_comment_author");else if(F)if(D&&D===this.state.editcommentid&&F.__typename==="saved")C=this.renderEditCommentBox(F);else C=this.renderComment(F,0,false,false,D===E,false,true,!!this.props.loadingTranslationsMap[F.id])}var G=k.isBroadcasterUFI||l===e.LIVE_VIDEO_STORIES,H=B?a("React").createElement(a("UFICommentHeader.react"),null):null;if(this.$StaticUFI27()||k.loggedOutLinkConfig&&k.loggedOutLinkConfig.showAddComment){var I=this.$StaticUFI35();if(I){var J=a("UFIOrderingModeStore").isLiveStreaming(k.instanceid);if(!k.islivestreaming||!J)y=a("React").createElement(a("UFILiveTypingIndicatorContainer.react"),{contextArgs:k,feedbackTargetID:j.targetfbid});z=a("React").createElement(a("UFIAddComment.react"),{viewerActorID:j.actorforpost,targetID:j.ownerid,targetName:j.actorname,initialData:null,ref:"toplevelcomposer",isTopLevelComposer:true,withoutSeparator:false,editingComment:{},isEditing:false,mentionsDataSource:j.mentionsdatasource,showSendOnEnterTip:j.showsendonentertip,peopleOutsideCommunityInCommentNotice:j.peopleoutsidecommunityincommentnotice,allowVideoAttachments:j.allowvideoattachments&&!J,allowPhotoAttachments:j.allowphotoattachments&&!J,allowFileAttachments:j.allowfileattachments&&!J,allowStickerAttachments:j.allowstickerattachments&&!J,allowGifAttachments:j.allowgifattachments&&!J,allowTipJar:false,allowTogglePrivateComments:j.canviewercommentinprivate,privateCommentTarget:j.actorname,contextArgs:k,subtitle:j.subtitle,isQAndA:j.isqanda,markViewerHasInteracted:this.state.viewerHasClickedCommentComposer?a("emptyFunction"):function(){return this.setState({viewerHasClickedCommentComposer:true})}.bind(this),groupID:j.grouporeventid,allowCommentMarkdown:j.iscommentmarkdowneligible,keepFocus:J,constituentBanner:j.constituentbanneruri,isTargetPage:j.isownerpage,isFirstComponent:!t||a("SutroPhase2GatingConfig").enabled_bling_above_ufi&&!this.$StaticUFI17()&&this.$StaticUFI29(),orderingMode:i.orderingMode})}}var K=k.ftentidentifier,L=this.renderPagers(K,false,i.ranges[K].getOffset(),i.ranges[K].getLength()),M=L.topPager,N=L.bottomPager,O=this.$StaticUFI29()?y:null,P=this.$StaticUFI29()?null:y,Q=this.$StaticUFI36(K,M,N),R=Q.topFilterWarning,S=Q.bottomFilterWarning,T=this.$StaticUFI16()?a("React").createElement("div",{className:"_11c1"+(!this.$StaticUFI29()?" _4204":"")+(a("SutroPhase2GatingConfig").enabled_bling_above_ufi?" _4mtp":"")},a("React").createElement(a("BootloadedComponent.react"),{alignh:"left",bootloadPlaceholder:a("React").createElement("div",null),bootloadLoader:a("JSResource")("UFIOrderingModeSelectorContainer.react").__setRef("StaticUFI.react"),contextArgs:k,feedback:j})):null,U=a("UFIComponents").applyToUFIComponents([T,O,M,R].concat(x,[S,N,P]),{isFirstCommentComponent:true},{isLastCommentComponent:true}),V=U.slice(0,4);T=V[0];O=V[1];M=V[2];R=V[3];var W=U.slice(-3);S=W[0];N=W[1];P=W[2];x=U.slice(4,-3);var X=this.$StaticUFI29()?z:null,Y=this.$StaticUFI29()?null:z,na=this.$StaticUFI28()?a("React").createElement(a("UFIAddCommentLink.react"),{onClick:this.onComment,isQAndA:j.isqanda,isGroupQA:k.isaskquestion}):null,oa=true,pa=null;if(k.showCommentNuxForGroupMallAds)pa=a("React").createElement(a("BootloadOnRender.react"),{loader:a("JSResource")("UFICommentNuxForGroupMallAds.react").__setRef("StaticUFI.react"),placeholder:a("React").createElement("div",null),component:a("React").createElement(a("LazyComponent.react"),{commentNuxContent:k.groupMallAdsCommentNuxContent})});U=a("UFIComponents").applyToUFIComponents([p,s,X,T,M,R].concat(x,[S,N,Y,na]),{isFirstComponent:oa},{isLastComponent:true});var Z=U.slice(0,6);p=Z[0];s=Z[1];X=Z[2];T=Z[3];M=Z[4];R=Z[5];var $=U.slice(-4);S=$[0];N=$[1];Y=$[2];na=$[3];x=U.slice(6,-4);var qa=!!a("UFIInteractionStore").getValueFor(k.instanceid),ra=null;if(this.state.acceptedAnswerState.type==="Accepted"){var sa=a("UFIComments").getComment(this.state.acceptedAnswerState.id);if(sa&&sa.__typename==="saved")ra=this.renderReplyContainer(sa)}return a("React").createElement(a("UFIContainer.react"),{shouldHide:this.state.inCommercialBreak||this.state.isPlayingLiveVODHighlights},k.shownub&&B?ma:null,p,s,H,pa,X,a("React").createElement(a("UFICommentListVisibilityTracker.react"),{contextArgs:k},a("React").createElement(a("UFICommentScrollableArea.react"),{scrollcomments:!!k.scrollcomments,scrollwidth:k.scrollwidth||0},a("React").createElement(a("UFIComponentLogger.react"),{contextArgs:k,feedback:j,hasComments:t,isPermalink:k.isPermalink,viewerHasInteractedWithComments:qa||this.state.viewerHasClickedCommentComposer||this.state.viewerHasClickedSeeMore},T,O,M,R,G?null:C,ra,x,G?C:null,S,N,P))),Y,na,r)};h.prototype.$StaticUFI35=function(){return this.state.editcommentid===null};h.prototype.renderFriendConversationsTreatment=function(){__p&&__p();var i=this.props,j=i.availableComments,k=i.availablePrivateComments,l=i.commentCounts,m=i.contextArgs,n=i.deletedCounts,o=i.feedback,p=i.loadingCommentsForSection,q=i.loggingOffset,r=i.orderingMode,s=i.privateCommentsCount,t=i.privateCommentsRange,u=i.ranges;if(p.has(a("CommentSection").FRIENDS)&&p.has(a("CommentSection").DEFAULT))return[g];!!k||b(0);Number.isInteger(s)||b(0);!!t||b(0);var v=u[m.ftentidentifier],w=Number(q)-v.getOffset(),x=this.$StaticUFI27()?a("React").createElement(a("UFIAddComment.react"),{key:"friend_conversations_add_comment",viewerActorID:o.actorforpost,targetID:o.ownerid,targetName:o.actorname,ref:"toplevelcomposer",isTopLevelComposer:true,editingComment:{},mentionsDataSource:o.mentionsdatasource,showSendOnEnterTip:o.showsendonentertip,peopleOutsideCommunityInCommentNotice:o.peopleoutsidecommunityincommentnotice,allowVideoAttachments:o.allowvideoattachments,allowPhotoAttachments:o.allowphotoattachments,allowFileAttachments:o.allowfileattachments,allowStickerAttachments:o.allowstickerattachments,allowGifAttachments:o.allowgifattachments,allowTipJar:false,contextArgs:m,subtitle:o.subtitle,isQAndA:o.isqanda,markViewerHasInteracted:this.state.viewerHasClickedCommentComposer?a("emptyFunction"):function(){return this.setState({viewerHasClickedCommentComposer:true})}.bind(this),groupID:o.grouporeventid,allowCommentMarkdown:o.iscommentmarkdowneligible,constituentBanner:o.constituentbanneruri,isTargetPage:o.isownerpage,isFirstComponent:true}):null;return[x,a("React").createElement(a("BootloadedComponent.react"),{key:"friend_conversations_section_friends",bootloadPlaceholder:g,bootloadLoader:a("JSResource")("UFIFriendConversationsSection.react").__setRef("StaticUFI.react"),comments:k,commentCount:s,contextArgs:m,deletedCount:n[m.ftentidentifier],feedback:o,isFirstSection:true,isLoading:p.has(a("CommentSection").FRIENDS),onPagerClick:function(y,z){this.context.dispatch(a("UFIStoryAction").pageInComments(m,m.ftentidentifier,y,z,a("CommentSection").FRIENDS))}.bind(this),orderingMode:a("WebCommentViewOption").CHRONOLOGICAL,range:t,section:a("CommentSection").FRIENDS},this.renderCommentArray(k,0,false,null)),a("React").createElement(a("BootloadedComponent.react"),{key:"friend_conversations_section_default",bootloadPlaceholder:a("React").createElement("div",null),bootloadLoader:a("JSResource")("UFIFriendConversationsSection.react").__setRef("StaticUFI.react"),comments:j,commentCount:l[m.ftentidentifier],contextArgs:m,deletedCount:n[m.ftentidentifier],feedback:o,isLoading:p.has(a("CommentSection").DEFAULT),onPagerClick:function(y,z){this.context.dispatch(a("UFIStoryAction").pageInComments(m,m.ftentidentifier,y,z,a("CommentSection").DEFAULT))}.bind(this),orderingMode:r,range:u[m.ftentidentifier],section:a("CommentSection").DEFAULT},this.renderCommentArray(j,w,false,null))]};h.prototype.renderCommentArray=function(i,j,k,l){__p&&__p();var m=this.props,n=m.contextArgs,o=this.props.feedback;if(!i.length)return[];i=a("distinctArrayBy")(i,function(q){return q.id});i=i.filter(function(q){return this.state.acceptedAnswerState.type==="NoneAccepted"&&q.id||this.state.acceptedAnswerState.type==="Accepted"&&q.id!==this.state.acceptedAnswerState.id}.bind(this));var p=a("UFICommentFilters").collectSpamBuckets(i,m.authorProfiles);return p.reduce(function(q,r,s){__p&&__p();if(!r)return q;if(a("UFICommentFilters").isSpam(r))q.push(a("React").createElement(a("UFISpamPlaceholderContainer.react"),{key:"spam"+r.id,contextArgs:n,viewas:n.viewas,comment:r,parentCommentID:l}));else{if(r.id==this.state.editcommentid)q.push(this.renderEditCommentBox(r));else{var t=Math.max(j-s,0),u=s===0,v=s===p.length-1,w=!k&&!o.arecommentsdisabled,x=k&&!u;q.push(this.renderComment(r,t,u,v,w,x,false,!!this.props.loadingTranslationsMap[r.id]));if(r.id==this.props.translateAllCommentID&&!a("UFIOrderingModeStore").isLiveStreaming(n.instanceid))q.push(a("React").createElement(a("UFITranslateAllRow.react"),{key:"translateAll"+r.id,contextArgs:n}))}if(!k&&!a("UFICommentFilters").isDeleted(r)&&!a("UFIOrderingModeStore").isLiveStreaming(n.instanceid)){var y=this.renderReplyContainer(r);if(y)q.push(y)}}return q}.bind(this),[])};h.prototype.renderReplyContainer=function(i){__p&&__p();var j=this.props,k=j.commentCounts[i.id],l=j.repliesExpandedMap[i.id],m=!l&&i.interestingReplyId,n=j.ranges[i.id];if(!n)la.error("renderReplyContainer range is undefined");var o=void 0,p=void 0;if(n&&(l||i.interestingReplyId)){o=j.repliesMap[i.id];p=n.getOffset();if(m){var q=o.filter(function(Q){return Q.id===i.interestingReplyId});if(q.length!==1){a("LogHistory").getInstance("ufi").error("comment "+i.id+" claims to have an interesting reply, but there is not exactly 1 comment with that id in the reply list.");o=null}else{o=q;p=i.interestingReplyOffset}}}var r=void 0,s=null,t=null,u=null,v=null;if(n&&o){var w=n.getOffset(),x=n.getLength();if(m){w=p;x=1}var y=this.renderPagers(i.id,true,Number(w),x);s=y.topPager;t=y.bottomPager;var z=Number(j.loggingOffset)-Number(p);r=this.renderCommentArray(o,z,true,i.id);var A=this.$StaticUFI37(i.id,s,t);u=A.topFilterWarning;v=A.bottomFilterWarning}var B=Math.max(k-Number(i.spamreplycount),0),C=void 0;if(n&&!a("UFIOrderingModeStore").isLiveStreaming(this.props.contextArgs.instanceid)&&B&&(l&&o&&o.length>j.replySocialSentenceMaxReplies||!l&&!o)){var D=n.isLoadingPrev()||n.isLoadingNext(),E=l&&!s&&D,F=null;if(i.replyauthors&&i.replyauthors.length)F=j.authorProfiles[i.replyauthors[0]];var G=o?o.length:0;C=a("React").createElement(a("UFIReplySocialSentence.react"),{contextArgs:j.contextArgs,author:F,replies:l?G:B,timestamp:i.recentreplytimestamp,onClick:function(){return this.context.dispatch(a("UFIStoryAction").toggleReplies(j.contextArgs,i.id))}.bind(this),isLoading:E,isExpanded:l,showVerified:j.feedback.showfeaturedreplies,orderingMode:j.orderingMode})}var H=void 0;if(l)if(i.cancomment&&j.canAddCommentMap[i.id]&&!(i.needsApproval||i.canAppeal||i.canSecure)){var I=false;if(r)for(var J=r.length-1;J>=0;J--)if(r[J]){I=r[J].props.isAuthorReply;break}H=this.renderReplyComposer(i,!I)}var K=void 0;if(C||s||u||r||v||t||H){var L=a("UFIComponents").applyToUFIComponents([C,s,u].concat(r,[v,t,H]),{isFirstComponent:true},{isLastComponent:true}),M=L.slice(0,3);C=M[0];s=M[1];u=M[2];var N=L.slice(-3);v=N[0];t=N[1];H=N[2];r=L.slice(3,-3);var O=i.status===ja.LIVE_DELETED,P=this.state.acceptedAnswerState.type==="Accepted"&&i.id===this.state.acceptedAnswerState.id;K=a("React").createElement(a("UFIContainer.react"),{key:"replies"+i.id,isParentLiveDeleted:O,isPrivateComment:i.privacy_value===a("CommentPrivacyValue").OWNER_OR_COMMENTER,isReplyList:true,isAcceptedAnswerReply:P},C,s,u,r,v,t,H)}return K};h.prototype.renderReplyComposer=function(i,j){var k=this.props,l=k.contextArgs,m=k.feedback,n=this.state.editcommentid!==null,o=n&&!i.id;if(o)return null;var p=a("UFIOrderingModeStore").isLiveStreaming(l.instanceid),q=m.actorforpost===i.author,r=k.authorProfiles[i.author],s=i.privacy_value===a("CommentPrivacyValue").OWNER_OR_COMMENTER?q?m.actorname:r.name:null;return a("React").createElement(a("UFIAddComment.react"),{viewerActorID:m.actorforpost,replyCommentID:i.id,replyCommentPrivacy:i.privacy_value,groupID:m.grouporeventid,targetID:m.ownerid,initialData:null,ref:"replycomposer-"+i.id,withoutSeparator:j,editingComment:{},isEditing:false,mentionsDataSource:m.mentionsdatasource,showSendOnEnterTip:false,peopleOutsideCommunityInCommentNotice:m.peopleoutsidecommunityincommentnotice,allowVideoAttachments:m.allowvideoattachments&&!p,allowPhotoAttachments:m.allowphotoattachments&&!p,allowFileAttachments:m.allowfileattachments&&!p,allowStickerAttachments:m.allowstickerattachments&&!p,allowGifAttachments:m.allowgifattachments&&!p,allowCommentMarkdown:m.iscommentmarkdowneligible,allowTogglePrivateComments:false,privateCommentTarget:s,contextArgs:l,subtitle:m.subtitle,isQAndA:m.isqanda,constituentBanner:m.constituentbanneruri,orderingMode:k.orderingMode})};h.prototype.renderEditCommentBox=function(i){__p&&__p();var j=this.props,k=j.contextArgs,l=j.feedback,m=babelHelpers["extends"]({},k);delete m.addcommentautoflip;delete m.collapseaddcomment;delete m.hideActorPhoto;delete m.issnowlift;delete m.loggedOutLinkConfig;delete m.monitorHeight;delete m.sht;delete m.viewoptionstypeobjects;delete m.viewoptionstypeobjectsorder;return a("React").createElement(a("UFIAddComment.react"),{key:"editing_comment"+i.id,viewerActorID:l.actorforpost,targetID:l.ownerid,groupID:l.grouporeventid,mentionsDataSource:l.mentionsdatasource,contextArgs:m,isEditing:true,editingComment:i,allowVideoAttachments:l.allowvideoattachments,allowPhotoAttachments:l.allowphotoattachments,allowFileAttachments:l.allowfileattachments,allowStickerAttachments:l.allowstickerattachments,allowGifAttachments:l.allowgifattachments,allowTogglePrivateComments:false,isQAndA:l.isqanda,allowCommentMarkdown:l.iscommentmarkdowneligible,constituentBanner:l.constituentbanneruri,orderingMode:j.orderingMode})};h.prototype.renderComment=function(i,j,k,l,m,n,o,p){var q=this.props,r=q.feedback,s=r.actorforpost===i.author,t=i.__typename==="local"||this.state.localCommentIDs[i.id],u=Boolean(r.showremovemenu||r.viewerid===i.author),v=Boolean(r.canremoveall&&r.isownerpage&&!s),w=q.source!=e.INTERN,x=!!i.parentcommentid,y=i.parentcommentid,z=true;if(x&&y&&y in this.props.canReplyMap&&this.props.canReplyMap[y]!==null)z=this.props.canReplyMap[y];var A=!!i.isfeatured,B=a("TrackingNodes").getTrackingInfo(a("TrackingNodes").types.COMMENT,j),C=new(a("URI"))(q.commentPermalinks[i.id]).addQueryData({comment_tracking:B}).toString();return a("React").createElement(a("UFIComment.react"),{key:a("UFIComments").getRenderKey(i.id),isFirst:k,isFirstCommentComponent:k,isLast:l,showReplyLink:m,hasPartialBorder:n,comment:i,authorProfiles:q.authorProfiles,viewerIsAuthor:s,feedback:r,"data-ft":B,contextArgs:q.contextArgs,hideAsSpamForPageAdmin:v,isLocallyComposed:t,isFeatured:A,parentCanComment:z,permalink:C,showPermalink:w,showRemoveReportMenu:u,focusOnMount:i.id===q.commentIDToFocusOnMount,orderingMode:q.orderingMode,featuredCommentIDs:q.featuredCommentIDs,markViewerHasInteracted:this.state.viewerHasClickedSeeMore?a("emptyFunction"):function(){return this.setState({viewerHasClickedSeeMore:true})}.bind(this),isLivePinnedComment:o,showTranslation:p||!!i.translationdata})};h.prototype.$StaticUFI36=function(i,j,k){return this.$StaticUFI38(i,j,k,false)};h.prototype.$StaticUFI37=function(i,j,k){return this.$StaticUFI38(i,j,k,true)};h.prototype.$StaticUFI38=function(i,j,k,l){var m=null,n=null;if(!j)m=this.$StaticUFI39(i,a("UFIPaging").TOP,l);if(!k)n=this.$StaticUFI39(i,a("UFIPaging").BOTTOM,l);return{topFilterWarning:m,bottomFilterWarning:n}};h.prototype.$StaticUFI39=function(i,j,k){__p&&__p();var l=this.props.allSeenActiveLoadDirectionData;if(!l)return null;var m=l[i];if(!m||!(j in m))return null;var n=this.props;if(!d||!d.shouldRender(n,i,j,k))return null;return a("React").createElement(d,{asReplyWarning:k,targetID:i,pagingDirection:j,ufiProps:n})};h.prototype.renderPagers=function(i,j,k,l){var m=this.props;if(this.$StaticUFI20(i,l)||this.$StaticUFI11()||this.$StaticUFI14()||!j&&m.hideToplevelPager)return{topPager:null,bottomPager:null};Number.isInteger(m.commentCounts[i])||b(0);Number.isInteger(m.deletedCounts[i])||b(0);Number.isInteger(l)||b(0);return a("UFIPagerGenerator").renderPagers({commentCount:m.commentCounts[i],contextArgs:m.contextArgs,currentLength:l,currentOffset:k,deletedCount:m.deletedCounts[i],feedback:m.feedback,onPageCallback:function(n,o){this.context.dispatch(a("UFIStoryAction").pageInComments(m.contextArgs,i,n,o))}.bind(this),orderingMode:m.orderingMode,range:m.ranges[i],targetID:i})};h.prototype.$StaticUFI40=function(i){if(!i)return null;return a("DOM").scry(i,'[name="add_comment_text_text"]').concat(a("DOM").scry(i,'[name="add_comment_text"]')).find(function(j){return!a("Parent").byClass(j,"UFIReplyList")})};h.prototype.$StaticUFI29=function(){return Boolean(a("UFIOrderingModeStore").isInverted(this.props.orderingMode,this.props.contextArgs.ftentidentifier))};h.prototype.hasReactions=function(i,j){return Boolean(i.displayreactions&&j.hasReactions&&(j.feedbackMode==="none"||j.feedbackMode==="toggle"))};h.contextTypes={dispatch:ka.func};h.defaultProps={commentIDToFocusOnMount:null,focusReply:null,canReplyMap:{},isActiveLoading:{},repliesExpandedMap:{},hasPagedToplevel:false,loadingSpamIDs:{},loadingTranslationsMap:{}};ea.exports=a("FluxContainer").create(h,{pure:false,withProps:true})}),null);
__d("ExploreFeedDeepDiveUFIPosition",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LAST:"last",FIRST:"first",REPLACE_LIKE:"replace_like"})}),null);
__d("UFIBlingItem.react",["cx","fbt","NumberFormat","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){__p&&__p();var m=c("NumberFormat").formatInteger(this.props.count),n=m;switch(this.props.itemKey){case"like":n=i._({"Like":"{count} Like","Likes":"{count} Likes"},[i.param("count",this.props.countreduced&&isNaN(this.props.countreduced)?this.props.countreduced:n),i["enum"](this.props.count===1?"Like":"Likes",{Like:"Like",Likes:"Likes"})]);break;case"comment":n=i._({"Comment":"{count} Comment","Comments":"{count} Comments"},[i.param("count",this.props.countreduced&&isNaN(this.props.countreduced)?this.props.countreduced:n),i["enum"](this.props.count===1?"Comment":"Comments",{Comment:"Comment",Comments:"Comments"})]);break;case"reaction":n=i._({"Reaction":"{count} reaction","Reactions":"{count} reactions"},[i.param("count",this.props.countreduced&&isNaN(this.props.countreduced)?this.props.countreduced:n),i["enum"](this.props.count===1?"Reaction":"Reactions",{Reaction:"Reaction",Reactions:"Reactions"})]);break;case"reshare":n=i._({"Share":"{count} Share","Shares":"{count} Shares"},[i.param("count",this.props.countreduced&&isNaN(this.props.countreduced)?this.props.countreduced:n),i["enum"](this.props.count===1?"Share":"Shares",{Share:"Share",Shares:"Shares"})]);break}return c("React").createElement("span",{className:"_2u_j"},n)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("UFIBlingBox.react",["cx","fbt","NumberFormat","React","UFIBlingItem.react","UFIReactionTypes"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){__p&&__p();var n=[],o="",p=this.props,q=p.likes,r=p.likesreduced,s=p.reactionCount,t=p.reactionCountMap,u=p.reactionCountReduced;if(q||s){var v=t&&t[c("UFIReactionTypes").LIKE]["default"]!==s;n.push(c("React").createElement(c("UFIBlingItem.react"),{className:n.length>0?"mls":"",count:v?s||0:q,countreduced:v?u||"":r,itemKey:v?"reaction":"like",key:"like"}));o+=this.props.likes==1?i._("1 like"):i._({"*":"{count} likes"},[i.param("count",this.props.likes,[0])]);o+=" "}if(this.props.comments){var w=this.props.commentsreduced;if(this.props.contextArgs.islivestreaming)w=c("NumberFormat").formatInteger(this.props.comments);n.push(c("React").createElement(c("UFIBlingItem.react"),{className:n.length>0?"mls":"",contextArgs:this.props.contextArgs,count:this.props.comments,countreduced:w,itemKey:"comment",key:"comment"}));o+=this.props.comments==1?i._("1 comment"):i._({"*":"{count} comments"},[i.param("count",this.props.comments,[0])]);o+=" "}if(this.props.reshares){n.push(c("React").createElement(c("UFIBlingItem.react"),{className:n.length>0?"mls":"",count:this.props.reshares,countreduced:this.props.resharesreduced,itemKey:"reshare",key:"reshare"}));o+=this.props.reshares==1?i._("1 share"):i._({"*":"{count} shares"},[i.param("count",this.props.reshares,[0])])}if(this.props.readOnly)return c("React").createElement("span",{"aria-label":o},n);else{var x=this.props.contextArgs.commentajaxify;return c("React").createElement("a",{ajaxify:x,href:this.props.permalink,"data-ft":this.props["data-ft"],"data-comment-prelude-ref":this.props["data-comment-prelude-ref"],"aria-label":o,onClick:this.props.onClick,rel:x?"dialog":"ignore"},n)}};function m(){j.apply(this,arguments)}m.propTypes={contextArgs:l.object.isRequired,"data-ft":l.string,"data-comment-prelude-ref":l.string,comments:l.number,commentsreduced:l.string,likes:l.number,likesreduced:l.string,nfb:l.number,onClick:l.func,permalink:l.string,reactionCount:l.number,reactionCountMap:l.object,reactionCountReduced:l.string,reshares:l.number,resharesreduced:l.string,readOnly:l.bool};f.exports=m}),null);
__d("UFIReactionsBlingSocialSentence.react",["csx","cx","fbt","ActorURI","BanzaiLogger","Bootloader","BootloadOnRender.react","DOMQuery","FeedbackSourceType","HideFeedbackCounts","JSResource","LazyComponent.react","NumberFormat","PagesPrivateReplyConstants","React","SutroPhase2GatingConfig","Tooltip.react","UFIPrivateReplyIndicator.react","UFIReactionsSocialSentence.react","URI","XUFICommentTooltipController","XUFIGroupSeenByProfileBrowserController","XUFIGroupSeenByProfileDialogController","XUFIShareTooltipController","renderCrosspostedTooltipText"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){__p&&__p();var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.onCommentsClick=function(event){if(this.props.onCommentClick){this.props.onCommentClick(event);event.preventDefault()}this.logCountAction("comments","click")}.bind(this),this.onSeensClick=function(event){var s=this.props.feedback,t=c("XUFIGroupSeenByProfileDialogController").getURIBuilder().setInt("id",s.entidentifier).getURI();t=c("ActorURI").create(t,s.actorforpost);this.launchDialog(t.toString(),event.currentTarget);this.logCountAction("seens","click");event.preventDefault()}.bind(this),this.onSharesClick=function(event){if(this.isCompactSearch())return;var s=this.props.feedback,t=s.sharefbid||s.targetfbid,u=c("ActorURI").create(new(c("URI"))("/ajax/shares/view").setQueryData({target_fbid:t}),s.actorforpost);this.launchDialog(u.toString(),event.currentTarget);this.logCountAction("shares","click");event.preventDefault()}.bind(this),this.onViewsClick=function(event){this.logCountAction("views","click")}.bind(this),this.onViewsHover=function(event){if(this.canSeeConsolidatedTooltip())this.logCountAction("views","hover")}.bind(this),o}m.prototype.launchSnowlift=function(n,o){"use strict";c("Bootloader").loadModules(["PhotoSnowlift"],function(p){p.bootstrap(n,o)},"UFIReactionsBlingSocialSentence.react")};m.prototype.launchDialog=function(n,o){"use strict";c("Bootloader").loadModules(["AsyncDialog"],function(p){p.bootstrap(n,o,"dialog")},"UFIReactionsBlingSocialSentence.react")};m.prototype.logCountAction=function(n,o){"use strict";c("BanzaiLogger").log("WebReactionsBlingLoggerConfig",{feedback_id:this.props.feedback.entidentifier,"interface":"www",action:o,target_type:"count",target_subtype:n})};m.prototype.renderComments=function(){"use strict";__p&&__p();var n=this.props.contextArgs.islivestreaming;if(this.props.contextArgs.source===c("FeedbackSourceType").TAHOE||!this.props.commentCount||!this.props.aboveUFI&&this.props.contextArgs.feedbackMode==="expanded"&&!n||this.props.contextArgs.disableCommentAndLikeForGroupAds||this.props.aboveUFI&&!this.props.commentCount)return null;var o=null;if(c("HideFeedbackCounts").hideCommentCount)o=j._({"*":"See comments","_1":"See comment"},[j.plural(this.props.commentCount)]);else{var p=isNaN(this.props.feedback.commentcountreduced)&&!n?this.props.feedback.commentcountreduced:c("NumberFormat").formatInteger(this.props.commentCount);o=j._({"Comment":"{count} Comment","Comments":"{count} Comments"},[j.param("count",p),j["enum"](this.props.commentCount===1?"Comment":"Comments",{Comment:"Comment",Comments:"Comments"})])}var q=c("ActorURI").create(c("XUFICommentTooltipController").getURIBuilder().setString("ft_ent_identifier",this.props.feedback.entidentifier).getURI(),this.props.feedback.actorforpost);return c("React").createElement("div",{className:"_36_q"},c("React").createElement("a",{"aria-live":"polite",className:"_ipm _-56","data-comment-prelude-ref":this.props["data-comment-prelude-ref"],"data-ft":this.props["data-ft"],"data-hover":"tooltip","data-tooltip-uri":q,href:this.props.href,onClick:this.onCommentsClick,role:"button"},this.props.children,o))};m.prototype.renderSeens=function(){"use strict";__p&&__p();if(this.props.contextArgs.entstream||!this.props.feedback.seencount)return null;var n=this.props.feedback,o=n.seencount,p=void 0;if(n.seenbyall)p=j._("Seen by everyone");else if(o===1)p=j._("Seen by 1");else p=j._("Seen by {count}",[j.param("count",o)]);var q=new(c("URI"))("/ajax/ufi/seen_list_hovercard.php").setQueryData({id:n.entidentifier}),r=c("XUFIGroupSeenByProfileBrowserController").getURIBuilder().setInt("id",n.entidentifier).getURI();r=c("ActorURI").create(r,n.actorforpost);return c("React").createElement("div",{className:"_36_q"},c("React").createElement("span",{ref:"seen_by_text"},c("React").createElement("a",{href:r,"data-hovercard":q.toString(),className:"_ipm _2x0l",onClick:this.onSeensClick},p)))};m.prototype.renderShares=function(){"use strict";if(!this.props.feedback.sharecount)return null;var n=this.props.feedback.sharefbid||this.props.feedback.targetfbid,o=void 0;if(this.isCompactSearch()&&this.props.href!=null)o=this.props.href;else o=c("ActorURI").create(new(c("URI"))("/shares/view").setSubdomain("www").setQueryData({id:n}),this.props.feedback.actorforpost);var p=c("ActorURI").create(c("XUFIShareTooltipController").getURIBuilder().setString("ft_ent_identifier",this.props.feedback.entidentifier).getURI(),this.props.feedback.actorforpost);return c("React").createElement("div",{className:"_36_q"},c("React").createElement("a",{"aria-live":"polite",className:"_ipm _2x0m","data-hover":"tooltip","data-tooltip-uri":p,href:o,onClick:this.onSharesClick,role:"button"},j._({"Share":"{count} Share","Shares":"{count} Shares"},[j.param("count",this.props.feedback.sharecountreduced),j["enum"](this.props.feedback.sharecount===1?"Share":"Shares",{Share:"Share",Shares:"Shares"})])))};m.prototype.renderSaves=function(){"use strict";if(!this.props.contextArgs.saveCount||!this.props.contextArgs.saveCollectionId)return null;return c("React").createElement("div",{className:"_36_q"},c("React").createElement(c("BootloadOnRender.react"),{loader:c("JSResource")("UFIReactionsSaveDialog.react").__setRef("UFIReactionsBlingSocialSentence.react"),placeholder:c("React").createElement("div",null),component:c("React").createElement(c("LazyComponent.react"),{saveCount:this.props.contextArgs.saveCountReduced,collectionId:this.props.contextArgs.saveCollectionId,buttonText:this.props.contextArgs.saveButtonTitle,storyId:this.props.contextArgs.saveStoryID,isSaveCountLink:this.props.contextArgs.isSaveCountLink})}))};m.prototype.renderViews=function(){"use strict";__p&&__p();var n=null;if(!this.props.contextArgs.viewCount&&this.props.contextArgs.source===c("FeedbackSourceType").TAHOE){var o=document.getElementById(this.props.contextArgs.rootid);if(o){var p=c("DOMQuery").scry(o,"^._1rh0 ._yjk")[0];n=p?p.getAttribute("data-view-count"):null}}var q=this.props.contextArgs.viewCount||n,r=null;if(this.canSeeConsolidatedTooltip())r=this.renderViewsTooltip();if(!q)return null;var s=this.props.contextArgs.viewCount?this.props.contextArgs.viewCountReduced:n;return c("React").createElement("div",{className:"_36_q"},c("React").createElement(c("Tooltip.react"),{tooltip:r,"data-hover":"tooltip","data-tooltip-alignh":"left","data-tooltip-position":"above","aria-live":"polite",className:"_ipm _2x0m",onClick:this.onViewsClick,onMouseOver:this.onViewsHover},j._({"View":"{count} view","Views":"{count} Views"},[j.param("count",s),j["enum"](q==="1"?"View":"Views",{View:"View",Views:"Views"})])))};m.prototype.canSeeConsolidatedTooltip=function(){"use strict";var n=this.props.contextArgs.postViewCount,o=this.props.contextArgs.totalPosts,p=this.props.contextArgs.otherPostsViewCount;return!!o&&o>1&&!!n&&!!p};m.prototype.isCompactSearch=function(){"use strict";return this.props.contextArgs.source===c("FeedbackSourceType").COMPACT_SEARCH};m.prototype.renderViewsTooltip=function(){"use strict";var n=this.props.contextArgs.totalPosts||0,o=this.props.contextArgs.postViewCount||0,p=this.props.contextArgs.otherPostsViewCount||0;return c("renderCrosspostedTooltipText")({posts:n,postViews:o,otherPostsViews:p})};m.prototype.renderPrivateReply=function(){"use strict";var n=this.props.feedback.messagereplycontext;if(!n||n.status!==c("PagesPrivateReplyConstants").Status.ALREADY_REPLIED)return null;return c("React").createElement("div",{className:"_36_q"},c("React").createElement("span",{className:"_ipm"},c("React").createElement(c("UFIPrivateReplyIndicator.react"),{replyStatus:n.status})))};m.prototype.render=function(){"use strict";var n={feedback:this.props.feedback,contextArgs:this.props.contextArgs,reactionsLink:null};if(this.props.overrideReactionsLink)n.reactionsLink=this.props.href;var o=this.renderComments(),p=this.renderShares(),q=this.renderSaves(),r=this.renderSeens(),s=this.renderViews(),t=this.renderPrivateReply(),u=this.props.feedback.reactioncount,v=c("SutroPhase2GatingConfig").enabled_counts_on_left;if(this.props.contextArgs.viewCount!=null&&(this.props.contextArgs.saveCount!=null||this.props.contextArgs.seenCount!=null))return c("React").createElement("div",{className:"_ipn clearfix _-5d"+(v&&u==0?" _lca":"")},c("React").createElement("div",{className:"_ipo"},o,p,c("React").createElement("div",{className:"_34i1 _36_q"},q,r,s,t)),c("React").createElement(c("UFIReactionsSocialSentence.react"),n));else return c("React").createElement("div",{className:"_ipn clearfix _-5d"+(v&&u==0?" _lca":"")},c("React").createElement("div",{className:"_ipo"},o,p,q,r,s,t),c("React").createElement(c("UFIReactionsSocialSentence.react"),n))};f.exports=m}),null);
__d("UFIBling.react",["CommentPrelude","CommentSection","FeedbackSourceType","React","SutroPhase2GatingConfig","TrackingNodes","UFIBlingBox.react","UFIReactionsBlingSocialSentence.react","UFISharedDispatcher","UFIStoryAction","UFIToplevelPagedCommentList","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k,l){i.constructor.call(this,k,l)}j.prototype.render=function(){__p&&__p();var k=this.props.contextArgs,l=this.props.feedbackTarget,m=c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.BLINGBOX),n=l.permalink,o=new(c("URI"))(n).addQueryData({comment_tracking:m}).toString(),p=0;if(l.commentTotalCount)p=l.commentTotalCount;else p=c("UFIToplevelPagedCommentList").getCommentList(k.ftentidentifier,l.defaultcommentorderingmode,c("CommentSection").DEFAULT).getDisplayedCommentCount();var q=c("SutroPhase2GatingConfig").enabled_bling_above_ufi,r=(k.feedbackMode==="none"||k.feedbackMode==="toggle")&&k.hasReactions&&l.displayreactions,s=function(event){__p&&__p();event.preventDefault();if(r&&k.feedbackMode==="expanded")this.$UFIBling1();else if(k.source===c("FeedbackSourceType").COMPACT_SEARCH){var w=k.commentredirecturi!=null?new(c("URI"))(k.commentredirecturi):new(c("URI"))(o);if(w!=null)w.go()}else{c("CommentPrelude").onBlingboxClick(event.currentTarget);if(!k.disableinlinetoggle)this.props.onCommentVisibilityChanged&&this.props.onCommentVisibilityChanged()}}.bind(this);if(r||q||this.props.contextArgs.source===c("FeedbackSourceType").TAHOE)return c("React").createElement(c("UFIReactionsBlingSocialSentence.react"),{aboveUFI:q,commentCount:p,contextArgs:k,"data-comment-prelude-ref":"action_link_bling","data-ft":m,feedback:l,href:o,onCommentClick:s});else{var t=void 0,u=void 0,v=void 0;if(k.hasReactions){t=l.reactioncount;u=l.reactioncountmap;v=l.reactioncountreduced}return c("React").createElement(c("UFIBlingBox.react"),{comments:p,commentsreduced:l.commentcountreduced,contextArgs:k,"data-comment-prelude-ref":"action_link_bling","data-ft":m,likes:l.likecount,likesreduced:l.likecountreduced,nfb:l.nfbcount,onClick:s,permalink:o,reactionCount:t,reactionCountMap:u,reactionCountReduced:v,reshares:l.sharecount,resharesreduced:l.sharecountreduced,readOnly:k.readonly})}};j.prototype.$UFIBling1=function(){c("UFISharedDispatcher").dispatch(c("UFIStoryAction").showComments(this.props.contextArgs))};f.exports=j}),null);
__d("UFICommentActionLink.react",["cx","fbt","React","SutroPhase2GatingConfig","UFICommentLink.react","UFISharedDispatcher","UFIStoryAction"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){__p&&__p();var n=this.props.contextArgs,o=n.commentredirecturi,p=n.loggedOutLinkConfig,q=this.props.contextArgs.isaskquestion?i._("Answer"):i._("Comment"),r=void 0;if(p&&p.showCommentLink)r=p.commentAjaxifyURI;var s=c("SutroPhase2GatingConfig").enabled_centered_ufi;if(r)return c("React").createElement("span",{className:"_6a _15-3 _3h-u"+(s?" _4k43":"")},c("React").createElement(c("UFICommentLink.react"),{ajaxify:r,rel:"dialog"},q));else if(o)return c("React").createElement("span",{className:"_6a _15-6 _3h-u"+(s?" _4k43":"")},c("React").createElement(c("UFICommentLink.react"),{href:o},q));return c("React").createElement("span",{className:"_6a _15-7 _3h-u"+(s?" _4k43":"")},c("React").createElement(c("UFICommentLink.react"),{onClick:function(event){event.preventDefault();c("UFISharedDispatcher").dispatch(c("UFIStoryAction").showComments(this.props.contextArgs))}.bind(this)},q))};function m(){j.apply(this,arguments)}m.propTypes={contextArgs:l.object.isRequired};f.exports=m}),null);
__d("UFILikeActionLink.react",["React","UFILikeLink.react","UFIReactionsLinkImpl.react","UFIReactionTypes","UFIStoryAction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.onClick=function(event){event.preventDefault();var q=this.props.feedback.hasviewerliked;this.context.dispatch(c("UFIStoryAction").changeReaction(this.props.contextArgs,q?c("UFIReactionTypes").NONE:c("UFIReactionTypes").LIKE,event.target))}.bind(this),m}k.prototype.render=function(){var l=this.props,m=l.contextArgs,n=l.feedback;if(!m.showLikeNuxForGroupMallAds&&m.hasReactions&&n.canviewerreact&&c("UFIReactionsLinkImpl.react"))return c("React").createElement(c("UFIReactionsLinkImpl.react"),{contextArgs:m,nuxConfig:m.reactionsNuxConfig,reaction:n.viewerreaction,suggestedReaction:n.suggestedreaction,supportedReactions:n.supportedreactions});else{var o=m.loggedOutLinkConfig,p=null;if(o&&o.showLikeLink)p=o.likeAjaxifyURI;return c("React").createElement(c("UFILikeLink.react"),{ajaxify:p,likeAction:!n.hasviewerliked,onClick:this.onClick,rel:p?"dialog":null,forcelegacyrendering:m.forcelegacyrendering,showLikeNuxForGroupMallAds:m.showLikeNuxForGroupMallAds,likeNuxContent:m.groupMallAdsCommentNuxContent})}};k.contextTypes={dispatch:j.func};k.propTypes={feedback:j.object.isRequired,contextArgs:j.object.isRequired};f.exports=k}),null);
__d("UFISaveActionLink.react",["ix","cx","fbt","Bootloader","Image.react","React","SutroPhase2GatingConfig","SutroStoryHeaderUFIGatingConfig","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){l.constructor.call(this,n);this.$UFISaveActionLink1=function(){var o=this.state.showSave;c("Bootloader").loadModules(["AsyncRequest","CollectionCurationMechanisms","CollectionsDisplaySurface","SavedStateActions","XSaveController"],function(p,q,r,s,t){new p().setData({action:o?s.SAVE:s.UNSAVE,mechanism:q.SAVED_UFI,story_id:this.props.storyID,surface:r.CAMPFIRE_NOTE}).setHandler(function(u){if(u.error===0)this.setState({showSave:!o})}.bind(this)).setURI(t.getURIBuilder().getURI()).send()}.bind(this),"UFISaveActionLink.react")}.bind(this);this.state={showSave:!n.isSaved}}m.prototype.render=function(){var n=this.state.showSave?j._("Save"):j._("Unsave"),o=null;if(!c("SutroStoryHeaderUFIGatingConfig").enabled_for_ufi){var p=this.state.showSave?h("122454"):h("138474");o=c("React").createElement(c("Image.react"),{src:p})}return c("React").createElement("span",{className:"_6a"+(c("SutroPhase2GatingConfig").enabled_centered_ufi?" _38qe":"")+(c("SutroStoryHeaderUFIGatingConfig").enabled_for_ufi?" _38qf":"")},c("React").createElement("a",{className:(!this.state.showSave?"_38qg":"")+(c("SutroStoryHeaderUFIGatingConfig").enabled_for_ufi?" _38qh":""),href:"#",onClick:this.$UFISaveActionLink1},o,n))};f.exports=m}),null);
__d("UFIShareActionLink.react",["ActorURI","Arbiter","Bootloader","React","ReactShareButtonGatedModule","UFIShareLink.react","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("ReactShareButtonGatedModule").module,k=c("ReactShareButtonGatedModule").should_use_groups_dialog,l=c("ReactShareButtonGatedModule").store,m=c("React").PropTypes;h=babelHelpers.inherits(n,c("React").Component);i=h&&h.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=i.constructor).call.apply(o,[this].concat(r)),this.state={confirmed:false,openOnInitOverride:false},p}n.prototype.render=function(){__p&&__p();var o=this.state,p=o.confirmed,q=o.openOnInitOverride,r=this.props,s=r.shareURI,t=r.shareRel,u=r.shareNowMenuURI,v=r.feedbackReferrer,w=r.feedbackSource,x=r.feedbackTarget,y=r.misinformationConfirmDialogURI;if(y&&!p)return c("React").createElement(c("UFIShareLink.react"),{href:"#",onClick:function(){this.$UFIShareActionLink1(y);this.$UFIShareActionLink2()}.bind(this)});var z={feedback_referrer:v,feedback_source:w},A=x&&x.actorforpost;if(A){s=s&&c("ActorURI").create(s,A);u=u&&new(c("URI"))(u).addQueryData("actor_id",A).toString()}if(k){var B={default_audience:"silent_disco",feedback_referrer:v,feedback_source:w};if(l)l.setShareNowURI(this.props.feedbackTarget?this.props.feedbackTarget.sharefbid:null,u);return c("React").createElement(c("UFIShareLink.react"),{href:new(c("URI"))(s).addQueryData(B),rel:t,openOnInit:q})}return u?c("React").createElement(j,{endpoint:u,endpointData:z,openOnInitOverride:q,onShow:function(){this.$UFIShareActionLink2()}.bind(this)}):c("React").createElement(c("UFIShareLink.react"),{href:new(c("URI"))(s).addQueryData(z),rel:t,openOnInit:q})};n.prototype.$UFIShareActionLink2=function(){if(this.props.feedbackTarget)c("Arbiter").inform("share_initiated",{entidentifier:this.props.feedbackTarget.entidentifier})};n.prototype.$UFIShareActionLink1=function(o){__p&&__p();var p="MISINFORMATION_RESHARE_ALERT_FUNNEL";c("Bootloader").loadModules(["AsyncDialog","AsyncRequest","FunnelLogger"],function(q,r,s){__p&&__p();s.startFunnel(p);q.send(new r(o),function(t){t.subscribe("confirm",function(){this.setState({confirmed:true,openOnInitOverride:true});s.appendAction(p,"continue");s.endFunnel(p);t.hide()}.bind(this));t.subscribe("cancel",function(){s.appendAction(p,"cancel");s.endFunnel(p);t.hide()})}.bind(this))}.bind(this),"UFIShareActionLink.react")};n.propTypes={feedbackTarget:m.object,shareURI:m.string,shareRel:m.string,shareNowMenuURI:m.string,shareLinkHref:m.string,feedbackReferrer:m.string,feedbackSource:m.number,misinformationConfirmDialogURI:m.string};f.exports=n}),null);
__d("UFIActionLinks.react",["cx","fbt","BanzaiODS","BootloadedComponent.react","ExploreFeedDeepDiveUFIPosition","FBFeedLocations","FeedbackSourceType","JSResource","React","SutroPhase2GatingConfig","SutroStoryHeaderUFIGatingConfig","UFIBling.react","UFICommentActionLink.react","UFIConfig","UFIInstanceAction","UFILikeActionLink.react","UFIPrivateReplyLink.react","UFISaveActionLink.react","UFIShareActionLink.react","UFISharedDispatcher","URI","gkx","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.componentDidMount=function(){var m=this.$UFIActionLinks1();c("BanzaiODS").bumpEntityKey("feedback",m)};l.prototype.renderActorSelector=function(){if(this.props.hideActorSelector||this.props.contextArgs.disableCommentAndLikeForGroupAds)return null;var m=this.props.contextArgs,n=m.actorSelectorConfig,o=m.hasReactions;if(!n)return null;var p=c("SutroPhase2GatingConfig").enabled_centered_ufi,q=c("SutroStoryHeaderUFIGatingConfig").enabled_for_ufi,r=n.module;return c("React").createElement("div",{className:"_40yk"+(q?" _610g":"")+(q&&p?" _610h":"")+(o?" _pbn":"")},c("React").createElement(r,n.props))};l.prototype.renderActionList=function(){__p&&__p();var m=c("SutroPhase2GatingConfig").enabled_centered_ufi,n=this.props.contextArgs.deepDiveParams,o=[this.renderLikeLink(),this.renderCommentLink(),this.renderShareLink(),this.renderPrivateReplyLink(),this.renderEmbedLink(),this.renderDeepDiveLink(),this.renderSaveLink()];if(o.filter(function(q){return q}).length<=3)o.push(this.renderMessageLink());if(n)if(n.ufiOrder===c("ExploreFeedDeepDiveUFIPosition").FIRST)o=[this.renderDeepDiveLink(),this.renderLikeLink(),this.renderCommentLink(),this.renderShareLink(),this.renderPrivateReplyLink(),this.renderEmbedLink(),this.renderSaveLink()];else if(n.ufiOrder===c("ExploreFeedDeepDiveUFIPosition").REPLACE_LIKE)o=[this.renderDeepDiveLink(),this.renderCommentLink(),this.renderShareLink(),this.renderPrivateReplyLink(),this.renderEmbedLink(),this.renderSaveLink()];var p=o.filter(function(q){return q}).map(function(q,r){return c("React").createElement("span",{className:"_1mto",key:r},q)});if(p.length)return c("React").createElement("div",{className:"_42nr"+(m?" _1mtp":"")},p);else return null};l.prototype.renderBling=function(){var m=this.shouldRenderBling();if(!m)return null;return c("React").createElement(c("UFIBling.react"),{contextArgs:this.props.contextArgs,feedbackTarget:this.props.feedbacktarget,onCommentVisibilityChanged:function(){return c("UFISharedDispatcher").dispatch(c("UFIInstanceAction").toggleComments(this.props.contextArgs))}.bind(this)})};l.prototype.renderLikeLink=function(){var m=this.props,n=m.contextArgs,o=m.feedbacktarget,p=n.loggedOutLinkConfig,q=n.disableCommentAndLikeForGroupAds;if(q)return null;if(!o.hasviewerliked&&!o.viewercanlike&&!(p&&p.showLikeLink))return null;return c("React").createElement(c("UFILikeActionLink.react"),{feedback:o,contextArgs:n})};l.prototype.renderCommentLink=function(){__p&&__p();var m=this.props.contextArgs.disableCommentAndLikeForGroupAds;if(m)return null;var n=this.props.contextArgs.loggedOutLinkConfig;if(!this.props.feedbacktarget.cancomment&&!(n&&n.showCommentLink)){var o=this.props.contextArgs.disabledCommentTooltip;if(o){var p=i._("Comment");return c("React").createElement("span",null,c("React").createElement("span",{className:"_1ysv","data-hover":"tooltip","data-tooltip-content":o},p))}return null}return c("React").createElement(c("UFICommentActionLink.react"),{contextArgs:this.props.contextArgs})};l.prototype.$UFIActionLinks1=function(){var m=this.props.contextArgs.shareLinkConfig;if(!m)return"ufi-share-link.unavailable";var n=this.props.contextArgs.loggedOutLinkConfig;if(n&&n.showShareLink)return"ufi-share-link.loggedout";return"ufi-share-link.render"};l.prototype.renderShareLink=function(){var m=this.props.contextArgs.shareLinkConfig;if(!m)return null;var n=this.props.contextArgs.loggedOutLinkConfig;if(n&&n.showShareLink)m.shareURI=n.shareAjaxifyURI;return c("React").createElement(c("UFIShareActionLink.react"),babelHelpers["extends"]({feedbackTarget:this.props.feedbacktarget,feedbackReferrer:this.props.contextArgs.feedbackReferrer,feedbackSource:this.props.contextArgs.source},m))};l.prototype.renderMessageLink=function(){var m=this.props.contextArgs.shareLinkConfig;if(!m||!m.messageURI)return null;return c("React").createElement("a",{ajaxify:new(c("URI"))(m.messageURI).addQueryData({ufi_id:this.props.contextArgs.instanceid}),className:"_2fiv",href:"#",rel:m.shareRel},i._("Send in Chat"))};l.prototype.renderPrivateReplyLink=function(){var m=this.props,n=m.contextArgs,o=m.feedbacktarget,p=o.actorforpost,q=o.messagereplycontext;if(!c("UFIPrivateReplyLink.react").willRender(q,p))return null;if(!q)return null;return c("React").createElement(c("UFIPrivateReplyLink.react"),{actorID:p,activityID:n.ftentidentifier,context:q,seeResponseLabel:false,shouldShowNux:n.shouldShowCommentPrivateReplyNux})};l.prototype.renderEmbedLink=function(){var m=this.props.contextArgs.shareLinkConfig;if(!m||!m.embedURI||this.props.contextArgs.deepDiveParams)return null;var n=i._("Embed"),o=c("SutroPhase2GatingConfig").enabled_centered_ufi;return c("React").createElement("span",{className:"_4q8d"+(o?" _1mtq":"")},c("React").createElement("a",{href:m.embedURI,rel:"dialog",className:"_2g1w"},n))};l.prototype.renderDeepDiveLink=function(){var m=this.props.contextArgs.deepDiveParams;if(!m)return null;var n=c("SutroPhase2GatingConfig").enabled_centered_ufi,o=c("SutroStoryHeaderUFIGatingConfig").is_uppercased?m.ufiLabel.toUpperCase():m.ufiLabel;return c("React").createElement("span",{className:"_630w"+(n?" _630x":"")},c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("UFIDeepDiveLink.react").__setRef("UFIActionLinks.react"),bootloadPlaceholder:c("React").createElement("div",null),deepDiveParams:m,label:o}))};l.prototype.renderSaveLink=function(){var m=null;try{m=JSON.parse(this.props.contextArgs.feedcontext).location_type}catch(n){}if((m===c("FBFeedLocations").CAMPFIRE_NOTE||m===c("FBFeedLocations").WORKPLACE_HUB_PREVIEW||c("gkx")("AT4Uy69YtMsZgOlnec07LWfEe_br2cawuZsUmBYGKodHGkuDwO37kGYV-sXnGAnYydNhVcF3MEUtvpNZ-dGMIALC"))&&this.props.contextArgs.showsavelink){var o=this.props.contextArgs,p=o.isSaved,q=o.saveStoryID;return c("React").createElement(c("UFISaveActionLink.react"),{isSaved:p,storyID:q})}return null};l.prototype.renderSearchFeedback=function(){var m=this.props.contextArgs.inlineSearchFeedbackConfig;if(!m)return null;return c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:c("React").createElement("div",null),bootloadLoader:c("JSResource")("InlineFeedback.react").__setRef("UFIActionLinks.react")},m))};l.prototype.renderCrowdsourceLabelingContainer=function(){if(!c("UFIConfig").showUFICrowdsource)return null;return c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("div",null),bootloadLoader:c("JSResource")("UFICrowdsourceLabelingContainer.react").__setRef("UFIActionLinks.react"),feedback:this.props.feedbacktarget,contextArgs:this.props.contextArgs})};l.prototype.renderLayout=function(m,n,o){n=n.map(function(p,q){return p&&c("React").createElement("div",{className:"_3m9g",key:q},p)}).filter(function(p){return p});if(!m&&n.length===0)return null;return c("React").createElement("div",{className:c("joinClasses")("_3399",o)},n,c("React").createElement("div",{className:"_524d"},m))};l.prototype.shouldRenderBling=function(){var m=this.props.contextArgs,n=m.feedcontext,o=m.source,p=m.showBling,q=null;if(n)try{q=JSON.parse(n).location_type}catch(r){}if(q===c("FBFeedLocations").GOODWILL_THROWBACK_PROMOTION||q===c("FBFeedLocations").GOODWILL_THROWBACK_SHARE)return false;var s=c("SutroPhase2GatingConfig").enabled_bling_above_ufi;return p||s&&!this.props.hideBling||o===c("FeedbackSourceType").TAHOE};l.prototype.shouldRenderActionButtons=function(){var m=null,n=this.props.contextArgs.source;if(this.props.contextArgs.feedcontext)try{m=JSON.parse(this.props.contextArgs.feedcontext).location_type}catch(o){}if(m===c("FBFeedLocations").GOODWILL_THROWBACK_PERMALINK||m===c("FBFeedLocations").GOODWILL_THROWBACK_PROMOTION||m===c("FBFeedLocations").GOODWILL_THROWBACK_SHARE||m===c("FBFeedLocations").GROUP_SUGGESTIONS_WITH_STORY||n===c("FeedbackSourceType").LIVE_WWW_BROADCASTING||n===c("FeedbackSourceType").COMPACT_SEARCH||n===c("FeedbackSourceType").LIVE_VIDEO_STORIES)return false;return true};l.prototype.hasCounts=function(){return!!(this.props.feedbacktarget.commentcountreduced||this.props.feedbacktarget.sharecountreduced||this.props.feedbacktarget.seencount||this.props.contextArgs.viewCount)||this.props.feedbacktarget.reactioncount>0&&(c("SutroPhase2GatingConfig").enabled_bling_above_ufi||this.props.contextArgs.showBling||this.props.contextArgs.source===c("FeedbackSourceType").TAHOE)};l.prototype.render=function(){__p&&__p();var m=this.renderActorSelector(),n=this.renderSearchFeedback(),o=[],p=[],q=this.props.contextArgs.disableCommentAndLikeForGroupAds,r=null,s=c("SutroPhase2GatingConfig").enabled_bling_above_ufi,t=this.renderBling();if(this.props.contextArgs.showBling&&!s){o.push(m);if(this.hasCounts())r=this.renderLayout(null,[n],"_1f6t");else p.push(n)}else{o.push(m);o.push(n)}var u=this.props.contextArgs.source===c("FeedbackSourceType").COMPACT_SEARCH,v=this.shouldRenderActionButtons(),w=c("SutroStoryHeaderUFIGatingConfig").enabled_hide_ufi_border&&v,x="_1f6t"+(u?" _24vt":"")+(this.props.contextArgs.hasReactions?" _4_dr":"")+(w&&this.props.contextArgs.source!==c("FeedbackSourceType").PHOTOS_SNOWLIFT?" _20h5":""),y=c("SutroPhase2GatingConfig").enabled_centered_ufi,z=c("SutroStoryHeaderUFIGatingConfig").enabled_for_ufi,A=c("SutroStoryHeaderUFIGatingConfig").enabled_for_ufi_animation,B=c("SutroPhase2GatingConfig").enabled_bling_above_ufi,C=v?this.renderLayout(this.renderActionList(),o,"_a7s"+(w?" _20h6":"")+(z?" _610i":"")+(z&&y?" _610j":"")+(z&&A?" _125r":"")+(B?" _2h27":"")+" clearfix _zw3"+(q?" _r9u":"")):null,D=this.renderCrowdsourceLabelingContainer();return c("React").createElement("div",{ref:"root",className:"_57w"},r,this.hasCounts()?this.renderLayout(t,p,x):null,C,D)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("UFIDispatcherContext.react",["React","UFIDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.getChildContext=function(){return{dispatch:this.props.dispatcher.dispatch.bind(this.props.dispatcher),stores:this.props.stores}};k.prototype.render=function(){return this.props.children};function k(){h.apply(this,arguments)}k.childContextTypes={dispatch:j.func,stores:j.object};f.exports=k}),null);
__d("UFIActionHeader.react",["cx","BootloadedComponent.react","FeedbackSourceType","FluxContainer","JSResource","React","UFIActionLinks.react","UFICommercialBreakStore","UFIDispatcherContext.react","UFIPlayLiveVODHighlightsStore","ifRequired"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={inCommercialBreak:false,isPlayingLiveVODHighlights:false},m}k.getStores=function(){return[c("UFICommercialBreakStore"),c("UFIPlayLiveVODHighlightsStore")]};k.calculateState=function(l,m){var n=m.contextArgs.instanceid;return{inCommercialBreak:c("UFICommercialBreakStore").getValueFor(n),isPlayingLiveVODHighlights:c("UFIPlayLiveVODHighlightsStore").getValueFor(n)}};k.prototype.$UFIActionHeader1=function(){var l=c("ifRequired")("UFIVideoPlayerRegistry",function(o){return o.getAvailableVideoPlayerController(this.props.contextArgs.instanceid)}.bind(this)),m=l&&l.getOption("VideoWithInstreamVideo","controller"),n=m&&m.getConfig();return n};k.prototype.$UFIActionHeader2=function(){if(!this.state.inCommercialBreak)return null;var l=this.$UFIActionHeader1();if(l&&l.useNewContextCard)return null;return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("CommercialBreakUFIOverlay.react").__setRef("UFIActionHeader.react"),bootloadPlaceholder:c("React").createElement("div",null),contextArgs:this.props.contextArgs})};k.prototype.$UFIActionHeader3=function(){var l=this.props.contextArgs.source,m=l===c("FeedbackSourceType").COMPACT_SEARCH,n=c("React").createElement(c("UFIDispatcherContext.react"),{dispatcher:this.props.dispatcher,stores:this.props.stores},c("React").createElement(c("UFIActionLinks.react"),{contextArgs:this.props.contextArgs,feedbacktarget:this.props.feedbacktarget,hideActorSelector:m}));if(this.state.isPlayingLiveVODHighlights)return c("React").createElement("div",{className:"_f_s"},n);if(!this.state.inCommercialBreak)return n;var o=this.$UFIActionHeader1(),p=o&&o.vodTransitionVersion!==0;if(!p)return null;return c("React").createElement("div",{className:"_4hqd"},n)};k.prototype.render=function(){return c("React").createElement("div",null,this.$UFIActionHeader2(),this.$UFIActionHeader3())};f.exports=c("FluxContainer").create(k,{withProps:true,pure:false})}),null);
__d("UFICallbackStore",["FluxStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;j.prototype.__onDispatch=function(k){var l=k.type,m=babelHelpers.objectWithoutProperties(k,["type"]);this.__emitter.emit(l,m)};j.prototype.on=function(k,l){return this.__emitter.addListener(k,l)};j.prototype.remove=function(){this.__emitter.removeAllListeners()};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("CommentLikeWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1435334373168219",queryID:"1723155404680538"})}),null);
__d("UFICommentLikeSubscription",["BaseGraphQLSubscription","CommentLikeWebGraphQLSubscription","uuid"],(function a(b,c,d,e,f,g){var h=babelHelpers["extends"]({},c("BaseGraphQLSubscription"),{_getTopic:function i(j){return"gqls/comment_like_subscribe/top_level_feedback_id_"+j},_getQueryID:function i(){return c("CommentLikeWebGraphQLSubscription").getDocID()},_getQueryParameters:function i(j){return{input:JSON.stringify({client_subscription_id:c("uuid")(),top_level_feedback_id:j})}},_getSubscriptionCallName:function i(){return"comment_like_subscribe"}});f.exports=h}),null);
__d("CommentCreateWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"2334896479869841",queryID:"152122028726407"})}),null);
__d("UFICommentSubscription",["BaseGraphQLSubscription","CommentCreateWebGraphQLSubscription","uuid"],(function a(b,c,d,e,f,g){var h=babelHelpers["extends"]({},c("BaseGraphQLSubscription"),{_getTopic:function i(j){return"gqls/comment_create_subscribe/top_level_feedback_id_"+j},_getQueryID:function i(){return c("CommentCreateWebGraphQLSubscription").getDocID()},_getQueryParameters:function i(j){return{input:JSON.stringify({client_subscription_id:c("uuid")(),top_level_feedback_id:j})}},_getSubscriptionCallName:function i(){return"comment_create_subscribe"}});f.exports=h}),null);
__d("UFIFeaturedReplyCommentListImpl",["UFIReplyCommentListImpl","WebCommentViewOption"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("UFIReplyCommentListImpl"));i=h&&h.prototype;function j(k,l,m,n){__p&&__p();i.constructor.call(this,k,l,c("WebCommentViewOption").FEATURED);var o=0,p=m.length;this.updateCommentCount(p);this.addCommentIDs(o,p,m);var q={};n.forEach(function(r){if(r.id)q[r.id]=r});m.forEach(function(r){this.addOrUpdateComment(q[r])}.bind(this))}j.prototype.fetchComments=function(k,l,m){};f.exports=j}),null);
__d("UFIFeaturedToplevelCommentListImpl",["UFIToplevelPagedCommentListImpl","WebCommentViewOption"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("UFIToplevelPagedCommentListImpl"));i=h&&h.prototype;function j(k,l,m){__p&&__p();i.constructor.call(this,k,c("WebCommentViewOption").FEATURED);var n=0,o=l.length;this.updateCommentCount(o);this.addCommentIDs(n,o,l);var p={};m.forEach(function(q){if(q.id)p[q.id]=q});l.forEach(function(q){this.addOrUpdateComment(p[q])}.bind(this))}j.prototype.fetchComments=function(k,l,m){};f.exports=j}),null);
__d("UFIFeedbackFilters",[],(function a(b,c,d,e,f,g){"use strict";var h={getRequestedIDs:function i(j){var k=[];if(j.reactorids)k=k.concat(j.reactorids);if(j.actorforpost)k=k.concat(j.actorforpost);return k}};f.exports=h}),null);
__d("UFIFetcher",["Promise","ShortProfiles"],(function a(b,c,d,e,f,g){"use strict";var h={fetchShortProfiles:function i(j){return new(c("Promise"))(function(k,l){return c("ShortProfiles").getMulti(j,k)})},fetchComments:function i(j,k,l){return new(c("Promise"))(function(m,n){return j.getComments(k.getOffset(),k.getLength(),l,m)}).then(function(m){return Object.values(m)})},fetchCommentsOrThrow:function i(j,k,l){return Object.values(j.getCommentsOrThrow(k,l))}};f.exports=h}),null);
__d("FeedbackLikeWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1304193676334207",queryID:"264366153976871"})}),null);
__d("UFILikeSubscription",["BaseGraphQLSubscription","FeedbackLikeWebGraphQLSubscription","uuid"],(function a(b,c,d,e,f,g){var h=babelHelpers["extends"]({},c("BaseGraphQLSubscription"),{_getTopic:function i(j){return"gqls/feedback_like_subscribe/feedback_id_"+j},_getQueryID:function i(){return c("FeedbackLikeWebGraphQLSubscription").getDocID()},_getQueryParameters:function i(j){return{input:JSON.stringify({client_subscription_id:c("uuid")(),feedback_id:j})}},_getSubscriptionCallName:function i(){return"feedback_like_subscribe"}});f.exports=h}),null);
__d("UFILiveTipJarSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1392307484123243",queryID:"1851557885085599"})}),null);
__d("UFILiveTipJarSubscription",["BaseGraphQLSubscription","UFILiveTipJarSubscriptionWebGraphQLSubscription","uuid"],(function a(b,c,d,e,f,g){var h=babelHelpers["extends"]({},c("BaseGraphQLSubscription"),{_getTopic:function i(j){return"gqls/tip_jar_tip_event_subscribe/video_id_"+j},_getQueryID:function i(){return c("UFILiveTipJarSubscriptionWebGraphQLSubscription").getDocID()},_getQueryParameters:function i(j){return{data:JSON.stringify({client_subscription_id:c("uuid")(),video_id:j})}},_getSubscriptionCallName:function i(){return"tip_jar_tip_event_subscribe"}});f.exports=h}),null);
__d("PageCommentCreateWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1865538963465457",queryID:"445790425836583"})}),null);
__d("UFIPageCommentSubscription",["BaseGraphQLSubscription","PageCommentCreateWebGraphQLSubscription","uuid"],(function a(b,c,d,e,f,g){var h=babelHelpers["extends"]({},c("BaseGraphQLSubscription"),{_getTopic:function i(j){return"gqls/page_comment_create_subscribe/top_level_feedback_id_"+j},_getQueryID:function i(){return c("PageCommentCreateWebGraphQLSubscription").getDocID()},_getQueryParameters:function i(j){return{input:JSON.stringify({client_subscription_id:c("uuid")(),top_level_feedback_id:j})}},_getSubscriptionCallName:function i(){return"page_comment_create_subscribe"}});f.exports=h}),null);
__d("UFIRetryActions",["JSLogger","UFICentralUpdates","UFIConstants","UFIUserActions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("JSLogger").create("UFIRetryActions");function i(l,m){var n={actiontype:c("UFIConstants").UFIActionType.DELETE_COMMENT,commentid:l.id};c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.USER_ACTION,{actions:[n]});var o=l.body.text,p=l.body.mentionstext;c("UFIUserActions").addComment(l.ftentidentifier,o,p,{source:m,replyid:l.parentcommentid,attachedphoto:l.body.mentionsphoto,attachedvideo:l.body.mentionsvideo,attachedfile:l.body.mentionsfile,privacyValue:l.privacy_value})}function j(l,m){var n=l.body.text,o=l.body.mentionstext;c("UFIUserActions").editComment(l.id,n,o,{source:m,attachedPhoto:l.body.mentionsphoto,attachedSticker:l.attachment,attachedVideo:l.body.mentionsvideo,attachedFile:l.body.mentionsfile})}var k={retrySubmit:function l(m,n){switch(m.status){case c("UFIConstants").UFIStatus.FAILED_ADD:i(m,n);break;case c("UFIConstants").UFIStatus.FAILED_EDIT:j(m,n);break;default:h.error("retrysubmitstatus",{status:m.status});break}}};f.exports=k}),null);
__d("FacecastStreamingCommentDelayTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentDelayLoggerConfig",this.$FacecastStreamingCommentDelayTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentDelayLoggerConfig",this.$FacecastStreamingCommentDelayTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$FacecastStreamingCommentDelayTypedLogger1={};return this};h.prototype.updateData=function(j){this.$FacecastStreamingCommentDelayTypedLogger1=babelHelpers["extends"]({},this.$FacecastStreamingCommentDelayTypedLogger1,j);return this};h.prototype.setAppID=function(j){this.$FacecastStreamingCommentDelayTypedLogger1.appid=j;return this};h.prototype.setAppversion=function(j){this.$FacecastStreamingCommentDelayTypedLogger1.appversion=j;return this};h.prototype.setClientUserID=function(j){this.$FacecastStreamingCommentDelayTypedLogger1.client_userid=j;return this};h.prototype.setCommentID=function(j){this.$FacecastStreamingCommentDelayTypedLogger1.comment_id=j;return this};h.prototype.setEvent=function(j){this.$FacecastStreamingCommentDelayTypedLogger1.event=j;return this};h.prototype.setProtocol=function(j){this.$FacecastStreamingCommentDelayTypedLogger1.protocol=j;return this};h.prototype.setVC=function(j){this.$FacecastStreamingCommentDelayTypedLogger1.vc=j;return this};var i={appid:true,appversion:true,client_userid:true,comment_id:true,event:true,protocol:true,vc:true};f.exports=h}),null);
__d("UFISubscriptionUpdates",["fbt","BanzaiODS","CommentPrivacyValue","FacecastStreamingCommentDelayTypedLogger","ImmutableObject","LiveWWWFeedbackTypedLogger","UFICentralUpdates","UFIComments","UFIConfig","UFIConstants","UFIReactionsUtils","UFISharedDispatcher","UFIStoryAction","UFIStreamingStateType","requireWeak"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();c("BanzaiODS").setEntitySample("feedback",1e-4);function i(k,l,m){new(c("LiveWWWFeedbackTypedLogger"))().setMechanism("graphql_subscriptions").setEvent("receive_payload").setUpdateType(k).setTimeSinceSub(l).updateData(m?m:{}).log()}var j={handleLiveLike:function k(l,m,n){__p&&__p();c("BanzaiODS").bumpEntityKey("feedback","gql_like_received");i("like",n);if(!m||!m.feedback_like_subscribe)return;var o=m.feedback_like_subscribe.feedback,p=m.feedback_like_subscribe.liker;if(!o||!p)return;var q=[{actiontype:c("UFIConstants").UFIActionType.LIKE_ACTION,actorid:p.id,clientid:m.feedback_like_subscribe.client_mutation_id,entidentifier:l,likesentences:{current:o.does_viewer_like?o.viewer_likes_sentence:o.viewer_does_not_like_sentence,alternate:o.does_viewer_like?o.viewer_does_not_like_sentence:o.viewer_likes_sentence},hasviewerliked:o.does_viewer_like,likecount:o.likers.count}],r=o.reactions_summary;if(r){var s=c("UFIReactionsUtils").getReactionCountMapFromSummary(o.reactions_summary),t=o.viewer_feedback_reaction_info?o.viewer_feedback_reaction_info.key:0,u=o.reaction_count_reduced?o.reaction_count_reduced:o.reactors.count;q.push({actiontype:c("UFIConstants").UFIActionType.REACTION,actorid:p.id,clientid:m.feedback_like_subscribe.client_mutation_id,entidentifier:l,viewerreaction:t,reactioncount:o.reactors.count,reactioncountreduced:u,reactioncountmap:s,reactionsentences:{current:t?o.viewer_likes_reaction_sentence:o.viewer_does_not_like_reaction_sentence,alternate:t?o.viewer_does_not_like_reaction_sentence:o.viewer_likes_reaction_sentence}})}c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{actions:q})},handleLiveComment:function k(l,m,n){c("BanzaiODS").bumpEntityKey("feedback","gql_comment_received");var o=m&&m.comment;if(!o)return;i("comment",n,{comment_id:o.legacy_token});var p=this.prepareCommentData(l,o,n,m.client_mutation_id);c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{comments:[p]})},handleLiveStreamingComment:function k(l,m,n,o){__p&&__p();c("BanzaiODS").bumpEntityKey("feedback","gql_streaming_comment_received");var p=m&&m.comment;if(!p)return;i("comment",n,{comment_id:p.legacy_token});if(o)new(c("FacecastStreamingCommentDelayTypedLogger"))().setCommentID(p.legacy_fbid).setEvent("push").log();var q=this.prepareCommentData(l,p,n,m.client_mutation_id);c("requireWeak")("UFILiveStreamingComments",function(r){r.enqueueSubscribedComment(l,{comments:[q],streamingstate:c("UFIStreamingStateType").LIVE,priority:p.live_streaming_comment_priority},m.feedback.top_level_comments.total_count)})},prepareCommentData:function k(l,m,n,o){__p&&__p();var p={__typename:"saved",author:m.author.id,body:m.body,cancomment:m.feedback.can_viewer_comment,canedit:m.can_viewer_edit,canremove:m.can_viewer_delete,canreport:m.can_viewer_report,canembed:m.can_viewer_embed,canshare:m.can_viewer_share,commentshareuri:m.www_share_uri_raw,clientid:o,ftentidentifier:l,id:m.legacy_token,fbid:m.legacy_fbid,legacyid:m.legacy_fbid,timestamp:{time:m.created_time,text:h._("A few seconds ago")},hasviewerliked:m.feedback.does_viewer_like,isauthorbot:m.isauthorbot,isauthornoncoworker:m.is_author_non_coworker,isfeatured:m.is_featured,istranslatable:m.translation_available_for_viewer,likecount:m.feedback.likers.count,viewercanlike:m.feedback.can_viewer_like,parentcommentid:m.comment_parent&&m.comment_parent.legacy_token,privacy_value:c("CommentPrivacyValue")[m.comment_privacy_value],spamreplycount:0,hasConstituentBadge:m.has_constituent_badge};if(m.attachments.length){var q=m.attachments[0],r=q.style_list;if(r&&r.length){var s=r[0];if(s=="sticker"){var t=q.target;p.attachment={fbid:t.id,metadata:{source_uri:t.img.uri,source_uri_2x:t.img_2x.uri,width:t.img.width,height:t.img.height,frameCount:t.frame_count,frameRate:t.frame_rate,framesPerCol:t.frames_per_column,framesPerRow:t.frames_per_row,sprite_uri:t.sprite_img&&t.sprite_img.uri,sprite_uri_2x:t.sprite_img_2x&&t.sprite_img_2x.uri},type:"sticker"}}else if(s=="photo"){var u=q.target;p.attachment={fbid:u.id,metadata:{preview_uri:u.photo_img&&u.photo_img.uri,width:u.photo_img.width,height:u.photo_img.height,url:u.url},type:"photo"}}else if(s=="share"||s=="image_share"){q.type="live_share";p.attachment=q}else if(s=="animated_image_share"||s=="animated_image_autoplay"||s=="animated_image_video"||s=="animated_image_video_autoplay"){q.type="gif";p.attachment=q}else if(s=="video_inline"){q.type="video";p.attachment=q}else if(s=="file_upload"){q.type="file";p.attachment=q}else if(s=="comment_place_info"){q.type="live_comment_place_info";p.attachment=q}else if(s=="donation"){q.type="donation";p.attachment=q}else if(s=="TIP_JAR_PAYMENT"){q.type="TIP_JAR_PAYMENT";p.attachment=q}}}var v=m.feedback;if(v.reactions_summary){p.canviewerreact=v.can_viewer_react;p.reactioncount=v.reactors.count;p.reactioncountmap=c("UFIReactionsUtils").getReactionCountMapFromSummary(v.reactions_summary);p.reactioncountreduced=v.reaction_count_reduced?v.reaction_count_reduced:v.reactors.count;p.viewerreaction=v.viewer_feedback_reaction_info?v.viewer_feedback_reaction_info.key:0}return p},handleLivePinnedComment:function k(l,m,n){var o=m.pinned_comment_event_create_subscribe.pinned_comment_event.pinned_comment;if(o){var p=j.prepareCommentData(l.ftentidentifier,o,n,m.client_mutation_id);c("UFIComments").setComment(p.id,new(c("ImmutableObject"))(p));c("UFISharedDispatcher").dispatch(c("UFIStoryAction").pinComment(l,p.id))}else c("UFISharedDispatcher").dispatch(c("UFIStoryAction").unpinComment(l))},handleLiveCommentLike:function k(l,m,n){i("comment_like",n);var o=m&&m.comment_like_subscribe&&m.comment_like_subscribe.feedback;if(!o)return;var p=null;if(o.reactions_summary)p={reactioncount:o.reactors.count,reactioncountmap:c("UFIReactionsUtils").getReactionCountMapFromSummary(o.reactions_summary),reactioncountreduced:o.reaction_count_reduced?o.reaction_count_reduced:o.reactors.count,viewerreaction:o.viewer_feedback_reaction_info?o.viewer_feedback_reaction_info.key:0};c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{actions:[{actiontype:c("UFIConstants").UFIActionType.COMMENT_LIKE,clientid:m.comment_like_subscribe.client_mutation_id,commentid:o.legacy_comment_token,likecount:o.likers&&o.likers.count,reactiondata:p,viewerliked:o.does_viewer_like}]})}};f.exports=j}),null);
__d("FeedbackTypingWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1237650813017179",queryID:"1235619139887368"})}),null);
__d("UFITypingSubscription",["BaseGraphQLSubscription","FeedbackTypingWebGraphQLSubscription","uuid"],(function a(b,c,d,e,f,g){var h=babelHelpers["extends"]({},c("BaseGraphQLSubscription"),{_getTopic:function i(j){return"gqls/feedback_typing_subscribe/feedback_id_"+j},_getQueryID:function i(){return c("FeedbackTypingWebGraphQLSubscription").getDocID()},_getQueryParameters:function i(j){return{input:JSON.stringify({client_subscription_id:c("uuid")(),feedback_id:j})}},_getSubscriptionCallName:function i(){return"feedback_typing_subscribe"}});f.exports=h}),null);
__d("UFITypingSubscriptionController",["TimeSlice","UFITypingSubscription","getByPath","setTimeout"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=15*1e3;function i(l){var m=c("getByPath")(l,["feedback_typing_subscribe","feedback","feedback_typers","friend_count"]),n=c("getByPath")(l,["feedback_typing_subscribe","feedback","feedback_typers","other_count"]);return{friendCount:parseInt(m,10)||0,otherCount:parseInt(n,10)||0}}function j(l){return l.friendCount===0&&l.otherCount===0}function k(l,m){this.$UFITypingSubscriptionController1=null;this.$UFITypingSubscriptionController2=m;this.$UFITypingSubscriptionController3=c("UFITypingSubscription").subscribe(l,this.$UFITypingSubscriptionController4.bind(this))}k.prototype.unsubscribe=function(){this.$UFITypingSubscriptionController5();this.$UFITypingSubscriptionController3&&this.$UFITypingSubscriptionController3.unsubscribe()};k.prototype.$UFITypingSubscriptionController4=function(l){this.$UFITypingSubscriptionController5();var m=i(l);this.$UFITypingSubscriptionController2(m);if(!j(m))this.$UFITypingSubscriptionController1=c("setTimeout")(c("TimeSlice").guard(function(){this.$UFITypingSubscriptionController5();this.$UFITypingSubscriptionController2({friendCount:0,otherCount:0})}.bind(this),"UFITypingSubscriptionController freshnessTimer",{propagationType:c("TimeSlice").PropagationType.EXECUTION}),h)};k.prototype.$UFITypingSubscriptionController5=function(){if(this.$UFITypingSubscriptionController1){clearTimeout(this.$UFITypingSubscriptionController1);this.$UFITypingSubscriptionController1=null}};f.exports=k}),null);
__d("UFITypingSubscriptionControllerFactory",["UFIConfig","UFISharedDispatcher","UFIStoryAction","UFITypingSubscriptionController","debounce"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=500,i={forUFIController:function j(k,l){var m=c("debounce")(function(n){var o=c("UFIConfig").typingIndicator.fromEveryone,p=void 0;if(n.friendCount)p=c("UFIStoryAction").friendTyping(l);else if(n.otherCount&&o)p=c("UFIStoryAction").someoneTyping(l);else p=c("UFIStoryAction").typingStopped(l);c("UFISharedDispatcher").dispatch(p)},h);return new(c("UFITypingSubscriptionController"))(k.targetfbid,m)}};f.exports=i}),null);
__d("XVODStreamingCommentsAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/videos/vodcomments/",{eft_id:{type:"String",required:true},target_ufi_instance_id:{type:"String",required:true},start_time:{type:"Float",required:true},end_time:{type:"Float",required:true},should_backfill:{type:"Bool",defaultValue:false}})}),null);
__d("UFIVODStreamingComments",["AsyncRequest","BanzaiODS","CommentSection","Map","SubscriptionsHandler","UFICentralUpdates","UFIConstants","UFIInstanceAction","UFILivePinnedCommentStore","UFISharedDispatcher","UFIStoryAction","UFIToplevelPagedCommentList","UFIToplevelStreamedCommentList","WebCommentViewOption","XVODStreamingCommentsAsyncController","setInterval"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();c("BanzaiODS").setEntitySample("feedback",1e-4);function h(j,k){__p&&__p();this.ufiController=j;this.videoPlayerController=k;this.queue=[];this.queueEndTime=0;this.currentRequest=null;this.subscriptions=new(c("SubscriptionsHandler"))();this.commentsAutoplayState=this.ufiController.shouldAutoplayLiveVODComments()?"MayPlay":"MayNotPlay";this.pinQueue=[];this.resetToTime(k.getCurrentTimePosition());var l=this.ufiController.getFtEntIdentifier(),m=this.ufiController.getInstanceID(),n=c("UFIToplevelPagedCommentList").getPagedCommentCountForFeedbackTargetID(l,c("CommentSection").DEFAULT);if(typeof n==="number")c("UFIToplevelStreamedCommentList").getCommentList(l,m).updateCommentCount(n);this.subscriptions.addSubscriptions(k.addListener("seekEnd",function(o){if(this.commentsAutoplayState==="MayNotPlay")this.commentsAutoplayState="MayPlay";this.resetToTime(o.position)}.bind(this)),k.addListener("unmute",function(o){if(this.commentsAutoplayState==="MayNotPlay")this.commentsAutoplayState="MayPlay";this.$UFIVODCommentStream1()}.bind(this)),k.addListener("updateStatus",function(o,p){var q=null;while(this.pinQueue.length){if(this.pinQueue[0].timeoffset>o.position)break;q=this.pinQueue.shift()}if(q)this.$UFIVODCommentStream2(q)}.bind(this)));c("setInterval")(this.renderNextComment.bind(this),2e3);c("BanzaiODS").bumpEntityKey("vod_comments","www_load")}h.prototype.renderNextComment=function(){__p&&__p();if(!this.videoPlayerController.isState("playing"))return;var j=this.videoPlayerController.getCurrentTimePosition();this.onTimeUpdated(j);while(this.queue.length&&this.queue[0].timeoffset<j){var k=this.queue.shift();if(k.timeoffset<j-5)continue;c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.STREAMING,k.ufipayload);c("BanzaiODS").bumpEntityKey("feedback","facecast_vod_comment_rendered");break}this.$UFIVODCommentStream1()};h.prototype.fetchNewCommments=function(j,k,l,m){__p&&__p();var n=j+60,o=c("XVODStreamingCommentsAsyncController").getURIBuilder().setString("eft_id",this.ufiController.getFtEntIdentifier()).setString("target_ufi_instance_id",this.ufiController.getInstanceID()).setFloat("start_time",j).setFloat("end_time",n).setBool("should_backfill",k).getURI();if(this.currentRequest)this.currentRequest.abandon();this.currentRequest=new(c("AsyncRequest"))().setURI(o).setHandler(function(p){var q=p.getPayload();if(q.status==="error")return;if(q.backfillpayload)c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.STREAMING,q.backfillpayload);l(q.ufipayloads);m(q.pinnedcommentpayloads,q.backfillpinnedcommentpayload);this.queueEndTime=n}.bind(this)).setFinallyHandler(function(){if(k)c("UFISharedDispatcher").dispatch(c("UFIInstanceAction").didReceiveVODComments(this.ufiController.getContextArgs()));this.currentRequest=null}.bind(this));this.currentRequest.send();if(k)c("UFISharedDispatcher").dispatch(c("UFIInstanceAction").didRequestVODComments(this.ufiController.getContextArgs()))};h.prototype.onTimeUpdated=function(j){if(j<this.queueEndTime-15||this.currentRequest!==null)return;this.fetchNewCommments(this.queueEndTime,false,function(k){this.queue=this.queue.concat(k)}.bind(this),function(k,l){this.pinQueue=this.pinQueue.concat(k)}.bind(this))};h.prototype.resetToTime=function(j){var k=this.ufiController.getFtEntIdentifier();c("UFIToplevelStreamedCommentList").resetCommentList(k,this.ufiController.getInstanceID());c("UFICentralUpdates").didUpdateFeedback(k);this.fetchNewCommments(j,true,function(l){this.queue=l}.bind(this),function(l,m){this.pinQueue=l;this.$UFIVODCommentStream2(m)}.bind(this))};h.prototype.stop=function(){this.subscriptions.release()};h.prototype.$UFIVODCommentStream1=function(){var j=c("UFIToplevelStreamedCommentList").getExistingCommentList(this.ufiController.getFtEntIdentifier(),this.ufiController.getInstanceID());if(!j||j.getActualCommentCount()<5||this.commentsAutoplayState!=="MayPlay"||!this.videoPlayerController.isState("playing"))return;c("BanzaiODS").bumpEntityKey("vod_comments","www_autoplay");this.commentsAutoplayState="Played";c("UFISharedDispatcher").dispatch(c("UFIInstanceAction").changeOrderingMode(this.ufiController.getContextArgs(),c("WebCommentViewOption").LIVE_STREAMING));this.ufiController.scrollToTopOfCommentsInViewer()};h.prototype.$UFIVODCommentStream2=function(j){__p&&__p();var k=this.ufiController.getContextArgs(),l=c("UFILivePinnedCommentStore").getPinnedCommentID(k.ftentidentifier),m=j.ufipayload;if(!m){if(l!==null)c("UFISharedDispatcher").dispatch(c("UFIStoryAction").unpinComment(k,j.pineventid));return}var n=m.pinnedcomments[0].id;if(n===l)return;c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.STREAMING,m);c("UFISharedDispatcher").dispatch(c("UFIStoryAction").pinComment(k,n,j.pineventid))};var i=new(c("Map"))();f.exports={start:function j(k,l){var m=k.getInstanceID();if(i.get(m))return;i.set(m,new h(k,l))},stop:function j(k,l){var m=i.get(l);if(!m)return;m.stop();i["delete"](l)}}}),null);
__d("XCommentEmbedPluginEmbedAsyncDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/plugins/comment-embed/async/embed/dialog/",{comment_id:{type:"String",required:true},width:{type:"Int"},__asyncDialog:{type:"Int"}})}),null);
__d("onEnclosingPageletDestroy",["Arbiter","DOMQuery"],(function a(b,c,d,e,f,g){function h(i,j){var k=c("Arbiter").subscribe("pagelet/destroy",function(l,m){if(c("DOMQuery").contains(m.root,i)){k.unsubscribe();j()}});return k}f.exports=h}),null);
__d("UFIController",["csx","invariant","Promise","Arbiter","AsyncRequest","BigPipe","BootloadedComponent.react","Bootloader","CommentPrelude","CommentSection","DOM","DOMContainer.react","DOMQuery","ErrorUtils","FBFeedLocations","FeedbackPayloadSourceType","FeedbackSourceType","IntersectionObserver","JSReliabilityFixesGatingConfig","JSResource","LivePinnedCommentEventCreateSubscription","LiveTimer","React","ReactDOM","Run","ShortProfiles","StaticUFI.react","SubscriptionsHandler","TranslationTrigger","UFIActionHeader.react","UFIActionLinks.react","UFIAddCommentActionType","UFIAsyncWrapper","UFICallbackStore","UFICentralUpdates","UFICommentActionType","UFICommentFilters","UFICommentLikeSubscription","UFICommentLogger","UFIComments","UFICommentSubscription","UFICommentUtils","UFICommentVisibilityStore","UFICommercialBreakAdapter","UFIConfig","UFIConstants","UFIDispatcher","UFIDispatcherContext.react","UFIDomRootAdapter","UFIFeaturedReplyCommentListImpl","UFIFeaturedToplevelCommentListImpl","UFIFeedbackFilters","UFIFeedbackMode","UFIFeedbackStore","UFIFeedbackTargets","UFIFetcher","UFIInstanceAction","UFIInstanceActionType","UFILikeSubscription","UFILivePinnedCommentStore","UFILiveTipJarSubscription","UFINewCommentNotifier","UFIOrderingModeStore","UFIPageCommentSubscription","UFIPaging","UFIPlayLiveVODHighlightsAdapter","UFIRange","UFIReactionStore","UFIReplyCommentList","UFIRetryActions","UFIRootRegistry","UFISharedDispatcher","UFIStoryAction","UFIStoryActionType","UFISubscriptionUpdates","UFIToplevelPagedCommentList","UFIToplevelStreamedCommentList","UFITypingSubscriptionControllerFactory","UFIUIEvents","UFIUserActions","UFIVideoPlayerRegistry","UFIVisibility","UFIVODStreamingComments","URI","WebCommentViewOption","XCommentEmbedPluginEmbedAsyncDialogController","createArrayFromMixed","ex","flattenArray","forEachObject","gkx","isEmpty","onEnclosingPageletDestroy","requireWeak"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("JSReliabilityFixesGatingConfig").should_get_fix,k=Object.freeze({NEWSSTAND:"newsstand"}),l=function l(s,t,u,v){var w=s.getRequestedOffset(),x=s.getRequestedLength(),y=w+x===t,z=y&&m(v)?u-w:x;return new(c("UFIRange"))(w,z)},m=function m(s){return s==c("FeedbackPayloadSourceType").USER_ACTION||s==c("FeedbackPayloadSourceType").LIVE_SEND||s==c("FeedbackPayloadSourceType").STREAMING},n=void 0,o=false,p="none",q=0;r.factory=function(s,t,u){__p&&__p();if(!p||!n||t.feedLocationType!==c("FBFeedLocations").NEWSFEED||o||p==="none"||(p==="until_dd_only_2nd"||p==="until_dd_only_belowfold_only_2nd")&&t.substream_index!==1){r.$UFIController14(s,t,u);return}n.subscribeOnce(c("BigPipe").Events.displayed,function(){o=true;r.$UFIController14(s,t,u)});if(p==="until_dd_only_belowfold"||p==="until_dd_only_belowfold_only_2nd"&&t.substream_index===1){var v=q&&q!==0?{rootMargin:q+"px 0px"}:{},w=new(c("IntersectionObserver"))(function(x,w){x.forEach(function(y){if(y.isIntersecting||y.intersectionRatio>0){w.disconnect();r.$UFIController14(s,t,u)}})},v);w.observe(s)}};r.prepare=function(s){var t=arguments.length<=1||arguments[1]===undefined?0:arguments[1];c("Arbiter").subscribeOnce(c("BigPipe").Events.init,function(u,v){n=v.arbiter});p=(!s||s==="none")&&c("gkx")("AT6WQVzUqp1i8OmMGc8SvBitzwzq3J3DDBxsUNejZ9nkUmSy6aVEbWkQ1KjCvQZP3qKkJt5ApvhBiWkDW4avlRJFG880ZvRoIMyjd_dqQ-TrLA")?"until_dd_only_belowfold_only_2nd":s;q=t};r.$UFIController14=function(s,t,u){if(t.rootid)return;t.rootid=s.id;return new r(s,Object.freeze(t),u)};r.prototype.getRootNode=function(){return this.root};r.prototype.getContextArgs=function(){return this.$UFIController2};r.prototype.getFtEntIdentifier=function(){return this.$UFIController2.ftentidentifier};r.prototype.getInstanceID=function(){return this.$UFIController2.instanceid};r.prototype.getFluentContentToken=function(){return this.$UFIController2.fluentContentToken};r.prototype.shouldAutoplayLiveVODComments=function(){return!!this.$UFIController2.autoplayLiveVODComments};r.prototype.getIsCurrentCommentEmpty=function(){return this.$UFIController13};r.prototype.getOrderingMode=function(s){if(s===c("CommentSection").FRIENDS)return c("WebCommentViewOption").CHRONOLOGICAL;return c("UFIOrderingModeStore").getOrderingMode(this.$UFIController2.instanceid)};function r(s,t,u){__p&&__p();var v,w;this.$UFIController6=false;this.$UFIController15();this.$UFIController16();this.root=s;this.$UFIController2=t;this.$UFIController7=null;c("UFISharedDispatcher").dispatch(c("UFIInstanceAction").init(t,u));c("UFIRootRegistry").registerController(t.rootid,t.instanceid,t.ftentidentifier,function(){this.$UFIController17()}.bind(this));this.$UFIController4=new(c("UFIDomRootAdapter"))(this.root,this.$UFIController2);if(c("UFIConfig").feedfocusWrapperModule&&t.location==k.NEWSSTAND){var x=c("UFIConfig").feedfocusWrapperModule,y=c("DOMQuery").scry(this.root,"^._5pat"),z=y[0];if(z)(function(){var H=c("createArrayFromMixed")(z.children),I=document.createDocumentFragment();H.forEach(function(J){I.appendChild(J)});c("ReactDOM").render(c("React").createElement(c("UFIAsyncWrapper"),null,c("React").createElement(x,{instanceID:t.instanceid},c("React").createElement(c("DOMContainer.react"),null,I))),z)})()}var A=t.feedbackMode===c("UFIFeedbackMode").NEVER||t.feedbackMode===c("UFIFeedbackMode").NONE;this.$UFIController10={payloadSource:null,feedback:null,oldRange:{},commentIDToFocusOnMount:null,showLoadingUFI:false,isActiveLoading:{},allSeenActiveLoadDirectionData:{},requestedInitialComments:false,isHidden:A,commentPermalinks:{},deletedCounts:{},canAddCommentMap:{},canReplyMap:{},defaultRepliesExpandedMap:{},repliesExpandedMap:{},hasPagedToplevel:false,focusTopLevelComposer:false,featuredCommentLists:{},featuredCommentIDs:[],translateAllCommentID:null,toplevelPagerClickCounts:{},replyPagerClickCounts:{},loadingVODComments:false,shouldTranslateAllVisibleComments:false,commentsLoadingTranslations:{},loadingCommentsForSection:new Set()};this.$UFIController10.oldRange[c("CommentSection").DEFAULT]={offset:0,length:0};this.authorProfiles={};this.comments={};this.comments[c("CommentSection").DEFAULT]=[];this.commentsToSection={};this.repliesMap={};this.$UFIController13=true;var B=u.feedbacktarget?u.feedbacktarget:u.feedbacktargets&&u.feedbacktargets[0];if(!this.canRenderHeader())c("Bootloader").loadModules(["UFIActionLinkController"],function(H){return new H(s,t,B)},"UFIController");if(B)this.$UFIController18(B,t);var C=this.getOrderingMode(c("CommentSection").DEFAULT),D=null,E=null;if(u.featuredcommentlists&&u.featuredcommentlists.comments&&u.featuredcommentlists.comments[t.ftentidentifier]){D=u.featuredcommentlists.comments[t.ftentidentifier];this.$UFIController10.featuredCommentLists[t.ftentidentifier]=new(c("UFIFeaturedToplevelCommentListImpl"))(t.ftentidentifier,D.values,u.comments)}else{var F=u.commentlists&&u.commentlists.comments,G=F[t.ftentidentifier];D=G[C]}if(u.privatecommentlists&&u.privatecommentlists.comments&&u.privatecommentlists.comments[t.ftentidentifier]){E=u.privatecommentlists.comments[t.ftentidentifier][c("WebCommentViewOption").CHRONOLOGICAL];this.$UFIController10.oldRange[c("CommentSection").FRIENDS]={offset:0,length:0}}if(u.featuredcommentids)this.$UFIController10.featuredCommentIDs=u.featuredcommentids;this.ranges={};this.replyRanges={};this.commentCounts={};this.commentCounts[t.ftentidentifier]=0;this.privateCommentsCount=0;this.ranges[c("CommentSection").DEFAULT]={};this.ranges[c("CommentSection").DEFAULT][C]=new(c("UFIRange"))(D.range.offset,D.range.length);this.$UFIController10.oldRange[c("CommentSection").DEFAULT]={offset:D.range.offset,length:this.comments[c("CommentSection").DEFAULT]&&this.comments[c("CommentSection").DEFAULT].length||0};if(E){this.comments[c("CommentSection").FRIENDS]=[];this.ranges[c("CommentSection").FRIENDS]={};this.ranges[c("CommentSection").FRIENDS][c("WebCommentViewOption").CHRONOLOGICAL]=new(c("UFIRange"))(E.range.offset,E.range.length);this.$UFIController10.oldRange[c("CommentSection").FRIENDS]={offset:E.range.offset,length:this.comments[c("CommentSection").FRIENDS]&&this.comments[c("CommentSection").FRIENDS].length||0}}if(u.commentlists.replies)D.values.concat((E||{}).values||[]).forEach(function(H){var I=u.commentlists.replies[H];if(I){this.commentCounts[H]=this.getReplyCommentList(H).getCommentCount();this.replaceReplyRange(H,new(c("UFIRange"))(I.range.offset,I.range.length))}}.bind(this));if(u.featuredcommentlists&&u.featuredcommentlists.replies)D.values.forEach(function(H){var I=u.featuredcommentlists.replies[H];if(I){this.$UFIController10.featuredCommentLists[H]=new(c("UFIFeaturedReplyCommentListImpl"))(t.ftentidentifier,H,I.values,u.comments);this.commentCounts[H]=this.getReplyCommentList(H).getCommentCount();this.replaceReplyRange(H,c("UFIRange").combine(new(c("UFIRange"))(I.range.offset,I.range.length),this.replyRanges[H]))}}.bind(this));this.$UFIController8=null;this.ufiCentralUpdatesSubscriptions=[c("UFICentralUpdates").subscribe("feedback-updated",function(H,I){var J=I.updates;if(t.ftentidentifier in J){this.$UFIController10.payloadSource=I.payloadSource;this.fetchAndUpdate(I.payloadSource,c("CommentSection").DEFAULT);if(E)this.fetchAndUpdate(I.payloadSource,c("CommentSection").FRIENDS)}}.bind(this))];this.$UFIController19(t);this.onUnloadSubscription=c("Run").onUnload(function(){return this.$UFIController20()}.bind(this));this.getToplevelCommentList(c("CommentSection").DEFAULT);if(E)this.getToplevelCommentList(c("CommentSection").FRIENDS);c("UFICentralUpdates").handleUpdate(c("FeedbackPayloadSourceType").INITIAL_SERVER,u);if(t.islivestreaming&&t.fluentContentToken)(function(){var H=Date.now();c("LivePinnedCommentEventCreateSubscription").subscribe(t.fluentContentToken,function(u){c("UFISubscriptionUpdates").handleLivePinnedComment(t,u,Date.now()-H)})})();if(t.islivestreaming||t.isLivingRoom)c("requireWeak")("UFILiveStreamingComments",function(H){var I=null;if(u.comments&&u.comments.length>0)I=u.comments[u.comments.length-1].fbid;H.start(t.ftentidentifier,B.commentcount,I,t.showLiveVideoAnnoucements,t.showLiveVideoBroadcastingJoinEvents,t.isViewerTheOwner,t.isLiveAudio,t.liveVideoAnnouncementRenderIntervalMilliSec,t);c("Run").onLeave(function(){return H.stop(t.ftentidentifier)})});if(t.mayAutoscrollToComments)this.scrollToTopOfCommentsInViewer();if(!t.lazyFetch&&!this.canRenderHeader())this.$UFIController21(B);if(this.$UFIController2.fluentContentToken)c("UFIVideoPlayerRegistry").registerUFIController(this,function(H){if(t.enableVODStreamingComments&&!this.$UFIController10.featuredCommentLists[t.ftentidentifier])c("UFIVODStreamingComments").start(this,H);c("UFICommercialBreakAdapter").start(t,H);c("UFIPlayLiveVODHighlightsAdapter").start(t,H);if(t.islivestreaming&&(this.$UFIController12||!j))this.$UFIController12.addSubscriptions(H.addListener("stateChange",function(){if(H.isState("playing"))this.render()}.bind(this)))}.bind(this),function(){if(t.enableVODStreamingComments)c("UFIVODStreamingComments").stop(this.$UFIController2.ftentidentifier,t.instanceid);c("UFICommercialBreakAdapter").stop(t.instanceid);c("UFIPlayLiveVODHighlightsAdapter").stop(t.instanceid)}.bind(this))}r.prototype.$UFIController19=function(s){__p&&__p();this.$UFIController1=new(c("SubscriptionsHandler"))();this.$UFIController1.addSubscriptions(c("onEnclosingPageletDestroy")(this.root,function(){this.$UFIController17()}.bind(this)),c("Arbiter").subscribe(c("UFIUIEvents").PageCleared,function(){this.$UFIController17()}.bind(this)),c("Arbiter").subscribe("ConversationNub/destroy",function(t,u){if(u.root&&c("DOMQuery").contains(u.root,this.root))this.$UFIController17()}.bind(this)),c("Arbiter").subscribe("WorkHub/destroy",function(t,u){if(u.root&&c("DOMQuery").contains(u.root,this.root))this.$UFIController17()}.bind(this)),c("Arbiter").subscribe("WorkGroupDashStory/destroy",function(t,u){if(u.root&&c("DOMQuery").contains(u.root,this.root))this.$UFIController17()}.bind(this)));if(s.viewas)this.$UFIController1.addSubscriptions(c("Arbiter").subscribe("pre_page_transition",function(t,u){if(s.viewas!==new(c("URI"))(u.to).getQueryData("viewas")){c("UFIToplevelPagedCommentList").resetCommentListsForFeedbackTargetID(s.ftentidentifier);c("UFIToplevelStreamedCommentList").resetAllCommentLists(s.ftentidentifier)}}))};r.prototype.$UFIController18=function(s,t){__p&&__p();this.$UFIController22();var u=Date.now(),v=[];if(s.ll||this.$UFIController2.source===c("FeedbackSourceType").TAHOE)v.push(c("UFILikeSubscription").subscribe(s.targetfbid,function(x){c("UFISubscriptionUpdates").handleLiveLike(t.ftentidentifier,x,Date.now()-u)}));if(s.pagelc)v.push(c("UFIPageCommentSubscription").subscribe(s.targetfbid,function(x){c("UFISubscriptionUpdates").handleLiveComment(t.ftentidentifier,x.page_comment_create_subscribe,Date.now()-u)}));if(s.lc)v.push(c("UFICommentSubscription").subscribe(s.targetfbid,function(x){c("UFISubscriptionUpdates").handleLiveComment(t.ftentidentifier,x.comment_create_subscribe,Date.now()-u)}));if(s.lcl)v.push(c("UFICommentLikeSubscription").subscribe(s.targetfbid,function(x){c("UFISubscriptionUpdates").handleLiveCommentLike(t.ftentidentifier,x,Date.now()-u)}));if(s.lti&&c("UFIConfig").typingIndicator.subscribe)v.push(c("UFITypingSubscriptionControllerFactory").forUFIController(s,t));var w=new(c("SubscriptionsHandler"))();w.addSubscriptions.apply(w,v.filter(function(x){return!!x}));this.$UFIController7=w};r.prototype.$UFIController23=function(){var s=c("UFIFeedbackStore").getState()[this.$UFIController2.ftentidentifier];if(s)this.$UFIController18(s,this.$UFIController2)};r.prototype.scrollToTopOfCommentsInViewer=function(){c("Arbiter").inform(c("UFIUIEvents").AutoplayLiveComments,{form:this.$UFIController4.getParentForm()})};r.prototype.$UFIController24=function(){var s=this.$UFIController4.getHeadRoot();if(s)c("ReactDOM").unmountComponentAtNode(s);if(c("UFIRootRegistry").isSnowliftNode(this.$UFIController2.rootid)){var t=this.$UFIController4.getSnowliftActionRoot();if(t)c("ReactDOM").unmountComponentAtNode(t)}c("ReactDOM").unmountComponentAtNode(this.root)};r.prototype.unitTestOnlySetFeedbackIntoState=function(s){this.$UFIController10.feedback=s};r.prototype.$UFIController15=function(){__p&&__p();if(!this.$UFIController12){this.$UFIController3=new(c("UFIDispatcher"))();this.$UFIController11={UFICallbackStore:new(c("UFICallbackStore"))(this.$UFIController3),UFIReactionStore:new(c("UFIReactionStore"))(this.$UFIController3)};this.$UFIController12=new(c("SubscriptionsHandler"))();this.$UFIController12.addSubscriptions(this.$UFIController11.UFICallbackStore.on(c("UFICommentActionType").TOGGLE_LIKE,function(s){c("UFIUserActions").changeCommentLike(s.comment.id,s.like,{source:this.$UFIController2.source,target:s.target})}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFICommentActionType").CHANGE_REACTION,function(s){c("UFIUserActions").changeCommentReaction(s.comment.id,s.reactionType,{source:this.$UFIController2.source,instanceid:this.$UFIController2.instanceid},s.target)}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFICommentActionType").REMOVE,function(s){if(s.comment.candeletewithrule){c("Bootloader").loadModules(["UFICommentRemoveWithRule"],function(t){return t.show(s,this.$UFIController2)}.bind(this),"UFIController");return}else c("Bootloader").loadModules(["UFICommentRemoveDialog"],function(t){return t.show(function(u){c("UFIUserActions").removeComment(s.comment.id,{source:this.$UFIController2.source,oneclick:false,target:s.target},u);s.onConfirm()}.bind(this),false)}.bind(this),"UFIController")}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFICommentActionType").DELETE_COMMENT_AND_REMOVE_COMMENTER,function(s){c("Bootloader").loadModules(["UFICommentDeleteAndMemberRemoveDialog"],function(t){t.showEx(s.comment.author_name,s,{source:this.$UFIController2.source,oneclick:false,target:s.target})}.bind(this),"UFIController")}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFICommentActionType").MUTE_MEMBER,function(s){if(!s.comment.ismuted)c("Bootloader").loadModules(["UFIMemberMuteDialog"],function(u){return u.show(function(v,w){c("UFIUserActions").muteMember(s.comment.id,{source:this.$UFIController2.source,oneclick:false,target:s.target},v,w)}.bind(this),s.comment.author_name)}.bind(this),"UFIController");else{var t;c("Bootloader").loadModules(["GroupsMemberMuteDurationDefaults"],function(u){t=u.UNMUTE},"UFIController");c("UFIUserActions").muteMember(s.comment.id,{source:this.$UFIController2.source,oneclick:false,target:s.target},t,null)}}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFICommentActionType").TOGGLE_TEXT_DELIGHTS,function(s){c("UFIUserActions").toggleTextDelights(s.comment,{source:this.$UFIController2.source,target:s.target},!s.comment.text_delights_are_hidden)}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFICommentActionType").TRANSLATE,function(s){if(!this.$UFIController10.commentsLoadingTranslations[s.comment.id]){this.$UFIController10.commentsLoadingTranslations[s.comment.id]=true;c("UFIUserActions").translateComments(s.comment.ftentidentifier,[s.comment.id],s.trigger,{source:this.$UFIController2.source,target:s.target});if(c("UFICommentUtils").shouldShowTranslateAll(this.comments[c("CommentSection").DEFAULT],this.repliesMap,babelHelpers["extends"]({},this.$UFIController10.defaultRepliesExpandedMap,this.$UFIController10.repliesExpandedMap),this.$UFIController10.commentsLoadingTranslations))this.$UFIController10.translateAllCommentID=s.comment.id;this.render()}}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFICommentActionType").TOGGLE_MARK_AS_SPAM,function(s){c("UFIUserActions").setHideAsSpam(s.comment.id,s.is_spam,{source:this.$UFIController2.source,target:s.target})}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFICommentActionType").TOGGLE_KEEP_SPAM,function(s){c("UFIUserActions").keepSpam(s.comment.id,{source:this.$UFIController2.source,target:s.target})}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFICommentActionType").TOGGLE_APPEAL_SPAM,function(s){c("UFIUserActions").appealSpam(s.comment.id,s.feedback.actorname,{source:this.$UFIController2.source,target:s.target})}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFICommentActionType").TOGGLE_SECURE_ACCOUNT,function(s){c("Bootloader").loadModules(["UFICommentSecureAccountDialog"],function(t){return t.show(function(){c("UFIUserActions").secureAccount(s.comment.id,{source:this.$UFIController2.source,target:s.target})}.bind(this),s.feedback.actorname)}.bind(this),"UFIController")}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFIStoryActionType").CHANGE_ACCEPTED_ANSWER,function(s){c("UFIUserActions").changeAcceptedAnswer(s.comment,s.doAccept)}),this.$UFIController11.UFICallbackStore.on(c("UFICommentActionType").TOGGLE_INLINE_BAN,function(s){return c("UFIUserActions").banUser(s.comment,s.ownerid,s.is_banned,{source:this.$UFIController2.source,target:s.target})}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFICommentActionType").TOGGLE_INLINE_STREAM_BAN,function(s){return c("UFIUserActions").streamBanUser(s.comment,s.ownerid,s.is_banned,{source:this.$UFIController2.source,target:s.target})}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFICommentActionType").EMBED,function(s){var t=c("XCommentEmbedPluginEmbedAsyncDialogController").getURIBuilder().setString("comment_id",s.comment.id).getURI();new(c("AsyncRequest"))(t).send()}),this.$UFIController11.UFICallbackStore.on(c("UFICommentActionType").MANAGE_CONSTITUENT_BADGE,function(s){c("UFIUserActions").manageConstituentBadge(s.comment)}),this.$UFIController11.UFICallbackStore.on(c("UFIAddCommentActionType").SUBMIT_NEW,function(s){var t=this.$UFIController4.getParentForm();if(t)c("UFINewCommentNotifier").onNewComment(t,this.$UFIController2,s.comment,s.target,s.replyCommentID,s.timestamp)}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFIAddCommentActionType").PIVOT_SEND_MESSAGE,function(s){var t=this.$UFIController4.getParentForm();if(t)c("UFINewCommentNotifier").onNewCommentPivot(t,this.$UFIController2,s.comment,s.target,s.recipientID,s.timestamp)}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFIAddCommentActionType").SUBMIT_EDIT,function(s){var t=s.comment,u=s.commentData,v=s.target;if(!u.visibleValue&&!u.attachedPhoto&&!u.attachedVideo&&!u.attachedFile&&!u.attachedSticker&&!u.attachedShareURL)c("Bootloader").loadModules(["UFICommentRemoveDialog"],function(w){return w.show(function(){return c("UFIUserActions").removeComment(t.id,{source:this.$UFIController2.source,oneclick:false,target:v},false)}.bind(this),false)}.bind(this),"UFIController");else c("UFIUserActions").editComment(t.id,u.visibleValue,u.encodedValue,{source:this.$UFIController2.source,target:v,attachedPhoto:u.attachedPhoto,attachedVideo:u.attachedVideo,attachedFile:u.attachedFile,attachedSticker:u.attachedSticker,attachedShareURL:u.attachedShareURL,isMarkdown:u.isMarkdown})}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFICommentActionType").REMOVE_PREVIEW,function(s){return c("UFIUserActions").removePreview(s.comment,{source:this.$UFIController2.source,target:s.target})}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFIAddCommentActionType").RETRY_SUBMIT,function(s){return c("UFIRetryActions").retrySubmit(s.comment,this.$UFIController2.source)}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFIStoryActionType").PAGE_IN_COMMENTS,function(s){this.$UFIController10.payloadSource=c("FeedbackPayloadSourceType").USER_ACTION;this.$UFIController25(s.commentID,s.direction,s.nextRange,s.section);this.fetchAndUpdateWithLogs(c("FeedbackPayloadSourceType").USER_ACTION,s.section||c("CommentSection").DEFAULT)}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFIStoryActionType").TOGGLE_REPLIES,function(s){__p&&__p();this.$UFIController10.payloadSource=c("FeedbackPayloadSourceType").USER_ACTION;var t=s.commentID,u=this.$UFIController10.repliesExpandedMap[t];if(u){delete this.$UFIController10.isActiveLoading[t];this.$UFIController10.repliesExpandedMap[t]=false;this.render()}else{this.$UFIController10.focusedReplyComposer={replyID:"replycomposer-"+t,initiatorComment:null};this.$UFIController25(t,c("UFIPaging").BOTTOM,this.$UFIController26(t));this.fetchAndUpdateWithLogs(c("FeedbackPayloadSourceType").USER_ACTION,this.commentsToSection[t]||c("CommentSection").DEFAULT)}}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFIStoryActionType").SHOW_REPLIES,function(s){this.$UFIController10.payloadSource=c("FeedbackPayloadSourceType").USER_ACTION;this.$UFIController10.focusedReplyComposer={replyID:"replycomposer-"+s.commentID,initiatorComment:s.initiatorComment};this.$UFIController25(s.commentID,c("UFIPaging").BOTTOM,this.$UFIController26(s.commentID));this.fetchAndUpdateWithLogs(c("FeedbackPayloadSourceType").USER_ACTION,this.commentsToSection[s.commentID]||c("CommentSection").DEFAULT)}.bind(this)),this.$UFIController11.UFICallbackStore.on(c("UFIStoryActionType").COMMENTS_ARRIVED,function(s){__p&&__p();this.$UFIController10.loadingCommentsForSection["delete"](s.section);this.$UFIController10.payloadSource=s.source;this.$UFIController10.showLoadingUFI=false;this.$UFIController10.isActiveLoading={};this.$UFIController10.commentIDToFocusOnMount=s.source===c("FeedbackPayloadSourceType").USER_ACTION&&!this.$UFIController2.isBroadcasterUFI&&!this.$UFIController2.isLivingRoom?this.$UFIController27(s.newOffset,s.newLength,s.section):null;this.$UFIController10.oldRange[s.section]={offset:s.newOffset,length:s.newLength};this.$UFIController28();if(this.$UFIController10.shouldTranslateAllVisibleComments&&!c("UFIOrderingModeStore").isLiveStreaming(this.$UFIController2.instanceid))this.$UFIController29();this.render();if(s.source==c("FeedbackPayloadSourceType").ENDPOINT_COMMENT_FETCH){c("Arbiter").inform(c("UFIUIEvents").CommentPager);if(c("UFIConfig").logCommentLoad)c("UFICommentLogger").logCommentFetchReceived(this.$UFIController2.ftentidentifier,Date.now())}}.bind(this)))}};r.prototype.$UFIController16=function(){__p&&__p();this.$UFIController9=[c("UFISharedDispatcher").register(function(s){__p&&__p();switch(s.type){case c("UFIInstanceActionType").REMOVE:if(s.instanceID!==this.$UFIController2.instanceid){if(s.ftentidentifier===this.$UFIController2.ftentidentifier)this.$UFIController23();return}c("UFIRootRegistry").cleanupInstance(s.instanceID);break;case c("UFIInstanceActionType").TOGGLE_COMMENTS:if(s.instanceID!==this.$UFIController2.instanceid)return;this.$UFIController10.payloadSource=c("FeedbackPayloadSourceType").COLLAPSE_ACTION;this.$UFIController10.isHidden=!this.$UFIController10.isHidden;this.render();break;case c("UFIInstanceActionType").CHANGE_ORDER_MODE:if(s.instanceID!==this.$UFIController2.instanceid)return;this.$UFIController10.payloadSource=c("FeedbackPayloadSourceType").USER_ACTION;if(this.comments[c("CommentSection").FRIENDS])this.$UFIController10.loadingCommentsForSection.add(c("CommentSection").DEFAULT);else this.$UFIController10.showLoadingUFI=true;this.render();this.fetchAndUpdate(c("FeedbackPayloadSourceType").USER_ACTION,c("CommentSection").DEFAULT);break;case c("UFIInstanceActionType").REQUESTED_VOD_COMMENTS:if(s.instanceID!==this.$UFIController2.instanceid)return;this.$UFIController10.loadingVODComments=true;this.render();break;case c("UFIInstanceActionType").RECEIVED_VOD_COMMENTS:if(s.instanceID!==this.$UFIController2.instanceid)return;this.$UFIController10.loadingVODComments=false;this.render();break;case c("UFIStoryActionType").LIVE_PIN_COMMENT:if(s.ftentidentifier!==this.$UFIController2.ftentidentifier)return;var t=c("UFIComments").getComment(s.commentID),u=t?t.author:null;if(u)c("ShortProfiles").get(u,function(v){this.authorProfiles[u]=v;if(!this.$UFIController6)this.render()}.bind(this));break;case c("UFIStoryActionType").LIVE_UNPIN_COMMENT:if(s.ftentidentifier!==this.$UFIController2.ftentidentifier)return;this.render();break;case c("UFIStoryActionType").SHOW_COMMENTS:if(s.instanceID!==this.$UFIController2.instanceid)return;this.$UFIController10.isHidden=false;this.$UFIController10.focusTopLevelComposer=true;c("CommentPrelude").expand(this.root,false,"ufi_controller");if(this.staticUFI)c("CommentPrelude").expand(this.staticUFI,false,"ufi.react");this.render();break;case c("UFIInstanceActionType").TRANSLATE_ALL:if(s.instanceID!==this.$UFIController2.instanceid)return;if(this.$UFIController2.islivestreaming)break;this.$UFIController10.shouldTranslateAllVisibleComments=true;this.$UFIController10.translateAllCommentID=null;this.$UFIController29();this.render();break;case c("UFIAddCommentActionType").CHANGE_CONTENT:if(s.instanceID!==this.$UFIController2.instanceid)return;this.$UFIController13=s.text.length===0;break;case c("UFIAddCommentActionType").SUBMIT_NEW:if(s.instanceID!==this.$UFIController2.instanceid)return;this.$UFIController13=true;break}}.bind(this))]};r.prototype.getStores=function(){return this.$UFIController11};r.prototype.$UFIController26=function(s){var t=this.commentCounts[s],u=Math.min(t,this.$UFIController2.pagesize);return new(c("UFIRange"))(t-u,u)};r.prototype.$UFIController25=function(s,t,u,v){__p&&__p();v=v||this.commentsToSection[s]||c("CommentSection").DEFAULT;var w=this.$UFIController10,x=w.isActiveLoading,y=w.allSeenActiveLoadDirectionData,z=w.repliesExpandedMap,A=w.toplevelPagerClickCounts,B=w.replyPagerClickCounts,C=this.$UFIController2.ftentidentifier,D=s!==C;x[s]=t;var E=y[s]||{};E[t]=true;y[s]=E;if(D)z[s]=true;else this.$UFIController10.hasPagedToplevel=true;if(s==C){var F=this.getOrderingMode(v);A[v]=A[v]||{};var G=A[v][F]||0;A[v][F]=G+1;this.getRange(v).updateRequestedRange(u.offset,u.length)}else{var H=B[s]||0;B[s]=H+1;this.replyRanges[s].updateRequestedRange(u.offset,u.length)}};r.prototype.$UFIController30=function(){__p&&__p();this.$UFIController10.payloadSource=c("FeedbackPayloadSourceType").USER_ACTION;this.$UFIController10.showLoadingUFI=true;this.$UFIController10.requestedInitialComments=true;this.$UFIController10.loadingCommentsForSection.add(c("CommentSection").DEFAULT);this.comments[c("CommentSection").FRIENDS]&&this.$UFIController10.loadingCommentsForSection.add(c("CommentSection").FRIENDS);this.$UFIController10.loadingCommentsForSection.forEach(function(s){var t=this.getToplevelCommentList(s).getCommentCount(),u=Math.min(t,this.$UFIController2.numLazyComments||0);c("forEachObject")(this.ranges[s],function(v){v.updateRequestedRange(t-u,u)});this.fetchAndUpdate(c("FeedbackPayloadSourceType").USER_ACTION,s)}.bind(this));c("UFIFeedbackTargets").getFeedbackTarget(this.$UFIController2.ftentidentifier,function(s){if(this.canRenderHeader())this.renderHeader(s);else this.$UFIController21(s)}.bind(this))};r.prototype.$UFIController21=function(s){if(this.shouldShowCommentOrderingModeSelector(s))c("DOM").scry(this.root,"^form ._3csb").slice(0,1).forEach(function(t){c("ReactDOM").render(c("React").createElement(c("UFIAsyncWrapper"),null,c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("div",null),bootloadLoader:c("JSResource")("UFIOrderingModeSelectorContainer.react").__setRef("UFIController"),contextArgs:this.$UFIController2,feedback:s})),t)}.bind(this))};r.prototype.$UFIController28=function(){__p&&__p();if(Object.keys(this.$UFIController10.commentsLoadingTranslations).length==0)return;this.comments[c("CommentSection").DEFAULT].concat(this.comments[c("CommentSection").FRIENDS]||[]).forEach(function(s){if(this.$UFIController10.commentsLoadingTranslations[s.id]&&!!s.translationdata)delete this.$UFIController10.commentsLoadingTranslations[s.id]}.bind(this));Object.keys(this.repliesMap).forEach(function(s){var t=this.repliesMap[s];t.forEach(function(u){if(this.$UFIController10.commentsLoadingTranslations[u.id]&&!!u.translationdata)delete this.$UFIController10.commentsLoadingTranslations[u.id]}.bind(this))}.bind(this))};r.prototype.$UFIController29=function(){__p&&__p();var s=this.comments[c("CommentSection").DEFAULT].concat(this.comments[c("CommentSection").FRIENDS]||[]).filter(function(v){return this.$UFIController31(v)}.bind(this)).map(function(v){return v.id}),t=babelHelpers["extends"]({},this.$UFIController10.defaultRepliesExpandedMap,this.$UFIController10.repliesExpandedMap),u=[];Object.keys(this.repliesMap).filter(function(v){return t[v]}).forEach(function(v){u=u.concat(this.repliesMap[v])}.bind(this));s=s.concat(u.filter(function(v){return this.$UFIController31(v)}.bind(this)).map(function(v){return v.id}));if(s.length>0){s.forEach(function(v){return this.$UFIController10.commentsLoadingTranslations[v]=true}.bind(this));c("UFIUserActions").translateComments(this.$UFIController2.ftentidentifier,s,c("TranslationTrigger").TRANSLATE_ALL,{source:this.$UFIController2.source})}};r.prototype.$UFIController31=function(s){return s.istranslatable&&!s.translationdata&&!this.$UFIController10.commentsLoadingTranslations[s.id]};r.prototype.canRenderHeader=function(){return!!this.$UFIController4.getHeadRoot()};r.prototype.renderHeader=function(s){if(!this.canRenderHeader())return;c("ReactDOM").render(c("React").createElement(c("UFIAsyncWrapper"),null,c("React").createElement(c("UFIActionHeader.react"),{contextArgs:this.$UFIController2,dispatcher:this.$UFIController3,feedbacktarget:s,stores:this.$UFIController11})),this.$UFIController4.getHeadRoot());var t=c("UFIRootRegistry").isSnowliftNode(this.$UFIController2.rootid);if(t&&this.$UFIController4.getSnowliftActionRoot())c("ReactDOM").render(c("React").createElement(c("UFIAsyncWrapper"),null,c("React").createElement(c("UFIDispatcherContext.react"),{dispatcher:this.$UFIController3,stores:this.$UFIController11},c("React").createElement(c("UFIActionLinks.react"),{contextArgs:this.$UFIController2,feedbacktarget:s,hideActorSelector:true,hideBling:true}))),this.$UFIController4.getSnowliftActionRoot())};r.prototype.shouldComponentUpdate=function(){if(this.$UFIController2.islivestreaming&&(this.$UFIController10.payloadSource===c("FeedbackPayloadSourceType").STREAMING||this.$UFIController10.payloadSource===c("FeedbackPayloadSourceType").LIVE_SEND)){var s=c("UFIVideoPlayerRegistry").getAvailableVideoPlayerController(this.$UFIController2.instanceid),t=s?s.isState("playing")&&!s.getOption("WatchAndScroll","isActive"):false,u=c("UFICommentVisibilityStore").getVisibility(c("UFICommentVisibilityStore").getState(),this.$UFIController2)===c("UFIVisibility").VISIBLE;return t||u}return true};r.prototype.render=function(){__p&&__p();if(!this.shouldComponentUpdate())return;if(this.$UFIController10.showLoadingUFI||c("UFIOrderingModeStore").isLiveStreaming(this.$UFIController2.instanceid)&&this.$UFIController10.loadingVODComments){c("ReactDOM").render(c("React").createElement(c("UFIAsyncWrapper"),null,this.$UFIController32()),this.root);return}this.$UFIController10.feedback||i(0);var s=this.$UFIController10.feedback,t=s.reactionsentences,u=s.likesentences,v=s.replysocialsentencemaxreplies,w=this.comments[c("CommentSection").DEFAULT].length||this.comments[c("CommentSection").FRIENDS]&&this.comments[c("CommentSection").FRIENDS].length||!c("isEmpty")((t||u).current),x=this.$UFIController10.payloadSource;if(w&&m(x)&&this.$UFIController2.feedbackMode!==c("UFIFeedbackMode").NEVER){this.$UFIController10.isHidden=false;c("CommentPrelude").expand(this.root,false,"ufi_controller")}if(this.$UFIController2.disableCSSHiding&&this.$UFIController10.isHidden){c("ReactDOM").unmountComponentAtNode(this.root);return}if(this.$UFIController2.lazyFetch&&!this.$UFIController10.requestedInitialComments){c("ReactDOM").render(c("React").createElement(c("UFIAsyncWrapper"),null,this.$UFIController32()),this.root);this.$UFIController30();return}var y=this.getRange(c("CommentSection").DEFAULT);if(this.$UFIController8===null)this.$UFIController8=y.getOffset()+y.getLength()-1;var z=v||-1,A={};A[this.$UFIController2.ftentidentifier]=new(c("UFIRange"))(y.offset,y.length).updateRequestedRange(y.requestedOffset,y.requestedLength);for(var B in this.replyRanges)A[B]=new(c("UFIRange"))(this.replyRanges[B].offset,this.replyRanges[B].length).updateRequestedRange(this.replyRanges[B].requestedOffset,this.replyRanges[B].requestedLength);var C=babelHelpers["extends"]({},this.$UFIController10.defaultRepliesExpandedMap,this.$UFIController10.repliesExpandedMap),D=!!this.$UFIController10.featuredCommentLists[this.$UFIController2.ftentidentifier],E=c("UFIOrderingModeStore").isLiveStreaming(this.$UFIController2.instanceid)?true:this.getToplevelCommentList(c("CommentSection").DEFAULT).getClientHasAll()&&y.offset===0&&y.length===this.getToplevelCommentList(c("CommentSection").DEFAULT).getCommentCount(),F=this.$UFIController10.focusTopLevelComposer,G=this.$UFIController33(x),H=this.getOrderingMode(c("CommentSection").DEFAULT),I=this.comments[c("CommentSection").DEFAULT],J=this.comments[c("CommentSection").FRIENDS],K=(this.ranges[c("CommentSection").FRIENDS]||{})[c("WebCommentViewOption").CHRONOLOGICAL],L=c("React").createElement(c("UFIDispatcherContext.react"),{dispatcher:this.$UFIController3,stores:this.$UFIController11},c("React").createElement(c("StaticUFI.react"),{ref:function(N){this.staticUFI=N}.bind(this),feedback:this.$UFIController10.feedback,contextArgs:this.$UFIController2,repliesMap:this.repliesMap,commentCounts:this.commentCounts,deletedCounts:this.$UFIController10.deletedCounts,availableComments:I,availablePrivateComments:J,source:this.$UFIController2.source,payloadSource:x,ranges:A,authorProfiles:this.authorProfiles,loggingOffset:this.$UFIController8,replySocialSentenceMaxReplies:z,orderingMode:H,hideOrderingModeSelector:D,commentPermalinks:this.$UFIController10.commentPermalinks,canAddCommentMap:this.$UFIController10.canAddCommentMap,canReplyMap:this.$UFIController10.canReplyMap,focusTopLevelComposer:F,focusReply:G,isActiveLoading:this.$UFIController10.isActiveLoading,allSeenActiveLoadDirectionData:this.$UFIController10.allSeenActiveLoadDirectionData,repliesExpandedMap:C,hasPagedToplevel:this.$UFIController10.hasPagedToplevel,commentIDToFocusOnMount:this.$UFIController10.commentIDToFocusOnMount,hideToplevelPager:E,featuredCommentIDs:this.$UFIController10.featuredCommentIDs,loadingTranslationsMap:this.$UFIController10.commentsLoadingTranslations,translateAllCommentID:this.$UFIController10.translateAllCommentID,privateCommentsCount:this.privateCommentsCount,privateCommentsRange:K,loadingCommentsForSection:this.$UFIController10.loadingCommentsForSection}));c("ReactDOM").render(c("React").createElement(c("UFIAsyncWrapper"),null,L),this.root);c("LiveTimer").updateTimeStamps();var M=this.$UFIController4.getParentForm();if(M)c("Arbiter").inform(c("UFIUIEvents").Changed,{form:M});if(x!=c("FeedbackPayloadSourceType").INITIAL_SERVER)c("Arbiter").inform("reflow");this.$UFIController10.focusedReplyComposer=null;this.$UFIController10.focusTopLevelComposer=false};r.prototype.$UFIController34=function(s){return this.commentsToSection[s]||c("CommentSection").DEFAULT};r.prototype.$UFIController33=function(s){if(s===c("FeedbackPayloadSourceType").INITIAL_SERVER&&this.$UFIController10.feedback&&this.$UFIController10.feedback.permalinkcommentid)return{replyID:"replycomposer-"+this.$UFIController10.feedback.permalinkcommentid};else if(this.$UFIController10.focusedReplyComposer)return this.$UFIController10.focusedReplyComposer;return null};r.prototype.$UFIController27=function(s,t,u){var v=(this.$UFIController10.oldRange||{})[c("CommentSection").DEFAULT];if(v&&(v.offset!=s||v.length!=t)){var w=s<v.offset?v.length:0;if(w<t)return this.comments[u][w].id}return this.$UFIController10.commentIDToFocusOnMount};r.prototype.$UFIController35=function(s,t,u){__p&&__p();if(s&&t.id===s.permalinkcommentid)return true;if(u>1)return true;if(u>0&&t.interestingReplyOffset===undefined)return true;var v=s&&t.author===s.viewerid;if(v&&u==1)return true;return false};r.prototype.getNewRange=function(s,t,u,v){if(c("UFIOrderingModeStore").isLiveStreaming(this.$UFIController2.instanceid))return new(c("UFIRange"))(0,t.feedcarded?4:50);else{var w=v===c("CommentSection").FRIENDS?this.privateCommentsCount:this.commentCounts[t.ftentidentifier];return l(this.getRange(v),w,u,s)}};r.prototype.getNewReplyRange=function(s,t,u){var v=t.id;if(this.replyRanges[v])return l(this.getReplyRange(v),this.commentCounts[v],u,s);else if(t.interestingReplyOffset!==undefined)return new(c("UFIRange"))(t.interestingReplyOffset,1);else{var w=this.$UFIController10.feedback&&this.$UFIController10.feedback.isranked,x=w?0:Math.min(u,2);return new(c("UFIRange"))(0,x)}};r.prototype.fetchAndUpdateWithLogs=function(s,t){s===this.$UFIController10.payloadSource||i(0);this.$UFIController36(s,true,t)};r.prototype.fetchAndUpdate=function(s,t){s===this.$UFIController10.payloadSource||i(0);this.$UFIController36(s,false,t)};r.prototype.$UFIController37=function(s,t){var u=this.getOrderingMode(t),v=(this.$UFIController10.toplevelPagerClickCounts[t]||{})[u]||0;return{numPagerClicks:s?v:null,viewAs:this.$UFIController2.viewas,feedContext:this.$UFIController2.feedcontext,feedbackSource:this.$UFIController2.source,streamingOrderReversed:this.$UFIController2.streamingCommentOrderReversed}};r.prototype.$UFIController38=function(s,t){return{numPagerClicks:t?this.$UFIController10.replyPagerClickCounts[s]||0:null,viewAs:this.$UFIController2.viewas,feedContext:this.$UFIController2.feedcontext}};r.prototype.$UFIController39=function(s,t){__p&&__p();var u=this.$UFIController10.feedback,v=this.getToplevelCommentList(t),w=this.getNewRange(s,this.$UFIController2,v.getCommentCount(),t),x=c("UFIFetcher").fetchCommentsOrThrow(v,w,this.$UFIController37(false,t));this.$UFIController40(w,x,t);var y=c("UFICommentFilters").getAuthors(x);x.forEach(function(B){var C=B.id,D=this.getReplyCommentList(C),w=this.getNewReplyRange(s,B,D.getCommentCount()),E=c("UFIFetcher").fetchCommentsOrThrow(D,w,this.$UFIController38(C,false));y.push.apply(y,c("UFICommentFilters").getAuthors(E));this.$UFIController41(w,B,E)}.bind(this));if(u)y.push.apply(y,c("UFIFeedbackFilters").getRequestedIDs(u));var z=c("UFILivePinnedCommentStore").getPinnedCommentAuthorID(this.$UFIController2.ftentidentifier);if(z)y.push(z);if(u&&u.acceptedanswer){var A=c("UFIComments").getComment(u.acceptedanswer);if(A&&A.author)y.push(A.author)}Object.assign(this.authorProfiles,c("ShortProfiles").getMultiNow(y))};r.prototype.$UFIController36=function(s,t,u){__p&&__p();var v=c("UFIFeedbackTargets").getFeedbackTargetIfExists(this.$UFIController2.ftentidentifier);if(!v){var w=new Error(c("ex")("Feedback target %s not present while rendering UFI with source %s",this.$UFIController2.ftentidentifier,s));w.type="warn";c("ErrorUtils").reportError(w,true);return}this.$UFIController10.feedback=v;if(m(s))this.render();if(this.canRenderHeader())this.renderHeader(v);if(!this.$UFIController10.isHidden)if(s===c("FeedbackPayloadSourceType").INITIAL_SERVER){this.$UFIController39(s,u);this.$UFIController3.dispatch(c("UFIStoryAction").commentsArrived(this.$UFIController2,this.getRange(u).getOffset(),this.comments[u].length,s,u))}else this.fetchAllComments(s,t,u).done(function(){return this.$UFIController3.dispatch(c("UFIStoryAction").commentsArrived(this.$UFIController2,this.getRange(u).getOffset(),this.comments[u].length,s,u))}.bind(this))};r.prototype.fetchAllComments=function(s,t,u){__p&&__p();return c("Promise").resolve().then(function(){return this.fetchCommentsForFeedbackTarget(s,t,u).then(function(v){var w=c("UFICommentFilters").getAuthors(v);if(!this.$UFIController10.feedback||!this.$UFIController10.feedback.isthreaded||!v.length)return w;return this.fetchAllReplyIDsForComments(v,s,t).then(function(x){return w.concat(x)})}.bind(this)).then(function(v){if(!this.$UFIController10.feedback)return[];return c("UFIFeedbackFilters").getRequestedIDs(this.$UFIController10.feedback).concat(v)}.bind(this))}.bind(this)).then(function(v){var w=this.$UFIController10.feedback,x=c("UFILivePinnedCommentStore").getPinnedCommentAuthorID(this.$UFIController2.ftentidentifier);if(x)v.push(x);if(w&&w.acceptedanswer){var y=c("UFIComments").getComment(w.acceptedanswer);if(y&&y.author)v.push(y.author)}return c("UFIFetcher").fetchShortProfiles(v)}.bind(this)).then(function(v){Object.assign(this.authorProfiles,v)}.bind(this))};r.prototype.fetchCommentsForFeedbackTarget=function(s,t,u){var v=this.getToplevelCommentList(u).getCommentCount(),w=this.getNewRange(s,this.$UFIController2,v,u);return c("UFIFetcher").fetchComments(this.getToplevelCommentList(u),w,this.$UFIController37(t,u)).then(function(x){this.$UFIController40(w,x,u);return x}.bind(this))};r.prototype.$UFIController40=function(s,t,u){__p&&__p();var v=this.getToplevelCommentList(u),w=this.$UFIController2.ftentidentifier,x=this.$UFIController10,y=x.deletedCounts,z=x.canAddCommentMap,A=x.canReplyMap,B=x.commentPermalinks;this.replaceRange(s,u);this.comments[u]=t;if(u===c("CommentSection").DEFAULT)this.commentCounts[w]=v.getCommentCount();else this.privateCommentsCount=v.getCommentCount();y[w]=v.getDeletedCount();z[w]=!this.$UFIController10.featuredCommentLists[w];t.forEach(function(C){var D=C.id,E=C.cancomment;A[D]=E;B[D]=v.getPermalinkForComment(D);this.commentsToSection[D]=u}.bind(this));y[w]=v.getDeletedCount();z[w]=!this.$UFIController10.featuredCommentLists[w]};r.prototype.fetchRepliesForComment=function(s,t,u){var v=s.id,w=this.getReplyCommentList(v).getCommentCount(),x=this.getNewReplyRange(t,s,w);return c("UFIFetcher").fetchComments(this.getReplyCommentList(v),x,this.$UFIController38(v,u)).then(function(y){this.$UFIController41(x,s,y);return y}.bind(this))};r.prototype.$UFIController41=function(s,t,u){__p&&__p();var v=t.id,w=this.getReplyCommentList(v),x=this.$UFIController10,y=x.deletedCounts,z=x.canAddCommentMap,A=x.featuredCommentLists,B=x.defaultRepliesExpandedMap,C=x.feedback,D=x.canReplyMap,E=x.commentPermalinks;this.replaceReplyRange(v,s);this.repliesMap[v]=u;this.commentCounts[v]=w.getCommentCount();y[v]=w.getDeletedCount();z[v]=!A[v];B[v]=this.$UFIController35(C,t,u.length);u.forEach(function(F){var G=F.id,H=F.cancomment;D[G]=H;E[G]=w.getPermalinkForComment(G)})};r.prototype.fetchAllReplyIDsForComments=function(s,t,u){var v=new(c("Promise").all)(s.map(function(w){return this.fetchRepliesForComment(w,t,u).then(function(x){return c("UFICommentFilters").getAuthors(x)})}.bind(this)));return v.then(c("flattenArray"))};r.prototype.getToplevelCommentList=function(s){var t=this.$UFIController2;if(this.$UFIController10.featuredCommentLists[t.ftentidentifier])return this.$UFIController10.featuredCommentLists[t.ftentidentifier];if(c("UFIOrderingModeStore").isLiveStreaming(this.$UFIController2.instanceid))return c("UFIToplevelStreamedCommentList").getCommentList(t.ftentidentifier,t.islivestreaming?c("UFIToplevelStreamedCommentList").GLOBAL_ID:t.instanceid);var u=this.getOrderingMode(s);return c("UFIToplevelPagedCommentList").getCommentList(t.ftentidentifier,u,s)};r.prototype.getReplyCommentList=function(s){if(s in this.$UFIController10.featuredCommentLists)return this.$UFIController10.featuredCommentLists[s];var t=this.commentsToSection[s]||c("CommentSection").DEFAULT,u=this.getOrderingMode(t);return c("UFIReplyCommentList").getCommentList(this.$UFIController2.ftentidentifier,s,u)};r.prototype.getRange=function(s){var t=this.getOrderingMode(s);this.ranges[s]=this.ranges[s]||{};if(!(t in this.ranges[s])){var u=this.getToplevelCommentList(s).getCommentCount(),v=Math.min(u,this.$UFIController2.defaultNumCommentsToExpand);this.ranges[s][t]=new(c("UFIRange"))(u-v,v)}return this.ranges[s][t]};r.prototype.replaceRange=function(s,t){var u=this.getOrderingMode(t);this.ranges[t]=this.ranges[t]||{};this.ranges[t][u]=s};r.prototype.getReplyRange=function(s){if(!(s in this.replyRanges))this.replyRanges[s]=new(c("UFIRange"))();return this.replyRanges[s]};r.prototype.replaceReplyRange=function(s,t){this.replyRanges[s]=t};r.prototype.$UFIController17=function(){this.$UFIController6=true;this.$UFIController24();this.$UFIController42()};r.prototype.$UFIController42=function(){__p&&__p();this.$UFIController43();this.$UFIController44();this.$UFIController22();this.$UFIController45();this.$UFIController46();this.$UFIController47();this.$UFIController48();if(this.onUnloadSubscription)this.onUnloadSubscription.remove();c("UFISharedDispatcher").dispatch(c("UFIInstanceAction").remove(this.$UFIController2))};r.prototype.$UFIController20=function(){this.$UFIController22()};r.prototype.$UFIController48=function(){var s=this.$UFIController2;c("UFIPlayLiveVODHighlightsAdapter").stop(s.instanceid)};r.prototype.$UFIController47=function(){var s=this.$UFIController2;c("UFICommercialBreakAdapter").stop(s.instanceid)};r.prototype.$UFIController46=function(){var s=this.$UFIController2;c("UFIVODStreamingComments").stop(s.ftentidentifier,s.instanceid)};r.prototype.$UFIController43=function(){this.ufiCentralUpdatesSubscriptions.forEach(function(s){return s&&c("UFICentralUpdates").unsubscribe(s)})};r.prototype.$UFIController44=function(){this.$UFIController1&&this.$UFIController1.release()};r.prototype.$UFIController22=function(){this.$UFIController7&&this.$UFIController7.release()};r.prototype.$UFIController45=function(){if(this.$UFIController12){this.$UFIController12.release();this.$UFIController12=null}this.$UFIController9.forEach(function(s){return c("UFISharedDispatcher").unregister(s)})};r.prototype.$UFIController32=function(){var s=this.$UFIController2;return c("React").createElement(c("UFIDispatcherContext.react"),{dispatcher:this.$UFIController3,stores:this.$UFIController11},c("React").createElement(c("StaticUFI.react"),{feedback:this.$UFIController10.feedback,id:this.$UFIController2.ftentidentifier,contextArgs:s,commentCounts:this.commentCounts,loadingComments:true}))};r.prototype.shouldShowCommentOrderingModeSelector=function(s){var t=this.getToplevelCommentList(c("CommentSection").DEFAULT).getCommentCount()||s.commentcount||0;return s.orderingmodes&&t>=c("UFIConstants").minCommentsForOrderingModeSelector&&!this.$UFIController10.featuredCommentLists[this.$UFIController2.ftentidentifier]};f.exports=r}),18);
__d("UFIMentionsInputProxy.react",["cx","Promise","JSResource","JSResourceReference","React","emptyFunction","setImmediate"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").createClass({displayName:"UFIMentionsInputProxy",_cmdBuffer:[],getInitialState:function j(){return{component:null,viewComponent:null}},componentDidMount:function j(){this._cmdBuffer=this._cmdBuffer||[];if(this.props.initialData)this._bootload()},componentDidUpdate:function j(){if(this.state.component)this._drainFnBuffer()},hasEnteredText:function j(){return this._fillCmdBuffer({fn:"hasEnteredText",args:[]})},getText:function j(){return this._fillCmdBuffer({fn:"getText",args:[]})},focus:function j(){this._bootload();this._fillCmdBuffer({fn:"focus",args:[]})},submitComment:function j(event,k){this._fillCmdBuffer({fn:"submitComment",args:[event,k]})},insertMention:function j(k){this._fillCmdBuffer({fn:"insertMention",args:[k]})},insertEmoticon:function j(k){this._fillCmdBuffer({fn:"insertEmoticon",args:[k]})},insertEmoji:function j(k){this._fillCmdBuffer({fn:"insertEmoji",args:[k]})},_bootload:function j(){c("Promise").all([c("JSResource")("UFIMentionsInput.react").__setRef("UFIMentionsInputProxy.react").load(),new(c("Promise"))(function(k){if(this.props.viewComponent instanceof c("JSResourceReference"))this.props.viewComponent.load().done(k);else k(this.props.viewComponent)}.bind(this))]).done(function(k){var l=k[0],m=k[1];if(this.isMounted())this.setState({component:l,viewComponent:m})}.bind(this))},_shouldDrainBuffer:function j(){return this._cmdBuffer.length>0},_fillCmdBuffer:function j(k){if(this.refs.mentionsinputchild)return this._execCmd(k);else this._cmdBuffer=this._cmdBuffer.concat([k])},_drainFnBuffer:function j(){if(this._shouldDrainBuffer()){var k=this._cmdBuffer[0];this._execCmd(k);this._cmdBuffer=this._cmdBuffer.slice(1);c("setImmediate")(this._drainFnBuffer)}},_execCmd:function j(k){var l=this.refs.mentionsinputchild;return l[k.fn].apply(l,k.args)},_renderProxyInput:function j(){var k="_1osa mentionsHidden";return c("React").createElement("input",{className:k,name:"add_comment_text",ref:"proxyInput",onFocus:this.focus})},_renderDummy:function j(){var k="UFIAddCommentInput _1osb _1osc _2xww";return c("React").createElement("div",{onClick:this.focus,className:"_2xwx",onFocus:this.focus,onMouseOver:this._bootload,role:"presentation"},c("React").createElement("div",{className:k},this._renderProxyInput(),this.props.placeholder))},render:function j(){var k=this.state.component;if(!k)return this._renderDummy();return c("React").createElement(k,babelHelpers["extends"]({key:"mentionsinputchild",ref:"mentionsinputchild"},this.props,{viewComponent:this.state.viewComponent}),this.props.children)}});f.exports=i}),null);
__d("LitestandClassicPlaceHolders",[],(function a(b,c,d,e,f,g){var h={},i={register:function j(k,l){h[k]=l},destroy:function j(k){var l=h[k];if(l){l.parentNode.removeChild(l);delete h[k]}}};f.exports=i}),18);
__d("LitestandClassicRHC",["Arbiter","BigPipe","DOMQuery","NavigationMessage","Run","SubscriptionsHandler","requireWeak"],(function a(b,c,d,e,f,g){__p&&__p();function h(j,k){__p&&__p();var l=new(c("SubscriptionsHandler"))(),m=l.release.bind(l),n=c("DOMQuery").scry(j,".pagelet"),o=n.length;l.addSubscriptions(k.subscribe(n.map(function(p){return p.id+"_displayed"}),function(){if(--o===0){c("Arbiter").inform("LitestandClassicRHC/loaded");m()}}),c("Arbiter").subscribe(c("NavigationMessage").NAVIGATION_BEGIN,m),k.subscribeOnce(c("BigPipe").Events.displayed,function(){c("Arbiter").inform("LitestandClassicRHC/loaded");m()}));c("Run").onLeave(m)}var i={init:function j(k){c("requireWeak")("BigPipe",function(l){var m=l.getCurrentInstance();if(m&&m.arbiter)h(k,m.arbiter);else c("Arbiter").subscribeOnce("BigPipe/init",function(event,n){h(k,n.arbiter)},c("Arbiter").SUBSCRIBE_NEW)})}};f.exports=i}),18);
__d("tidyEvent",["Run"],(function a(b,c,d,e,f,g){__p&&__p();var h=[];function i(){while(h.length){var l=h.shift();l&&l.remove?l.remove():l.unsubscribe()}}function j(l){__p&&__p();var m;function n(){if(!m)return;m.apply(l,arguments);m=null;l=null}if(l.remove){m=l.remove;l.remove=n}else{m=l.unsubscribe;l.unsubscribe=n}return l}function k(l){if(!h.length)c("Run").onLeave(i);if(Array.isArray(l))for(var m=0;m<l.length;m++)h.push(j(l[m]));else h.push(j(l));return l}f.exports=k}),null);
__d("str2rstr",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i){__p&&__p();var j="",k,l;for(var m=0;m<i.length;m++){k=i.charCodeAt(m);l=m+1<i.length?i.charCodeAt(m+1):0;if(55296<=k&&k<=56319&&56320<=l&&l<=57343){k=65536+((k&1023)<<10)+(l&1023);m++}if(k<=127)j+=String.fromCharCode(k);else if(k<=2047)j+=String.fromCharCode(192|k>>>6&31,128|k&63);else if(k<=65535)j+=String.fromCharCode(224|k>>>12&15,128|k>>>6&63,128|k&63);else if(k<=2097151)j+=String.fromCharCode(240|k>>>18&7,128|k>>>12&63,128|k>>>6&63,128|k&63)}return j}f.exports=h}),null);